!function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);for(u&&u(e);m.length;)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={"app~748942c6":0},r=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/msig/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"vendors~app~253ae210","vendors~app~7274e1de","vendors~app~db300d2f","vendors~app~a3a1eefd","vendors~app~73914085","vendors~app~7d359b94","vendors~app~9c5b28f6","vendors~app~ec8c427e"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"0ba2":function(t,e,n){"use strict";n("e976")},"0bf2":function(t,e,n){"use strict";n("e9d0")},1:function(t,e){},10:function(t,e){},11:function(t,e){},"11d6":function(t,e,n){"use strict";n("22d0")},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},1890:function(t,e,n){"use strict";n("db82")},2:function(t,e){},"22d0":function(t,e,n){},2581:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ChainModel}));var _home_david_msig_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1"),_home_david_msig_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d4ec"),_home_david_msig_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bee2"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4795"),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4160"),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("c975"),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15__),eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("cd2e"),eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16__),_store__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("4360"),scatterjs_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("76b0"),scatterjs_core__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(scatterjs_core__WEBPACK_IMPORTED_MODULE_18__),scatterjs_plugin_eosjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("876a"),scatterjs_plugin_eosjs__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(scatterjs_plugin_eosjs__WEBPACK_IMPORTED_MODULE_19__),_anchor__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("2d94"),axios__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_21__);scatterjs_core__WEBPACK_IMPORTED_MODULE_18___default.a.plugins(new scatterjs_plugin_eosjs__WEBPACK_IMPORTED_MODULE_19___default.a);var scatterConnected=!1,scatappOnline=!1,maxFrequency=20,nowFrequency=0,mobileWalletFrequency=0,model=function(){function model(){Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,model),this.vthis=null,this.scatter=null,this.scatterEosJs=null,this.accountByScatter=null,this.chainName="eos",this.env="production",this.scatapp=null,this.EosJs=null,this.EosJsUse=null,this.network=null,this.eosOptions=null,this.toAccountJin=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.sys.baseConfig.toAccountJin,this.toAccountSwap=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.sys.baseConfig.toAccountSwap,this.actor="production"===this.env?"111.3":"11111111aaaa",this.wallet=(localStorage.getItem("WALLET")||"scatter").toLowerCase()}var _toTransaction,_getCurrencyBalance,_getAccount,_getTableRows,_transfer,_getIdentity,_chainNodeInit;return Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(model,[{key:"getToAccount",value:function(){this.toAccountJin=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.sys.baseConfig.toAccountJin,this.toAccountSwap=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.sys.baseConfig.toAccountSwap}},{key:"vueThisInit",value:function(t,e){this.vthis=t,this.chainName=e}},{key:"scatterInit",value:function(t,e){var n=this,s=this;if(this.wallet=(localStorage.getItem("WALLET")||"scatter").toLowerCase(),s.vthis=t,"anchor"===this.wallet)return _anchor__WEBPACK_IMPORTED_MODULE_20__.a.init(e),this.scatter=_anchor__WEBPACK_IMPORTED_MODULE_20__.a,void(this.scatterEosJs=_anchor__WEBPACK_IMPORTED_MODULE_20__.a);this.scatapp=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.app.scatter||{},this.chainName=this.scatapp.chain||"eos",scatterConnected?e():scatterjs_core__WEBPACK_IMPORTED_MODULE_18___default.a.scatter.connect("jin-network.hodls.cn").then(function(){var t=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(scatterConnected=a,a){t.next=8;break}return(nowFrequency+=1)>maxFrequency&&n.storeAccountOut(n.scatapp),n.scatapp.online=!1,sessionStorage.setItem("scatterInstall",0),setTimeout((function(){s.scatterInit(s.vthis,e)}),500),t.abrupt("return",!1);case 8:scatappOnline=!0,sessionStorage.setItem("scatterInstall",1),s.scatter=scatterjs_core__WEBPACK_IMPORTED_MODULE_18___default.a.scatter,window.scatter=null,window.ScatterJS=null,s.scatapp.online=!0,"Scatter";try{s.scatapp.scatterFrom="Scatter",s.initNext(),e()}catch(t){s.scatapp.scatterFrom="Scatter",s.initNext(),e()}case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"initNext",value:function(){if(!this.scatter||this.scatter.identity)this.scatapp&&this.scatapp.identity&&(this.accountByScatter=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.app.scatter.identity.accounts[0]);else if("Scatter"===this.scatapp.wallet){var t=this.scatapp;t.identity=null,t.wallet="",t.chain="eos",this.accountByScatter=null}}},{key:"chainNodeInit",value:(_chainNodeInit=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e){var n,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(n=e||"eos").toLowerCase(),s=this.returnChainInfo(n),this.scatter=scatterjs_core__WEBPACK_IMPORTED_MODULE_18___default.a.scatter,a=eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16___default()({httpEndpoint:s.url,chainId:s.chainId,verbose:!1}),"eos"===n&&(this.EosJsUse=a),this.network={blockchain:"eos",protocol:s.protocol,host:s.host,port:s.port,chainId:s.chainId},this.eosOptions={broadcast:!0,sign:!0,chainId:s.chainId},n===this.chainName&&(this.EosJs=a),!this.scatter||!this.scatter.identity){t.next=14;break}return t.next=13,this.scatter.eos(this.network,eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16___default.a,this.eosOptions);case 13:this.scatterEosJs=t.sent;case 14:case"end":return t.stop()}}),t,this)}))),function(t){return _chainNodeInit.apply(this,arguments)})},{key:"returnChainInfo",value:function(){return _store__WEBPACK_IMPORTED_MODULE_17__.a.state.sys.baseConfig.node}},{key:"getIdentity",value:(_getIdentity=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s,a,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=this,"anchor"!==this.wallet){t.next=4;break}return _anchor__WEBPACK_IMPORTED_MODULE_20__.a.getIdentity((function(t){r.conserveAccount(t,n)})),t.abrupt("return");case 4:return this.chainName=e.toLowerCase(),t.next=7,this.chainNodeInit(this.chainName);case 7:if(a={accounts:[this.network]},this.scatter){t.next=11;break}return this.scatterInit(this.vthis,(function(){})),t.abrupt("return");case 11:this.scatter.getIdentity(a).then((function(t){var e={identity:t,wallet:"Scatter",chain:r.chainName};r.scatterEosJs=r.scatter.eos(r.network,eosjs_without_sort__WEBPACK_IMPORTED_MODULE_16___default.a,r.eosOptions),r.conserveAccount(e,n)})).catch((function(t){return s.vthis.loading&&(s.vthis.loading=!1),n(t),423===t.code?(s.vthis.$confirm(s.vthis.$t("public.scatterlouck"),s.vthis.$t("public.reTip"),{confirmButtonText:s.vthis.$t("public.louckOk"),cancelButtonText:s.vthis.$t("public.louckCancel"),type:"warning"}).then((function(){s.getIdentity(r.chainName,n)})).catch((function(){n("cancel")})),!1):(r.errorCall(t,(function(t){s.vthis.$message.error("".concat(t.message," ").concat(t.code))})),"")}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return _getIdentity.apply(this,arguments)})},{key:"conserveAccount",value:function(t,e){var n=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.app.scatter;this.accountByScatter=t.identity.accounts[0];var s=t.identity,a=void 0===s?null:s,r=t.wallet,o=t.chain,i=t.online,c=void 0===i||i;n.identity=a,n.wallet=r,n.chain=o,n.online=c,localStorage.setItem("Frontend-Token","");var l={name:this.accountByScatter.name,permissions:this.accountByScatter.authority,publicKey:this.accountByScatter.publicKey};_store__WEBPACK_IMPORTED_MODULE_17__.a.dispatch("setAccount",l),e()}},{key:"accountLoginOut",value:function(t){var e=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.app.scatter;if(this.scatter&&this.scatter.identity)return this.scatter.forgetIdentity().then((function(){return t()})),void this.storeAccountOut(e);this.storeAccountOut(e),t()}},{key:"storeAccountOut",value:function(t){t&&t.identity&&(t.wallet="",t.identity=null,t.chain="eos",t.online=!1,t.by="",localStorage.setItem("Frontend-Token",""),this.accountByScatter=null)}},{key:"handleUseFreeCpu",value:function(t,e){var n=this;console.log(t);t.actions.forEach((function(t){t.authorization.unshift({actor:"11111cpufree",permission:"active"})})),this.scatterEosJs.transaction(t,{broadcast:!1,sign:!0}).then((function(t){if(t.processed||t.transaction_id){var s=t,a=s.transaction.transaction;a.signatures=s.transaction.signatures,a.context_free_data=[];var r=a;n.pushFreeCpu(r,(function(t,s){s?e(s):n.errorCall(t,e)}))}})).catch((function(t){n.errorCall(t,e)}))}},{key:"pushFreeCpu",value:function(t,e){axios__WEBPACK_IMPORTED_MODULE_21___default.a.post("http://47.243.71.86:7001/api/common/freeCpu",t,{headers:{accept:"application/json, text/plain, */*"}}).then((function(t){if(0===t.data.code)e(null,t.data);else{var n=t.data.message;e(n,null)}})).catch((function(t){console.log(t)}))}},{key:"transfer",value:(_transfer=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s,a,r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=this.accountReset(),a=this.accountByScatter.authority,r=e.quantity,o={actions:[{account:e.code,name:"transfer",authorization:[{actor:s,permission:a}],data:{from:s,to:e.toAccount,quantity:r,memo:e.memo}}]},this.scatterEosJs){t.next=7;break}return t.next=7,this.chainNodeInit(this.chainName);case 7:this.scatterEosJs.transaction(o,{blocksBehind:3,expireSeconds:30}).then(n).catch((function(t){i.errorCall(t,n)}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return _transfer.apply(this,arguments)})},{key:"getTableRows",value:(_getTableRows=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e,this.EosJsUse){t.next=4;break}return t.next=4,this.chainNodeInit("eos");case 4:this.EosJsUse.getTableRows(s).then((function(t){n(t)})).catch((function(t){console.log(t)}));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return _getTableRows.apply(this,arguments)})},{key:"getAccount",value:(_getAccount=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e,this.EosJsUse){t.next=4;break}return t.next=4,this.chainNodeInit("eos");case 4:this.EosJsUse.getAccount(s).then((function(t){n(t)})).catch((function(t){console.log(t)}));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return _getAccount.apply(this,arguments)})},{key:"getCurrencyBalance",value:(_getCurrencyBalance=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s={code:e.code,symbol:e.coin,account:e.account||this.accountReset()},this.EosJs){t.next=4;break}return t.next=4,this.chainNodeInit(this.chainName||"eos");case 4:this.EosJs.getCurrencyBalance(s).then((function(t,s){n(t?t[0]:"".concat(Number(0).toFixed(e.decimal)," ").concat(e.coin))})).catch((function(t){}));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return _getCurrencyBalance.apply(this,arguments)})},{key:"accountReset",value:function(){var t=_store__WEBPACK_IMPORTED_MODULE_17__.a.state.app.scatter.identity;return t?(this.accountByScatter=t.accounts[0],this.accountByScatter.name):""}},{key:"rexActions",value:function(t,e){this.getToAccount();var n=this.accountReset(),s=this.accountByScatter.authority,a=t.amount,r={actions:[{account:"eosio",name:"voteproducer",authorization:[{actor:n,permission:s}],data:{voter:n,proxy:t.proxy||"dfsbpsproxy1",producers:[]}}]};if("buyRex"===t.type){var o,i=[{account:"eosio",name:"deposit",authorization:[{actor:n,permission:s}],data:{owner:n,amount:a}},{account:"eosio",name:"buyrex",authorization:[{actor:n,permission:s}],data:{from:n,amount:a}}];(o=r.actions).push.apply(o,i)}else{var c,l=[{account:"eosio",name:"sellrex",authorization:[{actor:n,permission:s}],data:{from:n,rex:t.rex}},{account:"eosio",name:"withdraw",authorization:[{actor:n,permission:s}],data:{owner:n,amount:t.getEos}}];(c=r.actions).push.apply(c,l)}console.log(r),this.toTransaction(r,e)}},{key:"toTransaction",value:(_toTransaction=Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(regeneratorRuntime.mark((function t(e,n){var s,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e,this.scatterEosJs){t.next=4;break}return t.next=4,this.chainNodeInit(this.chainName);case 4:this.scatterEosJs.transaction(s,{blocksBehind:3,expireSeconds:30}).then(n).catch((function(t){a.errorCall(t,n)}));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return _toTransaction.apply(this,arguments)})},{key:"handleScatterErrorBack",value:function handleScatterErrorBack(res){if(res.code||res.error){var code=res.code;if(500===code&&res.error&&(code=res.error.code),res.error&&res.error.details&&res.error.details.length>0&&3080001!==code&&3080002!==code&&3080004!==code&&3040005!==code){var errorDetails=res.error.details[0].message.split(":")[1]||res.error.details[0].message;if(errorDetails&&errorDetails.indexOf("your orders has exceeded")>=0){var arr=errorDetails.trim().split(" "),amount=arr[arr.length-2];return void this.vthis.$message.error("".concat(this.vthis.$t("tronExchange.entrustmentTip3",{amount:amount})))}return" no account found"===errorDetails?void this.vthis.$message.error(this.vthis.$t("usn.usn451")):void this.vthis.$message.error("".concat(errorDetails,"【").concat(code,"】"))}switch(code){case 3080001:this.vthis.$message.error("".concat(this.vthis.$t("error.error3080001"),"【").concat(code,"】"));break;case 3080002:this.vthis.$message.error("".concat(this.vthis.$t("error.error3080002"),"【").concat(code,"】"));break;case 3080004:this.vthis.$message.error("".concat(this.vthis.$t("error.error3080004"),"【").concat(code,"】"));break;case 3040005:this.vthis.$message.error("".concat(this.vthis.$t("error.error3040005"),"【").concat(code,"】"));break;case 3050003:this.vthis.$message.error("".concat(this.vthis.$t("error.error3050003"),"【").concat(code,"】"));break;default:if(res.code&&res.message)return void this.vthis.$message.error("".concat(res.message," 【").concat(res.code,"】"));this.vthis.$message.error("".concat(res.message," 【").concat(code,"】"))}}else if(res.data&&500===res.data.code&&"string"==typeof res.data.message){var fjres=eval("("+res.data.message+")");this.handleScatterErrorBack(fjres)}else this.vthis.$message.error("Unknow Error!【".concat(res,"】"))}},{key:"errorCall",value:function(t,e){var n={code:"0001",message:JSON.stringify(t)};try{if("object"===Object(_home_david_msig_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(t)&&402===t.code&&(n={code:402,message:this.vthis.$t("error.cancel")}),"string"==typeof t){var s=JSON.parse(t);if(3080004===s.error.code&&(n={code:3080004,message:this.vthis.$t("error.insufficient",{res:"CPU"})}),3080002===s.error.code&&(n={code:3080002,message:this.vthis.$t("error.insufficient",{res:"NET"})}),3080001===s.error.code&&(n={code:3080001,message:s.error.details[0].message}),3080006===s.error.code&&(n={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var a=s.error.details;n=-1!==a[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:this.vthis.$t("dex.heightSlip")}:-1!==a[0].message.indexOf("Invalid packed transaction")?{code:402,message:this.vthis.$t("error.cancel")}:{code:s.error.code,message:a[0].message}}}e(n)}catch(s){"操作已取消"===t&&(n={code:402,message:this.vthis.$t("error.cancel")}),e(n)}}}]),model}(),ChainModel=new model,model2=model,EosModel=new model},"26f3":function(t,e,n){"use strict";n("af8c")},"2bf8":function(t,e,n){},"2d94":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var s=n("53ca"),a=n("1da1"),r=n("d4ec"),o=n("bee2"),i=(n("96cf"),n("9911"),n("d3b7"),n("b0c0"),n("c975"),n("a062")),c=n("86cd"),l=n("4360"),u=new(function(){function t(){Object(r.a)(this,t),this.transport=null,this.link=null,this.vthis=null}var e;return Object(o.a)(t,[{key:"scatterInit",value:function(t,e){this.vthis=t,this.transport=new c.a,this.link=new i.h({transport:this.transport}),e()}},{key:"loginOut",value:function(t){this.transport=null,this.link=null,this.vthis=null,this.scatterInit(this.vthis,t)}},{key:"login",value:(e=Object(a.a)(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.link.login("apps.defis.network");case 2:n=t.sent,s={name:n.account.account_name,permissions:n.account.permissions[0].perm_name,publicKey:n.account.publicKey},l.a.dispatch("setAccount",s),e(s);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"transaction",value:function(t){var e=this;return new Promise((function(n,s){e.link.transact(t).then((function(t){n(t)}),(function(t){s(t)}))}))}},{key:"transfer",value:function(t,e){var n=this,s=l.a.state.app.account,a=s.name,r=s.permissions,o=t.quantity,i={actions:[{account:t.code,name:"transfer",authorization:[{actor:a,permission:r}],data:{from:a,to:t.toAccount,quantity:o,memo:t.memo}}]};this.transaction(i).then((function(t){e(null,t)})).catch((function(t){n.errorCall(t,e)}))}},{key:"toTransaction",value:function(t,e){var n=t,s=this;s.transaction(n,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){s.errorCall(t,e)}))}},{key:"errorCall",value:function(t,e){var n={code:"0001",message:JSON.stringify(t)};try{if("object"===Object(s.a)(t)&&402===t.code&&(n={code:402,message:this.vthis.$t("error.cancel")}),"string"==typeof t){var a=JSON.parse(t);if(3080004===a.error.code&&(n={code:3080004,message:this.vthis.$t("error.insufficient",{res:"CPU"})}),3080002===a.error.code&&(n={code:3080002,message:this.vthis.$t("error.insufficient",{res:"NET"})}),3080001===a.error.code&&(n={code:3080001,message:a.error.details[0].message}),3080006===a.error.code&&(n={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===a.error.code||3010010===a.error.code){var r=a.error.details;n=-1!==r[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:this.vthis.$t("dex.heightSlip")}:-1!==r[0].message.indexOf("Invalid packed transaction")?{code:402,message:this.vthis.$t("error.cancel")}:{code:a.error.code,message:r[0].message}}}e(n)}catch(s){"操作已取消"===t&&(n={code:402,message:this.vthis.$t("error.cancel")}),e(n)}}}]),t}())},3:function(t,e){},"365c":function(t,e,n){"use strict";n.r(e);n("4160"),n("159b"),n("d3b7"),n("ddb0");var s=n("9f19");t={};s.keys().forEach((function(e){"./index.js"!==e&&"./axios.js"!==e&&Object.assign(t,s(e))})),e.default=t},"3c3d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKAElEQVR4Xu2dPYtdVRSG9+H+AoN26bRQQcHCiJDCxoB/YDq7ZPYNFyziF3YpRZPGYriXQCqxiT/AShFRSKWNjZgqFlEwjWiTjEcmJjET52OtdfY+Z+2zHlvX2ufs5z0PA77M2CX+gQAEDiXQwQYCEDicAILwdUDgCAIIwucBAQThG4CAjQA/QWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGoGlBNpvN2ZTSSdvVq27dzjl/UvUJFQ+/evXqU3fu3FlVfITl6J9yzp9ZFofsNC3Ier2+3nXdqSEAKu3eyDk/U+nsqsduNpsnU0rfpJSerfog3eG/3r179+XVanVTtzZ8GkGGMzzohCYFcSrHH13Xvbq9vf1jnaiOPhVB6lBvThCPcvR9f7fv+9fOnz//bZ2Yjj8VQY5nZJloShCPcqSU+r7vt5bL5eeWAErtIEgpkvvPaUYQp3Ls2bFaLpc7deKRn9q0IJvNZg/g88LrPj3if/FqQpD7/7Xq65TSc0KGY419mHP+YKyHHfWcpgXRAFyv15e7rrug2Rkw614Qrz85Ukqf5pzfHMC+6CqCFMX58DDXgniVo+/7L2/duvX6xYsX/64Ti/5UBNEzk2y4FcSxHN93XXc65/yXBPBYMwhSh7RLQbzKkVK6sVgsTp09e/Z2nTjspyKInd1Rm+4EcSzHZC25JHoEkVDSz7gSxLEck7bkklgRREJJP+NGEK9yeGjJJbEiiISSfsaFIF7l8NKSS2JFEAkl/czkgjiWw01LLokVQSSU9DOTCuJZjpTSRznn9/VIp9lAkDrcJxPEuRyuWnJJ9AgioaSfmUQQz3J4bMklsSKIhJJ+ZnRBnMvhsiWXxIogEkr6mVEF8SyH55ZcEiuCSCjpZ0YTxLkcrltySawIIqGknxlFEOdyuG/JJbEiiISSfqa6IDs7O08sFovvnP31kXukWmnJJbEiiISSfqaqIPfl2PtNwBf0r1Z9w8Xvkpe6JYKUIrn/nGqCOJejqZZcEj2CSCjpZ6oI4l2O1lpySawIIqGknykuSANyNNeSS2JFEAkl/UxRQbzL0WpLLokVQSSU9DPFBGlAjmZbckmsCCKhpJ8pIoh3OVpvySWxIoiEkn5msCANyNF8Sy6JFUEklPQzgwRpQI4/u657Zaq/uK6Pw76BIHZ2R22aBfEux15L3nXdmZzzV3XQ+ToVQerkYRLEuxwt/S55qVgRpBTJgU16A3LMriWXRI8gEkr6GdVPkBbkmGNLLokVQSSU9DNiQRqR41rOeUuPof0NBKmToUiQFuTYa8lPnDhxZmtra7cOKt+nIkidfI4VpBE5Zt2SS6JHEAkl/cyRgrQgR4SWXBIrgkgo6WcOFaQROUK05JJYEURCST9zoCCNyBGmJZfEiiASSvqZ/wnSghzRWnJJrAgioaSf2SdIC3JEbMklsSKIhJJ+5qEgjcgRsiWXxIogEkr6mXuCtCJHSunjnPN7+mvOfyOMIJvN5lJK6e2RIv15d3f31GKx8PqneR7FELYll3wLCCKhpJzp+/5W13W/pZReVK6OOt73/RfL5fKNUR/a2MPCCLJery93XXehsXyqvW7f9+FbcglcBJFQmt+M2/8vuTfUCOItkfrvQ0uuYIwgClgzGKUlV4aIIEpgrY7TktuSQxAbt9a2ZvUX18eEjyBj0p7oWX3fr5bL5c5Ej2/6sQjSdHyil6clF2E6eAhBBsBrYJWWfGBICDIQoNf16L9LXioXBClF0tE5tOTlwkCQciy9nERLXjAJBCkI08FRtOSFQ0CQwkAnPI6WvAJ8BKkAdewjacnrEUeQemzHOpmWvCJpBKkId4yjacnrUkaQunxrn05LXpkwglQGXPF4WvKKcB8cjSAjQC79CFry0kQPPw9BxmNd5Em05EUwig9BEDEqF4O05CPHgCAjAx/wOFryAfCsqwhiJTfuHi35uLwfPg1BJgIvfSwtuZRUnTkEqcO11Km05KVIGs9BECO4MdZoycegfPQzEGT6DA58g77vLy2Xy3edvl6Y10IQn1HTkjvJBUGcBPHgNWjJfQWCII7yoCV3FMb9V0EQP5nQkvvJgh7EUxZ93/++u7v70mq1uunpvXiXlPgJMv1XsNeSn97e3v5h+lfhDR4ngCATfhO05BPCFz4aQYSgKozRkleAWvpIBClNVHgeLbkQ1MRjCDJBALTkE0A3PhJBjOAGrNGSD4A39iqCjEiclnxE2IUehSCFQB53DC35cYR8/nsEGScXWvJxOBd/CoIUR7r/QFryyoArH48gdQHTktflW/10BKmEmJa8EtiRj0WQOsBpyetwHf1UBKmAnJa8AtSJjkSQwuBpyQsDnfg4BCkbAC15WZ6Tn4YghSKgJS8E0tkxCFIgEFryAhCdHoEgw4OhJR/O0O0JCDIgGlryAfAaWUUQe1C05HZ2zWwiiCEqWnIDtEZXEEQfHC25nlmzGwiijI6WXAms8XEE0QV4Oef8jm6F6ZYJIIg8PVpyOavZTCKIIEpacgGkmY4gyDHB0pLP9MsXXgtBjgZFSy78kOY6hiCHJEtLPtdPXncvBDmYFy257jua7TSCPBYtLflsv3XTxRBkPzZactNnNN8lBHkkW1ry+X7o1pshyH/kaMmtX9GM9xDk33BpyWf8kQ+5WnhBaMmHfD7z3w0tCC35/D/woTeMLAgt+dCvJ8B+SEFoyQN82YWuGFEQWvJCH0+EY0IJklJ6q+u6MznnryKEyx2HEwgjyGazuZRSup5zvjYcGydEIRBGkCtXrpw8d+7cL1GC5Z5lCIQRpAwuTolGAEGiJc59VQQQRIWL4WgEECRa4txXRQBBVLgYjkYAQaIlzn1VBBBEhYvhaAQQJFri3FdFAEFUuBiORgBBoiXOfVUEEESFi+FoBBAkWuLcV0UAQVS4GI5GAEGiJc59VQQQRIWL4WgEECRa4txXRQBBVLgYjkYAQaIlzn1VBBBEhYvhaAQQJFri3FdFAEFUuBiORgBBoiXOfVUEEESFi+FoBBAkWuLcV0UAQVS4GI5G4B/UC8sFkTYB4wAAAABJRU5ErkJggg=="},4:function(t,e){},"41d3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKKklEQVR4Xu2dz4tf5RWH33fiD+ZmJdidu7rQQgsFnfmOuOimgf4BFTRx112gC9sq7lyKJpsu/AvmOwrprpuuFCk1CqIidCO6sou2UKFIJgSTeSUa4iRmZs45933vPe89j9ucc+49z+c+BHKYMSf+gwAEjiSQYQMBCBxNAEH4OiBwDAEE4fOAAILwDUDARoC/QWzc6ApCAEGCBM2aNgIIYuNGVxACCBIkaNa0EUAQGze6ghBAkCBBs6aNAILYuNEVhACCBAmaNW0EEMTGja4gBBAkSNCsaSOAIDZudAUhgCBBgmZNGwEEsXGjKwgBBAkSNGvaCCCIjRtdQQggSJCgWdNGAEFs3OgKQgBBggTNmjYCCGLjRlcQAggSJGjWtBFAEBs3uoIQQJAgQbOmjQCC2LjRFYQAggQJmjVtBBDExo2uIAQQJEjQrGkjgCA2bnQFIYAgQYJmTRsBBLFxoysIAQQJEjRr2gggiI0bXUEIIEiQoFnTRgBBbNzoCkIAQYIEzZo2Aghi40ZXEAIIEiRo1rQRQBAbN7qCEECQIEGzpo0Agti40RWEAIIECZo1bQQQxMaNriAEECRI0KxpI4AgNm50BSGAIEGCZk0bga4FuXr53O8OUnrEtnq7rpwOvhp29v7c7gltJ5ePfvuT/WsPnm/7FN30vFE+G7bXe7qu8dVdC7J/+ewHKeet8RgqTyjpi2Fn99HKUycZVz589uGr32z8PeX82CQPFDykpPKfvHHjyWHrrS8F5VVLEKQqzlvDOhXEoxyppK9Pnbqx8+DWm/9sEdVJMxHkJEKWP+9QEJ9ylOsppV8NO+t/WGKo0YMgNSjePaMzQVzKkUpJKT0zrNZ/aRGRdCaCSElp6joSxKccKZVUzp9erd/QYG9R27kg524C/JkITC4/TSlP8y9enQhy61+r3s05PS5iOFlReXVYrV+e7HHHPKhrQTQA9y+fu5hyekHTY67tQBCvf3OkVHaH1fp5M/vKjQhSGeh345wL4leO9Pbm9qO/zvmVgxaxWGYiiIXaST2OBfEqRynp4+H+/z+dn/jr/kl4p/xzBGlB26kgXuW4+TfuZrm2lZ+69FWLOMbMRJAx9I7qdSiIVznmvJJLokcQCSVtjTNBvMox95VcEiuCSChpaxwJ4leO+a/kklgRREJJW+NEELdyOLmSS2JFEAklbY0DQfzK4edKLokVQSSUtDUzC+JZjlTKa8PO+iUt0rnqEaQF+RkFcS2Hsyu5JHoEkVDS1swkiG85/F3JJbEiiISStmYGQTzL4fVKLokVQSSUtDUTC+JZDs9XckmsCCKhpK2ZUBDPcni/kktiRRAJJW3NRIJ4lqOHK7kkVgSRUNLWTCBI+fS5h65eye95+u0jtzGVPq7kklgRREJJW9NYkJty7F/J7+acf659tfb1Pn6WvNaeCFKL5OE5DQXxLUdfV3JJ9AgioaStaSSIdzl6u5JLYkUQCSVtTQNB3MvR4ZVcEiuCSChpayoL4l+OPq/kklgRREJJW1NREO9y9Hwll8SKIBJK2ppKgniXo/cruSRWBJFQ0tZUEMS7HEu4kktiRRAJJW3NSEG8y5FSunJq48b2XL9xXRvHmHoEGUPvqN4RgriXo5TrOZczm6u9d1qg8zYTQVokYhTEvRwd/Sx5rVgRpBbJkZd0/3Is70ouiR5BJJS0Ncq/QXqQY4lXckmsCCKhpK1RCNKFHCldGla7z2gxLKEeQVqkKBSkEzne3ty+dibnSzdaoPI+E0FaJCQQpAc5ln4ll0SPIBJK2poTBOlBjghXckmsCCKhpK05RpAe5IhyJZfEiiASStqaIwTpQY5IV3JJrAgioaStuYcgXcgR7EouiRVBJJS0NXcJ0oUcAa/kklgRREJJW3NIkD7kiHkll8SKIBJK2ppbgvQiR0rl9WG1flG7ZoT6OIK8f/ZCSvkPk4Ra0uebpw+2/P5qnjsohL2SS74FBJFQUtaUlP6dUvpvTukXytZJy0tJfzu9s/ubSR/a2cPiCHL53MWU0wud5dPsdbmSy9AiiIzTsqoc/3/JvYFGEG+JNH4fruQ6wAii49V7dZifJa8VFILUIul9DldyU0IIYsLWW9OyfuP6lPQRZEraMz2rpHL+9Gr9xkyP7/qxCNJ1fJKX50ouoXRUDYKMoee/lyv5yIwQZCRAx+2hf5a8Vi4IUoukozlcyeuFgSD1WPqYxJW8ag4IUhXnvMO4ktfnjyD1mc41kSt5A/II0gDq5CO5kjdDjiDN0E41mCt5S9II0pLuBLO5kreFjCBt+TaezpW8MeCEIK0Jt5vPlbwd29uTEWQCyA0ewZW8AdR7jUSQiUDXegxX8lokZXMQRMbJRxVX8slzQJDJkdseyJXcxm1sF4KMJThNP1fyaTj/6CkIMhN48WO5kotRtShEkBZUq83kSl4NpXEQghjBTdHGlXwKysc/A0Hmz+CoN7gwrHb/5Pf1YrwZgvjMmSu5k1wQxEkQh16DK7mjTBDEURhcyR2FcetVEMRLJlzJvSRxx3sgiINYSkr/yxvXfzlsvfWlg9fhFQ4RQJD5P4cr920cPP3A1t4n878Kb3A3AQSZ85vgSj4nfdGzEUSEqUURV/IWVGvPRJDaRIXzuJILQc1chiDzBMCVfB7u6qciiBrZ6Aau5KMRTjcAQaZjffNJXMmn5T36aQgyGqFsAFdyGSdvVQgyRSJcyaeg3OQZCNIE6w9DuZI3Btx4PIK0BcyVvC3f5tMRpBViruStyE46F0Ga4OZK3gTrDEMRpAF0ruQNoM40EkHqg+dKXp/pbBMRpC56ruR1ec4+DUHqRcCVvB5LN5MQpEIUXMkrQHQ6AkHGBsOVfCxB1/0IMiIeruQj4HXSiiD2oLiS29l104kglqi4kluoddmDIOrYuJKrkXXcgCDK8LiSK4F1Xo4gqgDLxWG1/qOqheKuCSCIPD6u5HJWi6lEEFmUXMllnBZXhSAnRMqVfHHfvGohBDkOF1dy1ce0xGIEOSJVruRL/Nz1OyHIvZlxJdd/S4vsQJC7Y+VKvsgP3boUgtxBjiu59UNaah+CHEqWK/lSP3P7Xghymx1XcvtntNxOBPk+W67ky/3GR22GIPzG9VEf0NKbQwvClXzpn/f4/eIKwpV8/NcTYEJIQbiSB/iyK60YURCu5JU+nghjYgmSyu9zLmc2V3vvRAiXHccTiCPI+2cvpFw+GLb3Lo3HxoQoBCIJ8siwWv8rSrDsWYdAGEHq4GJKNAIIEi1x9lURQBAVLoqjEUCQaImzr4oAgqhwURyNAIJES5x9VQQQRIWL4mgEECRa4uyrIoAgKlwURyOAINESZ18VAQRR4aI4GgEEiZY4+6oIIIgKF8XRCCBItMTZV0UAQVS4KI5GAEGiJc6+KgIIosJFcTQCCBItcfZVEUAQFS6KoxFAkGiJs6+KAIKocFEcjQCCREucfVUEEESFi+JoBBAkWuLsqyKAICpcFEcj8C0aAyoUZVBF3gAAAABJRU5ErkJggg=="},4360:function(t,e,n){"use strict";var s=n("2b0e"),a=n("2f62"),r=(n("e25e"),n("a9e3"),{state:{language:localStorage.getItem("language")||"en",theme:localStorage.getItem("theme")||"theme-278EDA",nodeChecked:localStorage.getItem("nodeChecked")?JSON.parse(localStorage.getItem("nodeChecked")):{eos:{},timer:""},slipPoint:localStorage.getItem("slipPoint")?parseInt(localStorage.getItem("slipPoint")):1,rSwitch:!localStorage.getItem("rSwitch")||JSON.parse(localStorage.getItem("rSwitch")),minScreen:!1,accInfo:{avatar:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png",cover:"https://cdn.jsdelivr.net/gh/defis-net/material/accBanner/banner1.png",desc:"",nick:"",sex:2},account:{},accFollow:[],freeCpu:!!localStorage.getItem("freeCpu")&&JSON.parse(localStorage.getItem("freeCpu")),vip:{state:!1,dbc:0,pdd:0,sum:0}},mutations:{SET_FREECPU:function(t,e){t.freeCpu=e,localStorage.setItem("freeCpu",JSON.stringify(e))},SET_ACCINFO:function(t,e){t.accInfo=e},SET_MINSCREEN:function(t,e){t.minScreen=e},SET_LANGUAGE:function(t,e){t.language=e,localStorage.setItem("language",e)},SET_THEME:function(t,e){t.theme=e,localStorage.setItem("theme",e)},SET_NODECHECKED:function(t,e){t.nodeChecked=e,localStorage.setItem("nodeChecked",JSON.stringify(e))},SET_SLIPPOINT:function(t,e){t.slipPoint=e,localStorage.setItem("slipPoint",JSON.stringify(e))},SET_rSwitch:function(t,e){t.rSwitch=e,localStorage.setItem("rSwitch",JSON.stringify(e))},SET_ACCOUNT:function(t,e){t.account=e},SET_ACCFOLLOW:function(t,e){t.accFollow=e},SET_VIP:function(t,e){t.vip=e}},actions:{setFreeCpu:function(t,e){(0,t.commit)("SET_FREECPU",e)},setAccInfo:function(t,e){(0,t.commit)("SET_ACCINFO",e)},setMinScreen:function(t,e){(0,t.commit)("SET_MINSCREEN",e)},setLanguage:function(t,e){(0,t.commit)("SET_LANGUAGE",e)},setTheme:function(t,e){(0,t.commit)("SET_THEME",e)},setNodeChecked:function(t,e){(0,t.commit)("SET_NODECHECKED",e)},setSlipPoint:function(t,e){(0,t.commit)("SET_SLIPPOINT",Number(e))},setRSwitch:function(t,e){(0,t.commit)("SET_rSwitch",e)},setAccount:function(t,e){(0,t.commit)("SET_ACCOUNT",e)},setAccFollow:function(t,e){(0,t.commit)("SET_ACCFOLLOW",e)},setVip:function(t,e){(0,t.commit)("SET_VIP",e)}}}),o={state:{baseConfig:{node:{area:"production",protocol:"https",host:"api.eosflare.io",port:"443",url:"https://api.eosflare.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}},blockBrowser:{eos:{tx:"https://bloks.io/transaction/",account:"https://bloks.io/account/",token:"https://bloks.io/tokens/"}},testConfig:{node:{area:"test",protocol:"https",host:"api.testnet.eos.io",port:"443",url:"https://api.testnet.eos.io/",chainId:"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f"},toAccountSwap:"jinswap11112",toAccountJin:" jinbankoneo2",toAccountByHyk:"jintokensell",oracle:"jinoracle113",hykContranct:"",bonusAccount:"jindaojindao",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},devConfig:{node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",type:!0,nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},proConfig:{node:localStorage.getItem("proConfig")?JSON.parse(localStorage.getItem("proConfig")).node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",isNewConfig:!0,nodeMiner:"tagtokenfarm",nodeToken:"tagtokenmain",nodecoin:"tagissuemain",fundation:"dfsfundation",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},damping:localStorage.getItem("damping")||.75,dfsPrice:localStorage.getItem("dfsPrice")||"0",eggargs:localStorage.getItem("eggargs")?JSON.parse(localStorage.getItem("eggargs")):[],feesApr:localStorage.getItem("feesApr")?JSON.parse(localStorage.getItem("feesApr")):[],dsrPools:[{id:1,bonus:"1.05000000000000000",refund_delay_sec:2592e3},{id:2,bonus:"1.10000000000000000",refund_delay_sec:7776e3},{id:3,bonus:"1.20000000000000000",refund_delay_sec:15552e3},{id:4,bonus:"1.50000000000000000",refund_delay_sec:31104e3}],rankInfoV3:localStorage.getItem("rankInfoV3")?JSON.parse(localStorage.getItem("rankInfoV3")):[],rankTrade:localStorage.getItem("rankTrade")?JSON.parse(localStorage.getItem("rankTrade")):[],dfsData:{},poolsBal:"0.0000",poolsTagBal:localStorage.getItem("poolsTagBal")?localStorage.getItem("poolsTagBal"):"1000.00000000",list:[],dbcList:[],yfcBal:"0.00000000",dbcBal:"0.00000000",dampingYfc:1,dampingDbc:1,marketLists:localStorage.getItem("marketLists")?JSON.parse(localStorage.getItem("marketLists")):[],filterMkLists:localStorage.getItem("filterMkLists")?JSON.parse(localStorage.getItem("filterMkLists")):[],tagLpBal:0,nodeLists:[],nodeListsTamp:Number(localStorage.getItem("nodeListsTamp")||0),tradeInfo:{},usdtPrice:6.5,coinPrices:localStorage.getItem("coinPrices")?JSON.parse(localStorage.getItem("coinPrices")):[]},mutations:{SET_CoinPrices:function(t,e){t.coinPrices=e,localStorage.setItem("coinPrices",JSON.stringify(e))},SET_UsdtPrice:function(t,e){t.usdtPrice=e},SET_TagLpBal:function(t,e){t.tagLpBal=e},SET_NodeLists:function(t,e){t.nodeLists=e},SET_NodeListsTamp:function(t,e){t.nodeListsTamp=e},SET_RANKINFOV3:function(t,e){t.rankInfoV3=e},SET_RANKTRADE:function(t,e){t.rankTrade=e},SET_BASECONFIG:function(t,e){t.baseConfig=e},SET_APRS:function(t,e){t.aprs=e,localStorage.setItem("aprs",JSON.stringify(e))},SET_DAMPING:function(t,e){t.damping=e,localStorage.setItem("damping",JSON.stringify(e))},SET_DFSPRICE:function(t,e){t.dfsPrice=e,localStorage.setItem("dfsPrice",e)},SET_EGGARGS:function(t,e){t.eggargs=e,localStorage.setItem("eggargs",JSON.stringify(e))},SET_FEESAPR:function(t,e){t.feesApr=e,localStorage.setItem("feesApr",JSON.stringify(e))},SET_DfsData:function(t,e){t.dfsData=e},SET_PoolsBal:function(t,e){t.poolsBal=e},SET_PoolsTagBal:function(t,e){t.poolsTagBal=e,localStorage.setItem("poolsTagBal",e)},SET_List:function(t,e){t.list=e},SET_YfcBal:function(t,e){t.yfcBal=e},SET_DampingYfc:function(t,e){t.dampingYfc=e},SET_DbcList:function(t,e){t.dbcList=e},SET_DbcBal:function(t,e){t.dbcBal=e},SET_DampingDbc:function(t,e){t.dampingDbc=e},SET_MarketLists:function(t,e){t.marketLists=e,localStorage.setItem("marketLists",JSON.stringify(e))},SET_FilterMkLists:function(t,e){t.filterMkLists=e,localStorage.setItem("filterMkLists",JSON.stringify(e))},SET_TRADEINFO:function(t,e){t.tradeInfo=e}},actions:{setCoinPrices:function(t,e){(0,t.commit)("SET_CoinPrices",e)},setUsdtPrice:function(t,e){(0,t.commit)("SET_UsdtPrice",e)},setTagLpBal:function(t,e){(0,t.commit)("SET_TagLpBal",e)},setNodeLists:function(t,e){(0,t.commit)("SET_NodeLists",e)},setNodeListsTamp:function(t,e){(0,t.commit)("SET_NodeListsTamp",e)},setRankInfoV3:function(t,e){(0,t.commit)("SET_RANKINFOV3",e)},setRankTrade:function(t,e){(0,t.commit)("SET_RANKTRADE",e)},setBaseConfig:function(t,e){(0,t.commit)("SET_BASECONFIG",e)},setAprs:function(t,e){(0,t.commit)("SET_APRS",e)},setDamping:function(t,e){(0,t.commit)("SET_DAMPING",e)},setDfsPrice:function(t,e){(0,t.commit)("SET_DFSPRICE",e)},setEggargs:function(t,e){(0,t.commit)("SET_EGGARGS",e)},setFeesApr:function(t,e){(0,t.commit)("SET_FEESAPR",e)},setDfsData:function(t,e){(0,t.commit)("SET_DfsData",e)},setPoolsBal:function(t,e){(0,t.commit)("SET_PoolsBal",e)},setPoolsTagBal:function(t,e){(0,t.commit)("SET_PoolsTagBal",e)},setList:function(t,e){(0,t.commit)("SET_List",e)},setYfcBal:function(t,e){(0,t.commit)("SET_YfcBal",e)},setDampingYfc:function(t,e){(0,t.commit)("SET_DampingYfc",e)},setDbcList:function(t,e){(0,t.commit)("SET_DbcList",e)},setDbcBal:function(t,e){(0,t.commit)("SET_DbcBal",e)},setDampingDbc:function(t,e){(0,t.commit)("SET_DampingDbc",e)},setMarketLists:function(t,e){(0,t.commit)("SET_MarketLists",e)},setFilterMkLists:function(t,e){(0,t.commit)("SET_FilterMkLists",e)},setTradeInfo:function(t,e){(0,t.commit)("SET_TRADEINFO",e)}}},i={sys:function(t){return t.sys},app:function(t){return t.app}};s.default.use(a.a);e.a=new a.a.Store({modules:{sys:o,app:r},getters:i})},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="4678"},"48a3":function(t,e,n){"use strict";(function(t){var s=n("53ca"),a=n("5530"),r=n("1da1"),o=n("d4ec"),i=n("bee2"),c=(n("96cf"),n("99af"),n("4160"),n("159b"),n("d3b7"),n("ddb0"),n("7db0"),n("b0c0"),n("0d03"),n("25f0"),n("c975"),n("1a2b")),l=n.n(c),u=n("0926"),d=n("4504"),m=n("62e4"),f=n("4360"),p=n("d8ad"),h=n("d08b"),g=new(function(){function e(){Object(o.a)(this,e),this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.vthis=null}var n,c;return Object(i.a)(e,[{key:"scatterInit",value:function(t,e){this.vthis=t,this.Ecc=l.a,this.rpc=new u.JsonRpc("https://dfs.tinyhill.dev",{fetch:h}),console.log("init"),e()}},{key:"exportPrivateKey",value:function(){return this.prive_key}},{key:"randomKey",value:function(t){var e=this;this.Ecc.randomKey().then((function(n){var s=n,a=e.Ecc.privateToPublic(s);t(s,a)}))}},{key:"loginOut",value:function(t){this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.scatterInit(this.vthis,t)}},{key:"login",value:function(t){t()}},{key:"loginByAcc",value:(c=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var s,a,r,o,i,c,l,p,h,g,_,v,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.account,a=e.pwd,r=this.Ecc.seedPrivate("".concat(s,"-").concat(a)),this.prive_key=r,this.public_key=this.Ecc.privateToPublic(r),this.signatureProvider=new d.JsSignatureProvider([r]),this.eos_client=new u.Api({rpc:this.rpc,signatureProvider:this.signatureProvider,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),t.prev=7,t.next=10,Object(m.get_account)(s);case 10:if(o=t.sent,i=o.status,c=o.result,i){t.next=15;break}return t.abrupt("return",n("账户查询失败"));case 15:if(l=!1,p="",(h=c.permissions).forEach((function(t){l||t.required_auth.keys.forEach((function(e){e.key===y.public_key&&(l=!0,p=t.perm_name)}))})),l){t.next=21;break}return t.abrupt("return",n("账户公钥不匹配"));case 21:g=!1,_=h.find((function(t){return"owner"===t.perm_name}));try{g="dfsacmanager"!==_.required_auth.accounts[0].permission.actor}catch(t){console.log(t)}v={name:s,permissions:p,publicKey:this.public_key,isSelf:g},f.a.dispatch("setAccount",v),n(null,v),t.next=33;break;case 29:return t.prev=29,t.t0=t.catch(7),console.log(t.t0),t.abrupt("return",n("账户接口查询失败"));case 33:case"end":return t.stop()}}),t,this,[[7,29]])}))),function(t,e){return c.apply(this,arguments)})},{key:"regPwd",value:function(t,e){var n=f.a.state.app.account.name;n&&(this.Ecc.seedPrivate("".concat(n,"-").concat(t))!==this.prive_key?e("err"):e())}},{key:"accReg",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var s,a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.account,a=e.pwd,r=this.Ecc.seedPrivate("".concat(s,"-").concat(a)),o=this.Ecc.privateToPublic(r),console.log(r,o),n(null,o);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"transact",value:function(t,e){var n=this;Object(r.a)(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,n.eos_client.transact(t,{blocksBehind:3,expireSeconds:120});case 3:a=s.sent,e(null,a),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),n.dealError(s.t0,e);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}},{key:"transfer",value:function(t,e){this.transferSure(t,e)}},{key:"toTransaction",value:function(t,e){p.a.$emit("busShowComfire",Object.assign({},t,{type:"toTransaction",cb:e}))}},{key:"transferSure",value:function(t,e){var n=f.a.state.app.account.name,s=f.a.state.app.account.permissions,a={actions:[{account:t.code,name:"transfer",authorization:[{actor:n,permission:s}],data:{from:n,to:t.toAccount,quantity:t.quantity,memo:t.memo||""}}]};this.toTransaction(a,e)}},{key:"toTransactionSure",value:function(e,n){var s=this;Object(r.a)(regeneratorRuntime.mark((function r(){var o,i,c,l,u,d,f,p,h,g,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i={tx:e,txh:o={blocksBehind:3,expireSeconds:120}},r.next=5,Object(m.pushFreeCpu)(i);case 5:if(c=r.sent,l=c.status,u=c.result,console.log(u,l),l&&u){r.next=12;break}return s.transact(e,n),r.abrupt("return");case 12:if(200!==u.code){r.next=25;break}return f=u.data,r.next=16,s.eos_client.signatureProvider.getAvailableKeys();case 16:return p=r.sent,h=t.from(f.serializedTransaction,"hex"),g={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",requiredKeys:p,serializedTransaction:h,abis:[]},r.next=21,s.eos_client.signatureProvider.sign(g);case 21:(d=r.sent).signatures.unshift(f.signatures[0]),r.next=28;break;case 25:return r.next=27,s.eos_client.transact(e,Object(a.a)(Object(a.a)({},o),{},{sign:!0,broadcast:!1}));case 27:d=r.sent;case 28:return r.next=30,s.eos_client.pushSignedTransaction(d);case 30:_=r.sent,console.log(_),n(null,_),r.next=38;break;case 35:r.prev=35,r.t0=r.catch(0),s.dealFreeCpuError(r.t0,n);case 38:case"end":return r.stop()}}),r,null,[[0,35]])})))()}},{key:"dealFreeCpuError",value:function(t,e){console.log(t.toString());var n={code:999,message:"fails!"};-1!==t.toString().indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(n={code:3050003,message:"滑点过高"}),e(n,null)}},{key:"dealError",value:function(t,e){console.log(t);var n={code:999,message:"fails!"};try{if("object"===Object(s.a)(t)&&402===t.code&&(n={code:"402",message:"User rejected the signature request"}),"string"==typeof t){var a=JSON.parse(t);if(3080004===a.error.code&&(n={code:3080004,message:"Insufficient CPU resources"}),3080002===a.error.code&&(n={code:3080002,message:"Insufficient Net resources"}),3080001===a.error.code&&(n={code:3080001,message:"Insufficient RAM resources"}),3050003===a.error.code||3010010===a.error.code){var r=a.error.details;n=-1!==r[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==r[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:a.error.code,message:r[0].message}}}e(n,null)}catch(s){"操作已取消"===t&&(n={code:402,message:"Cancel"}),e(n,null)}}}]),e}());e.a=g}).call(this,n("b639").Buffer)},5:function(t,e){},"566f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=n("b85c"),r=n("1da1"),o=n("5530"),i=n("ade3"),c=(n("96cf"),n("4160"),n("159b"),n("ac1f"),n("1276"),n("fb6a"),n("b0c0"),n("4795"),n("b64b"),n("498a"),n("a434"),n("caad"),n("2532"),n("a9e3"),n("7db0"),n("4e82"),n("2f62")),l=(n("0d03"),n("d3b7"),n("25f0"),n("4c53"),n("5319"),n("b680"),n("a15b"),n("d4ec")),u=n("bee2"),d=n("53ca"),m=(n("99af"),n("a630"),n("3ca3"),n("c975"),n("76b0")),f=n.n(m),p=n("876a"),h=n.n(p),g=n("cd2e"),_=n.n(g),v=n("bc3a"),y=n.n(v),b=n("4360"),C=n("62e4");f.a.plugins(new h.a);var A=new(function(){function t(){Object(l.a)(this,t),this.vthis=null,this.scatter=null,this.scatterEosJs=null,this.eosJs=null,this.connectCount=0,this.isConnect=!1}return Object(u.a)(t,[{key:"scatterInit",value:function(t,e){this.vthis=t;var n=this;if(n.isConnect)e();else{var s=b.a.state.sys.baseConfig.node,a={blockchain:"eos",protocol:s.protocol,host:s.host,port:s.port,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},o=f.a.Network.fromJson(a);f.a.connect("DeFis-Network",{network:o}).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.isConnect=s,s){t.next=7;break}if(n.connectCount+=1,!(n.connectCount>10)){t.next=5;break}return t.abrupt("return",!1);case 5:return setTimeout((function(){n.scatterInit(n.vthis,e)}),500),t.abrupt("return",!1);case 7:n.scatter=f.a.scatter,n.eosJs=f.a.eos(o,_.a,{}),e();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},{key:"loginOut",value:function(t){this.scatter.forgetIdentity(),t()}},{key:"login",value:function(t){var e=this;e.isConnect?e.scatter.login().then((function(e){if(!e)return console.error("no identity");var n=f.a.account("eos"),s={name:n.name,permissions:n.authority,publicKey:n.publicKey};b.a.dispatch("setAccount",s),t(s)})):e.scatterInit(e.vthis,(function(){e.login()}))}},{key:"getCurrencyBalance",value:function(t,e){var n={code:t.code||"eosio.token",symbol:t.coin||"EOS",account:t.account||b.a.state.app.account.name},s=b.a.state.sys.baseConfig.node.url;y.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(n)).then((function(n){if(n.data.length){var s=n.data[0];e(s)}else e("".concat(Number(0).toFixed(t.decimal)," ").concat(t.symbol))})).catch((function(t){console.log("e: ".concat(t))}))}},{key:"transfer",value:function(t,e){var n=this,s=b.a.state.app.account.name,a=b.a.state.app.account.permissions,r={actions:[{account:t.code,name:"transfer",authorization:[{actor:s,permission:a}],data:{from:s,to:t.toAccount,quantity:t.quantity,memo:t.memo||""}}]};b.a.state.app.freeCpu?this.handleUseFreeCpu(r,e):this.eosJs.transaction(r,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){n.dealError(t,e)}))}},{key:"toTransaction",value:function(t,e){var n=t,s=this;s.isConnect?b.a.state.app.freeCpu?this.handleUseFreeCpu(n,e):s.eosJs.transaction(n,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){s.dealError(t,e)})):s.toTransaction(t,e)}},{key:"buffer2hex",value:function(t){return Array.from(t,(function(t){return("00"+t.toString(16)).slice(-2)})).join("")}},{key:"handleUseFreeCpu",value:function(t,e){var n=this;Object(r.a)(regeneratorRuntime.mark((function s(){var a,r,o,i,c,l,u,d;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a={tx:t,txh:{blocksBehind:3,expireSeconds:120}},r=b.a.state.app.account.name,t.actions.unshift({account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"yfcmonitor11",permission:"active"}],data:{user:r}}),s.next=7,n.eosJs.transaction(t,{sign:!0,broadcast:!1});case 7:return o=s.sent,(c=(i=o).transaction.transaction).signatures=i.transaction.signatures,c.context_free_data=[],a.sign_data=c,console.log(t),console.log(a),s.next=17,Object(C.pushFreeCpu2)(a);case 17:if(l=s.sent,u=l.status,d=l.result,console.log(d,u),u&&d){s.next=24;break}return e(d,null),s.abrupt("return");case 24:e(null,d),s.next=30;break;case 27:s.prev=27,s.t0=s.catch(0),n.dealFreeCpuError(s.t0,e);case 30:case"end":return s.stop()}}),s,null,[[0,27]])})))()}},{key:"dealFreeCpuError",value:function(t,e){var n=t.toString();"object"===Object(d.a)(t)&&(n=JSON.stringify(t));var s={code:999,message:n};-1!==n.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(s={code:3050003,message:"滑点过高"}),-1!==n.indexOf("you have no permission for this operation")&&(s={code:3050003,message:"您没有权限操作"}),e(s,null)}},{key:"dealError",value:function(t,e){console.log(t);var n={code:999,message:"fails!"};try{if("object"===Object(d.a)(t)&&402===t.code&&(n={code:"402",message:"User rejected the signature request"}),"string"==typeof t){var s=JSON.parse(t);if(3080004===s.error.code&&(n={code:3080004,message:"Insufficient CPU resources"}),3080002===s.error.code&&(n={code:3080002,message:"Insufficient Net resources"}),3080001===s.error.code&&(n={code:3080001,message:"Insufficient RAM resources"}),3080006===s.error.code&&(n={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var a=s.error.details;n=-1!==a[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==a[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:s.error.code,message:a[0].message}}}e(n,null)}catch(s){"操作已取消"===t&&(n={code:402,message:"Cancel"}),e(n,null)}}}]),t}()),k=n("48a3"),x=n("2d94"),w=new(function(){function t(){Object(l.a)(this,t),this.wallet="",this.obj=null}return Object(u.a)(t,[{key:"scatterInit",value:function(t,e){this.wallet=(localStorage.getItem("WALLET")||"scatter").toLowerCase(),"anchor"===this.wallet?this.obj=x.a:"scatter2"===this.wallet?this.obj=A:"newwallet"===this.wallet?this.obj=k.a:this.obj=A,this.obj.scatterInit(t,e)}},{key:"accReg",value:function(t,e){this.obj.accReg(t,e)}},{key:"login",value:function(t){this.obj.login(t)}},{key:"loginByAcc",value:function(t,e){this.obj.loginByAcc(t,e)}},{key:"loginOut",value:function(t){b.a.dispatch("setAccount",{}),this.obj.loginOut(t)}},{key:"transfer",value:function(t,e){this.obj.transfer(t,e)}},{key:"toTransaction",value:function(t,e){this.obj.toTransaction(t,e)}},{key:"exportPrivateKey",value:function(){return this.obj.exportPrivateKey()}},{key:"transferSure",value:function(t,e){this.obj.transfer(t,e)}},{key:"toTransactionSure",value:function(t,e){this.obj.toTransactionSure(t,e)}},{key:"regPwd",value:function(t,e){this.obj.regPwd(t,e)}},{key:"randomKey",value:function(t){this.obj.randomKey(t)}}]),t}()),E=(n("4128"),n("c1df")),j=n.n(E);function O(t,e){e||(e=4);var n=isNaN(t)||!t?0:t,s=isNaN(t)||!t?4:e,a=((n=function(t){if(isNaN(t))return t;var e=String(t);return/e/i.test(e)?Number(t).toFixed(18).replace(/\.?0+$/,""):t}(n))+"").split("."),r=a.length>1?a[1]:"";return r.length>s?r=r.substr(0,s):r+=Array(s-r.length+1).join("0"),a[0]+(""==r?"":"."+r)}function S(t){return new Promise((function(e,n){return setTimeout(e,t)}))}function T(t){if(void 0!==t.message){if(function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=Object(d.a)(e)||!e)}catch(t){return!1}}(t.message)){var e=JSON.parse(t.message);return{code:e.code,message:e.message}}return t}if(void 0!==t.msg){var n=JSON.parse(t.msg);return{code:n.error.code,message:n.error.details[0].message}}return t}function D(t,e){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var s,a,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:return t.next=3,Object(C.get_table_rows)(e,n);case 3:if(i=t.sent,s=i.status,a=i.result,r=i.code,503===i.code){t.next=11;break}return t.abrupt("return",{status:s,result:a,code:r});case 11:return o+=1,console.log("503 "+o),t.next=15,S(500);case 15:if(o<3){t.next=1;break}case 16:return t.abrupt("return",{status:s,result:a,code:r});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,s,a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:return t.next=3,Object(C.get_abi)(e).catch((function(t){console.log(t)}));case 3:if(o=t.sent,n=o.status,s=o.result,a=o.code,503===o.code){t.next=11;break}return t.abrupt("return",{status:n,result:s,code:a});case 11:return r+=1,console.log("503 "+r),t.next=15,S(500);case 15:if(r<3){t.next=1;break}case 16:return t.abrupt("return",{status:n,result:s,code:a});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return R.apply(this,arguments)}function R(){return(R=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,s,a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:return t.next=3,Object(C.abi_json_to_bin)(e);case 3:if(o=t.sent,n=o.status,s=o.result,a=o.code,503===o.code){t.next=11;break}return t.abrupt("return",{status:n,result:s,code:a});case 11:return r+=1,console.log("503 "+r),t.next=15,S(500);case 15:if(r<3){t.next=1;break}case 16:return t.abrupt("return",{status:n,result:s,code:a});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var B={name:"NodeSet",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,curNode:0,nodeList:[{name:"Eosflare",area:"production",protocol:"https",host:"api.eosflare.io",port:"443",url:"https://api.eosflare.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"TP",area:"production",protocol:"https",host:"eospush.tokenpocket.pro",port:"443",url:"https://eospush.tokenpocket.pro",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Fwnw",area:"production",protocol:"https",host:"api.fwnw.com",port:"443",url:"https://api.fwnw.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Sweden",area:"production",protocol:"https",host:"api.eossweden.se",port:"443",url:"https://api.eossweden.se",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"EOSNation",area:"production",protocol:"https",host:"api.eosn.io",port:"443",url:"https://api.eosn.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Greymass",area:"production",protocol:"https",host:"eos.greymass.com",port:"443",url:"https://eos.greymass.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"StartEos",area:"production",protocol:"https",host:"api-mainnet.starteos.io",port:"443",url:"https://api-mainnet.starteos.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Laomao",area:"production",protocol:"https",host:"api.eoslaomao.com",port:"443",url:"https://api.eoslaomao.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Scatter(墙)",area:"production",protocol:"https",host:"nodes.get-scatter.com",port:"443",url:"https://nodes.get-scatter.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Newdex(墙)",area:"production",protocol:"https",host:"eos.newdex.one",port:"443",url:"https://eos.newdex.one",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}]}},watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},computed:Object(o.a)({},Object(c.b)({baseConfig:function(t){return t.sys.baseConfig},proConfig:function(t){return t.sys.proConfig}})),methods:{handleDealNodeDalay:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.url,a=j()().valueOf(),n.next=4,e.$api.get_info(s);case 4:if(r=n.sent,r.status){n.next=10;break}return e.$set(t,"delay",9999),e.dialogVisible&&setTimeout(e.handleDealNodeDalay,2e3,t),n.abrupt("return");case 10:o=j()().valueOf()-a,e.$set(t,"delay",o),e.dialogVisible&&setTimeout(e.handleDealNodeDalay,2e3,t);case 13:case"end":return n.stop()}}),n)})))()},handleOpenDialog:function(){for(var t=this,e=0;e<this.nodeList.length;e++)if(this.nodeList[e].name==this.baseConfig.node.name){this.curNode=e;break}this.nodeList.forEach((function(e){t.$set(e,"delay",void 0),t.handleDealNodeDalay(e)}))},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){var t=this.baseConfig;t.node=this.nodeList[this.curNode],t.type=!0,localStorage.setItem("proConfig",JSON.stringify(t)),this.$store.dispatch("setBaseConfig",t),this.dialogVisible=!1}},mounted:function(){var t=JSON.parse(localStorage.getItem("proConfig"));null!==t&&this.$store.dispatch("setBaseConfig",t)}},L=(n("f77a"),n("2877")),U=Object(L.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"节点设置",top:"3vh",visible:t.dialogVisible,width:"90%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("van-list",{staticStyle:{overflow:"scroll",height:"400px"}},[n("van-radio-group",{model:{value:t.curNode,callback:function(e){t.curNode=e},expression:"curNode"}},t._l(t.nodeList,(function(e,s){return n("van-cell",{key:s},[n("van-radio",{attrs:{name:s}},[n("div",{staticClass:"ml-20"},[n("div",[n("span",{staticClass:"rmr-2"},[t._v(t._s(e.name))]),n("span",{class:{"text-green":e.delay<1e3,"color-warning":e.delay<3e3&&e.delay>=1e3,"text-red":e.delay>=3e3||!e.delay}},[t._v(t._s(e.delay||"- ")+"ms")])]),n("div",{staticClass:"text-secondary"},[t._v(t._s(e.host))])])])],1)})),1)],1),n("div",{staticClass:"d-flex justify-content-start rmt-3"},[n("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),n("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],1)}),[],!1,null,"77b1c1d7",null).exports,M=n("7d92"),F=n.n(M),J=n("0926"),K=n("349e"),z=n.n(K),q={name:"MyProposal",components:{JsonViewer:z.a},props:{logined:{type:Boolean,default:!1,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,table:[],proposals:{},proposalContent:""}},watch:{logined:{handler:function(t,e){t&&this.handleGetApprovals()}}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),methods:{handleApprove:function(t){var e=this,n=this.account.name,s=this.account.permissions,a={actions:[{account:"eosio.msig",name:"approve",authorization:[{actor:n,permission:s}],data:{proposer:n,proposal_name:this.table[t].proposal_name,level:{actor:n,permission:s}}}]};w.toTransaction(a,(function(t){t&&(t=T(t)),t&&402==t.code||t?e.$toast({type:"fail",message:t.message}):e.$toast({type:"success",message:"Success"})}))},handleUnapprove:function(t){var e=this,n=this.account.name,s=this.account.permissions,a={actions:[{account:"eosio.msig",name:"unapprove",authorization:[{actor:n,permission:s}],data:{proposer:n,proposal_name:this.table[t].proposal_name,level:{actor:n,permission:s}}}]};w.toTransaction(a,(function(t){t&&(t=T(t)),t&&402==t.code||t?e.$toast({type:"fail",message:t.message}):e.$toast({type:"success",message:"Success"})}))},handleExec:function(t){var e=this,n=this.account.name,s={actions:[{account:"eosio.msig",name:"exec",authorization:[{actor:n,permission:this.account.permissions}],data:{proposer:n,proposal_name:this.table[t].proposal_name,executer:n}}]};w.toTransaction(s,(function(t){return t&&(t=T(t)),t&&402==t.code||t?(e.$toast({type:"fail",message:t.message}),void setTimeout(e.handleUpdate,2e3)):(e.$toast({type:"success",message:"Success"}),void setTimeout(e.handleUpdate,2e3))}))},handleCancel:function(t){var e=this,n=this.account.name,s={actions:[{account:"eosio.msig",name:"cancel",authorization:[{actor:n,permission:this.account.permissions}],data:{proposer:n,proposal_name:this.table[t].proposal_name,canceler:n}}]};w.toTransaction(s,(function(t){return t&&(t=T(t)),t&&402==t.code||t?(e.$toast({type:"fail",message:t.message}),void setTimeout(e.handleUpdate,2e3)):(e.$toast({type:"success",message:"Success"}),void setTimeout(e.handleUpdate,2e3))}))},handleGetApprovals:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=[],s=t.account.name,a={code:"eosio.msig",scope:s,table:"approvals2",limit:100,json:!0},e.next=6,D(a);case 6:if(r=e.sent,o=r.status,i=r.result,o){e.next=13;break}return t.$toast({type:"fail",message:"获取批准信息失败"}),t.loading=!1,e.abrupt("return");case 13:if((c=i.rows||[]).length){e.next=17;break}return t.loading=!1,e.abrupt("return");case 17:c.forEach((function(t){var e=t.proposal_name,s=[],a=[];t.requested_approvals.forEach((function(t){a.push(t.level.actor+"@"+t.level.permission)})),t.provided_approvals.forEach((function(t){s.push(t.level.actor+"@"+t.level.permission)})),n.push({proposal_name:e,requested_approvals:a,provided_approvals:s})})),t.table=n,t.handleGetProposal();case 20:case"end":return e.stop()}}),e)})))()},handleGetProposal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},s=t.account.name,a={code:"eosio.msig",scope:s,table:"proposal",limit:100,json:!0},e.next=5,D(a);case 5:if(r=e.sent,o=r.status,i=r.result,o){e.next=12;break}return t.$toast({type:"fail",message:"获取提案信息失败"}),t.loading=!1,e.abrupt("return");case 12:if((c=i.rows||[]).length){e.next=17;break}return t.$toast({type:"fail",message:"获取提案信息为空"}),t.loading=!1,e.abrupt("return");case 17:c.forEach((function(t){var e=F.a.sha256().update(t.packed_transaction).digest("hex");n[t.proposal_name]={hash:e,packed_trx:t.packed_transaction}})),t.proposals=n,t.loading=!1;case 20:case"end":return e.stop()}}),e)})))()},handleUpdate:function(){this.handleGetApprovals()},handleShowProposal:function(t){var e=this,n=this.proposals[t].packed_trx,s=new J.JsonRpc("https://eospush.tokenpocket.pro");new J.Api({rpc:s}).deserializeTransactionWithActions(n).then((function(t){e.proposalContent=t,e.dialogVisible=!0})).catch((function(t){e.$toast({type:"fail",message:"查看提案内容失败"}),console.log(t)}))}},mounted:function(){}},V=(n("709e"),Object(L.a)(q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"fs-medium hardline flexbc"},[n("div",[t._v("我发起的提案")]),n("el-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"fs-medium",attrs:{type:"primary"},on:{click:t.handleUpdate}},[t._v("更新")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1),n("el-divider",{staticClass:"rmb-1"}),n("el-table",{attrs:{stripe:"",data:t.table}},[n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"}}),n("el-table-column",{attrs:{label:"内容","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",plain:"",size:"small"},on:{click:function(n){return t.handleShowProposal(e.row.proposal_name)}}},[t._v("内容")])]}}])}),n("el-table-column",{attrs:{label:"请求批准","min-width":"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("请求批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.requested_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.requested_approvals,(function(e,s){return n("el-dropdown-item",{key:s},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"已批准","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("已批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.provided_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.provided_approvals,(function(e,s){return n("el-dropdown-item",{key:s},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"操作","min-width":"280px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleApprove(e.$index)}}},[t._v("批准")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleExec(e.$index)}}},[t._v("执行")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleCancel(e.$index)}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleUnapprove(e.$index)}}},[t._v("否决")])]}}])}),n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"}})],1),n("el-dialog",{attrs:{title:"提案内容",top:"1vh",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("json-viewer",{attrs:{value:t.proposalContent,sort:"","expand-depth":5}})],1)],1)}),[],!1,null,"6628fdba",null).exports),Q={name:"OtherProposal",components:{JsonViewer:z.a},props:{logined:{type:Boolean,default:!1,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,table:[],proposals:{},proposalContent:"",showFail:!1,failMax:3,failCnt:0,hosts:["https://api.eosflare.io","https://eospush.tokenpocket.pro","https://api.eosn.io","https://eos.greymass.com","https://mainnet.eoscannon.io"]}},watch:{logined:{handler:function(t,e){t&&this.handleGetApprovals()}}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),methods:{handleApprove:function(t){var e=this,n=this.account.name,s=this.account.permissions,a={actions:[{account:"eosio.msig",name:"approve",authorization:[{actor:n,permission:s}],data:{proposer:n,proposal_name:this.table[t].proposal_name,level:{actor:n,permission:s}}}]};w.toTransaction(a,(function(t){t&&(t=T(t)),t&&402==t.code||t?e.$toast({type:"fail",message:t.message}):e.$toast({type:"success",message:"Success"})}))},handleUnapprove:function(t){var e=this,n=this.account.name,s=this.account.permissions,a={actions:[{account:"eosio.msig",name:"unapprove",authorization:[{actor:n,permission:s}],data:{proposer:n,proposal_name:this.table[t].proposal_name,level:{actor:n,permission:s}}}]};w.toTransaction(a,(function(t){t&&(t=T(t)),t&&402==t.code||t?e.$toast({type:"fail",message:t.message}):e.$toast({type:"success",message:"Success"})}))},handleExec:function(t){var e=this,n=this.account.name,s={actions:[{account:"eosio.msig",name:"exec",authorization:[{actor:n,permission:this.account.permissions}],data:{proposer:n,proposal_name:this.table[t].proposal_name,executer:n}}]};w.toTransaction(s,(function(t){return t&&(t=T(t)),t&&402==t.code||t?(e.$toast({type:"fail",message:t.message}),void setTimeout(e.handleUpdate,2e3)):(e.$toast({type:"success",message:"Success"}),void setTimeout(e.handleUpdate,2e3))}))},handleCancel:function(t){var e=this,n=this.account.name,s={actions:[{account:"eosio.msig",name:"cancel",authorization:[{actor:n,permission:this.account.permissions}],data:{proposer:n,proposal_name:this.table[t].proposal_name,canceler:n}}]};w.toTransaction(s,(function(t){return t&&(t=T(t)),t&&402==t.code||t?(e.$toast({type:"fail",message:t.message}),void setTimeout(e.handleUpdate,2e3)):(e.$toast({type:"success",message:"Success"}),void setTimeout(e.handleUpdate,2e3))}))},handleGetApprovals:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,n=[],[],s=t.account.name,y.a.get("https://api.eossweden.org/v2/state/get_proposals?requested=".concat(s,"&executed=false&limit=100")).then((function(e){e.data.proposals.forEach((function(t){var e=t.proposal_name,a=t.proposer,r=[],o=[];t.requested_approvals.forEach((function(t){o.push(t.actor+"@"+t.permission)})),t.provided_approvals.forEach((function(t){r.push(t.actor+"@"+t.permission)})),a!=s&&n.push({proposer:a,proposal_name:e,requested_approvals:o,provided_approvals:r})})),t.table=n,t.failCnt=0,t.handleGetProposal()})).catch((function(e){console.log(e),t.failCnt<t.failMax?(t.failCnt++,t.handleGetApprovals()):(t.$toast({type:"fail",message:"获取所有提案信息失败"}),t.loading=!1,t.showFail=!0,t.failCnt=0)}));case 5:case"end":return e.stop()}}),e)})))()},handleGetProposal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},s=0;case 2:if(!(s<t.table.length)){e.next=20;break}return a={code:"eosio.msig",scope:t.table[s].proposer+" ",table:"proposal",lower_bound:t.table[s].proposal_name,upper_bound:t.table[s].proposal_name,limit:100,json:!0},e.next=6,D(a,t.hosts[s%5]);case 6:if(r=e.sent,o=r.status,i=r.result,o){e.next=13;break}return t.$toast({type:"fail",message:"获取提案信息失败"}),t.loading=!1,e.abrupt("return");case 13:if((c=i.rows||[]).length){e.next=16;break}return e.abrupt("continue",17);case 16:c.forEach((function(t){var e=F.a.sha256().update(t.packed_transaction).digest("hex");n[t.proposal_name]={hash:e,packed_trx:t.packed_transaction}}));case 17:s++,e.next=2;break;case 20:t.proposals=n,t.loading=!1;case 22:case"end":return e.stop()}}),e)})))()},handleUpdate:function(){this.handleGetApprovals()},handleShowProposal:function(t){var e=this,n=this.proposals[t].packed_trx,s=new J.JsonRpc("https://eospush.tokenpocket.pro");new J.Api({rpc:s}).deserializeTransactionWithActions(n).then((function(t){e.proposalContent=t,e.dialogVisible=!0})).catch((function(t){e.$toast({type:"fail",message:"查看提案内容失败"}),console.log(t)}))}},mounted:function(){}},W=(n("26f3"),Object(L.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"fs-medium hardline flexbc"},[n("div",[t._v("待我批准的提案")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFail,expression:"showFail"}],staticClass:"color-danger"},[t._v("获取失败，请更新")]),n("el-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"fs-medium",attrs:{type:"primary"},on:{click:t.handleUpdate}},[t._v("更新")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1),n("el-divider",{staticClass:"rmb-1"}),n("el-table",{attrs:{stripe:"",data:t.table}},[n("el-table-column",{attrs:{label:"提案人/提案","min-width":"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(e.row.proposer))]),n("div",[t._v(t._s(e.row.proposal_name))])]}}])}),n("el-table-column",{attrs:{label:"内容","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",plain:"",size:"small"},on:{click:function(n){return t.handleShowProposal(e.row.proposal_name)}}},[t._v("内容")])]}}])}),n("el-table-column",{attrs:{label:"请求批准","min-width":"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("请求批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.requested_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.requested_approvals,(function(e,s){return n("el-dropdown-item",{key:s},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"已批准","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("已批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.provided_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.provided_approvals,(function(e,s){return n("el-dropdown-item",{key:s},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"操作","min-width":"210px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleApprove(e.$index)}}},[t._v("批准")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleUnapprove(e.$index)}}},[t._v("否决")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleExec(e.$index)}}},[t._v("执行")])]}}])}),n("el-table-column",{attrs:{label:"提案人/提案","min-width":"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(e.row.proposer))]),n("div",[t._v(t._s(e.row.proposal_name))])]}}])})],1),n("el-dialog",{attrs:{title:"提案内容",top:"1vh",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("json-viewer",{attrs:{value:t.proposalContent,sort:"","expand-depth":5}})],1)],1)}),[],!1,null,"18baa096",null).exports),G={name:"CustomDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,contract:"",action:"",auth:{perm:"",actor:""},abi:[],actionOptions:[],actionParams:[],customOpt:{},loading:!1,record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.customOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){if(this.handleCheckInput()){var t={};this.actionParams.forEach((function(e){t[e.name]=e.input})),this.customOpt={action:"".concat(this.contract,":").concat(this.action),perm:"".concat(this.auth.actor,"@").concat(this.auth.perm),param:t},this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleCheckInput:function(){if(""===this.contract.trim())return this.$toast({type:"fail",message:"合约账号不能为空",getContainer:"#CustomDialog"}),!1;if(""===this.action.trim())return this.$toast({type:"fail",message:"操作不能为空",getContainer:"#CustomDialog"}),!1;for(var t=0;t<this.actionParams.length;t++)if(""===this.actionParams[t].input.trim())return this.$toast({type:"fail",message:"参数不能为空",getContainer:"#CustomDialog"}),!1;return""===this.auth.actor.trim()?(this.$toast({type:"fail",message:"授权账号不能为空",getContainer:"#CustomDialog"}),!1):""!==this.auth.perm.trim()||(this.$toast({type:"fail",message:"授权权限不能为空",getContainer:"#CustomDialog"}),!1)},handleCheckContract:function(){var t,e=!1,n=Object(a.a)(this.contract);try{for(n.s();!(t=n.n()).done;){var s=t.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.contract.$refs.input.classList.add("border-danger"):this.$refs.contract.$refs.input.classList.remove("border-danger")},handleContractQuery:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action="",t.actionOptions=[],t.actionParams=[],""!==t.contract.trim()){e.next=6;break}return t.$toast({type:"fail",message:"合约账号不能为空",getContainer:"#CustomDialog"}),e.abrupt("return");case 6:return n=t.contract.trim(),t.loading=!0,e.next=10,I(n);case 10:if(s=e.sent,a=s.status,r=s.result,o=s.code,t.loading=!1,a){e.next=18;break}return 500==o?t.$toast({type:"fail",message:"合约账号不存在",getContainer:"#CustomDialog"}):t.$toast({type:"fail",message:"获取合约账号信息失败",getContainer:"#CustomDialog"}),e.abrupt("return");case 18:if(i=r.abi||{},0!=Object.keys(i)){e.next=22;break}return t.$toast({type:"fail",message:"获取合约账号信息为空",getContainer:"#CustomDialog"}),e.abrupt("return");case 22:c=[],i.actions.forEach((function(t){c.push({value:t.name,label:t.name})})),t.actionOptions=c,t.abi=i;case 26:case"end":return e.stop()}}),e)})))()},handleActionSelect:function(){for(var t=this,e=0;e<this.abi.structs.length;e++)if(this.abi.structs[e].name===this.action){this.actionParams=this.abi.structs[e].fields,this.actionParams.forEach((function(e){t.$set(e,"input","")}));break}},handleCheckAccount:function(){var t,e=!1,n=Object(a.a)(this.auth.actor);try{for(n.s();!(t=n.n()).done;){var s=t.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.actor.$refs.input.classList.add("border-danger"):this.$refs.actor.$refs.input.classList.remove("border-danger")},handleCommand:function(t){var e=this;if("actor"==t)this.auth.actor=this.account.name,this.$refs.actor.$refs.input.classList.remove("border-danger");else if("active"==t||"owner"==t)this.auth.perm=t;else if(t.includes("actor-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.auth.actor=n,e.$refs.actor.$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var s=t.split("-")[1];this.record.perms.forEach((function(t){t==s&&(e.auth.perm=s)}))}else if(t.includes("contract-")&&!this.del){var a=t.split("-")[1];this.record.contracts.forEach((function(t){t==a&&(e.contract=a)}))}this.del=!1},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.auth.actor)||this.auth.actor==this.account.name||(this.record.accounts.push(this.auth.actor),this.record.accounts.sort()),this.record.perms.includes(this.auth.perm)||"active"==this.auth.perm||"owner"==this.auth.perm||(this.record.perms.push(this.auth.perm),this.record.perms.sort()),this.record.contracts.includes(this.contract)||(this.record.contracts.push(this.contract),this.record.contracts.sort()),localStorage.setItem("record",JSON.stringify(this.record))}}},H=(n("0ba2"),Object(L.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"CustomDialog",title:"添加自定义操作",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("合 约")]),n("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{ref:"contract",attrs:{maxlength:"12",placeholder:"合约账号"},on:{input:t.handleCheckContract},model:{value:t.contract,callback:function(e){t.contract=e},expression:"contract"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.record.contracts,(function(e,s){return n("el-dropdown-item",{key:s,staticClass:"flexbc",attrs:{command:"contract-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("contracts-"+s)}}})])})),1)],1),n("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading},on:{click:t.handleContractQuery}},[t._v("查 询")])],1),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("操 作")]),n("div",{staticClass:"d-flex flex-grow-1"},[n("el-select",{staticClass:"flex-grow-1",on:{change:t.handleActionSelect},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},t._l(t.actionOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("参 数")]),n("div",{staticClass:"d-flex flex-grow-1 flex-column"},t._l(t.actionParams,(function(e,s){return n("div",{key:s,staticClass:"rmb-2"},[n("el-input",{attrs:{placeholder:e.name},model:{value:e.input,callback:function(n){t.$set(e,"input",n)},expression:"v.input"}},[n("template",{slot:"append"},[t._v(t._s(e.type))])],2)],1)})),0)]),n("div",{staticClass:"d-flex justify-content-startr rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("授 权")]),n("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{ref:"actor",attrs:{maxlength:"12",placeholder:"账号"},on:{input:t.handleCheckAccount},model:{value:t.auth.actor,callback:function(e){t.$set(t.auth,"actor",e)},expression:"auth.actor"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"actor"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,s){return n("el-dropdown-item",{key:s,staticClass:"flexbc",attrs:{command:"actor-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+s)}}})])}))],2)],1),n("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),n("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{attrs:{placeholder:"权限"},model:{value:t.auth.perm,callback:function(e){t.$set(t.auth,"perm",e)},expression:"auth.perm"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"active"}},[t._v("active")]),n("el-dropdown-item",{attrs:{command:"owner"}},[t._v("owner")]),t._l(t.record.perms,(function(e,s){return n("el-dropdown-item",{key:s,staticClass:"flexbc",attrs:{command:"perm-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+s)}}})])}))],2)],1)],1),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"}),n("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])])}),[],!1,null,"0a5b88a8",null).exports),Y=(n("acd8"),n("4de4"),{name:"TransferDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount:"",toAccount:"",transferArray:[{transferNum:"",transferSym:"",contract:"请选择",decimal:4,decimalTip:"0.0000",coinNum:"null"}],memo:"",permission:"active",transferOpt:[],coins:[{contract:"eosio.token",sym:"EOS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"tethertether",sym:"USDT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"},{contract:"pizzatotoken",sym:"PIZZA",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pizzatotoken-pizza.png"},{contract:"token.defi",sym:"BOX",decimal:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/token.defi-box.png"},{contract:"tagtokenmain",sym:"TAG",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png"},{contract:"yfctokenmain",sym:"YFC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/yfctokenmain-yfc.png"},{contract:"dbctokenmain",sym:"DBC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dbctokenmain-dbc.png"},{contract:"pddtokenmain",sym:"PDD",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pddtokenmain-pdd.png"},{contract:"usdxusdxusdx",sym:"USDC",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/usdxusdxusdx-usdc.png"},{contract:"dfxtokenmain",sym:"DFG",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfxtokenmain-dfg.png"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"eosiotptoken",sym:"TPT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosiotptoken-tpt.png"},{contract:"core.ogx",sym:"OGX",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/core.ogx-ogx.png"},{contract:"asset.dtoken",sym:"ETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-eth.png"},{contract:"asset.dtoken",sym:"BTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-btc.png"},{contract:"mkstaketoken",sym:"KEY",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/mkstaketoken-key.png"},{contract:"ihooeostoken",sym:"HOO",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/ihooeostoken-hoo.png"},{contract:"btc.ptokens",sym:"PBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/btc.ptokens-pbtc.png"},{contract:"lootglobcore",sym:"LOOT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/lootglobcore-loot.png"},{contract:"xpettimecore",sym:"TIME",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/xpettimecore-time.png"},{contract:"everipediaiq",sym:"IQ",decimal:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/everipediaiq-iq.png"},{contract:"udxsynthetic",sym:"XEOS",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xbtc.png"},{contract:"udxsynthetic",sym:"XBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeos.png"},{contract:"udxsynthetic",sym:"XETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeth.png"},{contract:"pink.bank",sym:"PINK",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pink.bank-pink.png"}],fee:.08,feeAccount:"davidaccount",payNum:"0.0800",payContract:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray.forEach((function(e){var n={};n.from=t.fromAccount,n.to=t.toAccount,n.quantity=parseFloat(e.transferNum).toFixed(e.decimal)+" "+e.transferSym,n.memo=t.memo,t.transferOpt.push({action:e.contract.split("-")[0]+":transfer",perm:t.fromAccount+"@"+t.permission,param:n,fee:!1})})),!this.vip||this.fromAccount!=this.account.name){var e={from:this.fromAccount,to:this.feeAccount,quantity:this.payNum+" "+this.payContract.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract.split("-")[0]+":transfer",perm:this.fromAccount+"@"+this.permission,param:e,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TransferDialog"}),!1;if(""===this.toAccount.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TransferDialog"}),!1;for(var t=0;t<this.transferArray.length;t++){if(""===this.transferArray[t].transferNum.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TransferDialog"}),!1;if(""===this.transferArray[t].transferSym.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TransferDialog"}),!1}return this.fromAccount.trim()!==this.toAccount.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#TransferDialog"}),!1)},handleCheckFromAccount:function(){var t,e=!1,n=Object(a.a)(this.fromAccount);try{for(n.s();!(t=n.n()).done;){var s=t.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.fromAccount.$refs.input.classList.add("border-danger"):this.$refs.fromAccount.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin()},handleCheckToAccount:function(){var t,e=!1,n=Object(a.a)(this.toAccount);try{for(n.s();!(t=n.n()).done;){var s=t.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.toAccount.$refs.input.classList.add("border-danger"):this.$refs.toAccount.$refs.input.classList.remove("border-danger")},handleCommand:function(t){var e=this;if("fromAccount"==t)this.fromAccount=this.account.name,this.$refs.fromAccount.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin();else if("toAccount"==t)this.toAccount=this.account.name,this.$refs.toAccount.$refs.input.classList.remove("border-danger");else if("active"==t||"owner"==t)this.permission=t;else if(t.includes("fromAccount-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount=n,e.$refs.fromAccount.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin())}))}else if(t.includes("toAccount-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.toAccount=s,e.$refs.toAccount.$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var a=t.split("-")[1];this.record.perms.forEach((function(t){t==a&&(e.permission=a)}))}this.del=!1},handleChangeCoin:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray[t].contract}));this.transferArray[t].transferSym=n[0].sym,this.transferArray[t].decimal=n[0].decimal,this.transferArray[t].decimalTip=(0).toFixed(n[0].decimal),this.handleGetNum(t)},handleGetNum:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray[t].contract.split("-")[0],a=e.transferArray[t].contract.split("-")[1],r=e.fromAccount,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray[t].coinNum=e.transferArray[t].decimalTip,n.abrupt("return");case 17:e.transferArray[t].coinNum=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleAddTransfer:function(){this.transferArray.push({transferNum:"",transferSym:"",contract:"请选择",decimal:4,decimalTip:"0.0000",coinNum:"null"})},handleDeleteTransfer:function(t){this.transferArray.length>1?this.transferArray.splice(t,1):(this.transferArray[t].transferNum="",this.transferArray[t].transferSym="",this.transferArray[t].contract="请选择",this.transferArray[t].decimal=4,this.transferArray[t].decimalTip="0.0000",this.transferArray[t].coinNum="null")},handleChangePayCoin:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract}));this.vip&&this.fromAccount==this.account.name?this.payNum="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#TransferDialog"}),this.payContract="tethertether-USDT",this.payNum=this.fee):this.payNum=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,s=n.status,a=n.result,s){e.next=8;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#TransferDialog"}),e.abrupt("return");case 8:if((r=a.rows||[]).length){e.next=12;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#TransferDialog"}),e.abrupt("return");case 12:r.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 13:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract})),n=(1/e[0].price*this.fee).toFixed(e[0].decimal);return this.vip&&this.fromAccount==this.account.name&&(n=0),n==this.payNum||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#TransferDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#TransferDialog",message:"每笔交易0.5元手续费；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount)||this.fromAccount==this.account.name||(this.record.accounts.push(this.fromAccount),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount)||this.toAccount==this.account.name||(this.record.accounts.push(this.toAccount),this.record.accounts.sort()),this.record.perms.includes(this.permission)||"active"==this.permission||"owner"==this.permission||(this.record.perms.push(this.permission),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}}),X=(n("89b2"),Object(L.a)(Y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{id:"TransferDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[s("template",{slot:"title"},[s("div",{staticClass:"flexcc"},[s("div",[t._v("添加转账操作")]),t.vip?s("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):s("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount},model:{value:t.fromAccount,callback:function(e){t.fromAccount=e},expression:"fromAccount"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission,callback:function(e){t.permission=e},expression:"permission"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount},model:{value:t.toAccount,callback:function(e){t.toAccount=e},expression:"toAccount"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum,placement:"bottom-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip},model:{value:e.transferNum,callback:function(n){t.$set(e,"transferNum",n)},expression:"item.transferNum"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin(n)}},model:{value:e.contract,callback:function(n){t.$set(e,"contract",n)},expression:"item.contract"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum,callback:function(e){t.payNum=e},expression:"payNum"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin},model:{value:t.payContract,callback:function(e){t.payContract=e},expression:"payContract"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"2d60e365",null).exports),Z={name:"SwapDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"}],memo1:"",memo2:"",permission1:"active",permission2:"active",transferOpt:[],coins:[{contract:"eosio.token",sym:"EOS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"tethertether",sym:"USDT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"},{contract:"pizzatotoken",sym:"PIZZA",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pizzatotoken-pizza.png"},{contract:"token.defi",sym:"BOX",decimal:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/token.defi-box.png"},{contract:"tagtokenmain",sym:"TAG",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png"},{contract:"yfctokenmain",sym:"YFC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/yfctokenmain-yfc.png"},{contract:"dbctokenmain",sym:"DBC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dbctokenmain-dbc.png"},{contract:"pddtokenmain",sym:"PDD",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pddtokenmain-pdd.png"},{contract:"usdxusdxusdx",sym:"USDC",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/usdxusdxusdx-usdc.png"},{contract:"dfxtokenmain",sym:"DFG",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfxtokenmain-dfg.png"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"eosiotptoken",sym:"TPT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosiotptoken-tpt.png"},{contract:"core.ogx",sym:"OGX",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/core.ogx-ogx.png"},{contract:"asset.dtoken",sym:"ETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-eth.png"},{contract:"asset.dtoken",sym:"BTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-btc.png"},{contract:"mkstaketoken",sym:"KEY",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/mkstaketoken-key.png"},{contract:"ihooeostoken",sym:"HOO",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/ihooeostoken-hoo.png"},{contract:"btc.ptokens",sym:"PBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/btc.ptokens-pbtc.png"},{contract:"lootglobcore",sym:"LOOT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/lootglobcore-loot.png"},{contract:"xpettimecore",sym:"TIME",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/xpettimecore-time.png"},{contract:"everipediaiq",sym:"IQ",decimal:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/everipediaiq-iq.png"},{contract:"udxsynthetic",sym:"XEOS",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xbtc.png"},{contract:"udxsynthetic",sym:"XBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeos.png"},{contract:"udxsynthetic",sym:"XETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeth.png"},{contract:"pink.bank",sym:"PINK",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pink.bank-pink.png"}],fee:.08,feeAccount:"davidaccount",payNum1:"0.0800",payNum2:"0.0800",payContract1:"tethertether-USDT",payContract2:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray1.forEach((function(e){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo=t.memo1,t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})})),this.transferArray2.forEach((function(e){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo=t.memo2,t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})})),!this.vip||this.fromAccount1!=this.account.name){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip||this.fromAccount2!=this.account.name){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#SwapDialog"}),!1;for(var t=0;t<this.transferArray1.length;t++){if(""===this.transferArray1[t].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.transferArray1[t].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#SwapDialog"}),!1}for(var e=0;e<this.transferArray2.length;e++){if(""===this.transferArray2[e].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.transferArray2[e].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#SwapDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#SwapDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.fromAccount2=s,e.toAccount1=s,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.toAccount2=r,e.fromAccount1=r,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission1=o)}))}else if(t.includes("perm2-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission2=i)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.handleGetNum2(t)},handleGetNum1:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],r=e.fromAccount1,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 17:e.transferArray1[t].coinNum1=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],r=e.fromAccount2,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 17:e.transferArray2[t].coinNum2=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null")},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null")},handleChangePayCoin1:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1}));this.vip&&this.fromAccount1==this.account.name?this.payNum1="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#SwapDialog"}),this.payContract1="tethertether-USDT",this.payNum1=this.fee):this.payNum1=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleChangePayCoin2:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2}));this.vip&&this.fromAccount2==this.account.name?this.payNum2="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#SwapDialog"}),this.payContract2="tethertether-USDT",this.payNum2=this.fee):this.payNum2=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,s=n.status,a=n.result,s){e.next=8;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#SwapDialog"}),e.abrupt("return");case 8:if((r=a.rows||[]).length){e.next=12;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#SwapDialog"}),e.abrupt("return");case 12:r.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 13:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1})),n=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2})),s=(1/e[0].price*this.fee).toFixed(e[0].decimal),a=(1/n[0].price*this.fee).toFixed(n[0].decimal);return this.vip&&this.fromAccount1==this.account.name&&(s=0),this.vip&&this.fromAccount2==this.account.name&&(a=0),s==this.payNum1&&a==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#SwapDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#SwapDialog",message:"每笔交易1元手续费，由双方共同承担；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}},tt=(n("0bf2"),Object(L.a)(Z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{id:"SwapDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[s("template",{slot:"title"},[s("div",{staticClass:"flexcc"},[s("div",[t._v("添加交换操作")]),t.vip?s("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):s("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"bottom-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-4"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.transferArray1,(function(e,n){return s("div",{key:n,staticClass:"fw-bold"},[""!=e.transferNum1||""!=e.transferSym1?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),s("i",{staticClass:"el-icon-right rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),s("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.transferSym1))])]):t._e()])})),s("el-divider",{staticClass:"rmy-3 h-2"},[s("i",{staticClass:"el-icon-refresh"})]),t._l(t.transferArray2,(function(e,n){return s("div",{key:t.transferArray1.length+n,staticClass:"fw-bold"},[""!=e.transferNum2||""!=e.transferSym2?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),s("i",{staticClass:"el-icon-back rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),s("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.transferSym2))])]):t._e()])})),s("div",{staticClass:"rmb-4"}),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"bottom-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n+1,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"be4c88dc",null).exports),et=(n("e25e"),{name:"TownDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null",coinName1:"",coinTotal1:0}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null",coinName2:"",coinTotal2:0}],memo1:"",memo2:"",permission1:"active",permission2:"active",transferOpt:[],coins:[{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"dfsfarmitems",sym:"WHEAT",decimal:4,name:"小麦",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/WHEAT.png"},{contract:"dfsfarmitems",sym:"CORN",decimal:4,name:"玉米",cost:2,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CORN.png"},{contract:"dfsfarmitems",sym:"CARROT",decimal:4,name:"萝卜",cost:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CARROT.png"},{contract:"dfsfarmitems",sym:"SUGCANE",decimal:4,name:"甘蔗",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SUGCANE.png"},{contract:"dfsfarmitems",sym:"COTTON",decimal:4,name:"棉花",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COTTON.png"},{contract:"dfsfarmitems",sym:"COWFOOD",decimal:4,name:"牛饲料",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COWFOOD.png"},{contract:"dfsfarmitems",sym:"CHKFOOD",decimal:4,name:"鸡饲料",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CHKFOOD.png"},{contract:"dfsfarmitems",sym:"SHPFOOD",decimal:4,name:"羊饲料",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SHPFOOD.png"},{contract:"dfsfarmitems",sym:"MILK",decimal:4,name:"牛奶",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/MILK.png"},{contract:"dfsfarmitems",sym:"EGG",decimal:4,name:"鸡蛋",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/EGG.png"},{contract:"dfsfarmitems",sym:"WOOL",decimal:4,name:"羊毛",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/WOOL.png"},{contract:"dfsfarmitems",sym:"BREAD",decimal:4,name:"面包",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BREAD.png"},{contract:"dfsfarmitems",sym:"COOKIE",decimal:4,name:"曲奇",cost:7,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COOKIE.png"},{contract:"dfsfarmitems",sym:"CAKE",decimal:4,name:"蛋糕",cost:11,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CAKE.png"},{contract:"dfsfarmitems",sym:"SUGAR",decimal:4,name:"砂糖",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SUGAR.png"},{contract:"dfsfarmitems",sym:"SYRUP",decimal:4,name:"糖浆",cost:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SYRUP.png"},{contract:"dfsfarmitems",sym:"CARAMEL",decimal:4,name:"焦糖",cost:12,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CARAMEL.png"},{contract:"dfsfarmitems",sym:"CLOTH",decimal:4,name:"棉布",cost:15,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CLOTH.png"},{contract:"dfsfarmitems",sym:"YARN",decimal:4,name:"纺纱",cost:18,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/YARN.png"},{contract:"dfsfarmitems",sym:"SILK",decimal:4,name:"丝绸",cost:22,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SILK.png"},{contract:"dfsfarmitems",sym:"SHIRT",decimal:4,name:"衬衫",cost:30,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SHIRT.png"},{contract:"dfsfarmitems",sym:"SWEATER",decimal:4,name:"毛衣",cost:36,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SWEATER.png"},{contract:"dfsfarmitems",sym:"COAT",decimal:4,name:"外套",cost:55,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COAT.png"},{contract:"dfsfarmitems",sym:"RUBY",decimal:4,name:"红宝石",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/RUBY.png"},{contract:"dfsfarmitems",sym:"BERYL",decimal:4,name:"绿宝石",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BERYL.png"},{contract:"dfsfarmitems",sym:"TOPAZ",decimal:4,name:"黄玉",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/TOPAZ.png"},{contract:"dfsfarmitems",sym:"AMTHYST",decimal:4,name:"紫水晶",cost:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/AMTHYST.png"},{contract:"dfsfarmitems",sym:"VOICE",decimal:4,name:"小喇叭",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/VOICE.png"},{contract:"dfsfarmitems",sym:"LAND",decimal:4,name:"体验卡",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/LAND.png"},{contract:"dfsfarmitems",sym:"FTZ",decimal:4,name:"化肥",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/FTZ.png"},{contract:"dfsfarmitems",sym:"CHIP",decimal:4,name:"碎片",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CHIP.png"}],fee:.001,feeAccount:"davidaccount",payNum1:"0.0010",payNum2:"0.0010",payContract1:"dfsfarmitems-DCASH",payContract2:"dfsfarmitems-DCASH",payCoins:[{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),{},{calcTip:function(){var t=0,e=0;return this.transferArray1.forEach((function(e){t+=e.coinTotal1})),this.transferArray2.forEach((function(t){e+=t.coinTotal2})),this.payNum1=(t+e)*this.fee/2,this.payNum2=this.payNum1,this.vip&&this.fromAccount1==this.account.name&&(this.payNum1=0),this.vip&&this.fromAccount2==this.account.name&&(this.payNum2=0),t+" : "+e}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray1.forEach((function(e){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo=t.memo1,t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})})),this.transferArray2.forEach((function(e){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo=t.memo2,t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})})),!this.vip||this.fromAccount1!=this.account.name){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip||this.fromAccount2!=this.account.name){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TownDialog"}),!1;for(var t=0;t<this.transferArray1.length;t++){if(""===this.transferArray1[t].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TownDialog"}),!1;if(""===this.transferArray1[t].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TownDialog"}),!1}for(var e=0;e<this.transferArray2.length;e++){if(""===this.transferArray2[e].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TownDialog"}),!1;if(""===this.transferArray2[e].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TownDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#TownDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.fromAccount2=s,e.toAccount1=s,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.toAccount2=r,e.fromAccount1=r,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission1=o)}))}else if(t.includes("perm2-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission2=i)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.transferArray1[t].coinName1=n[0].name+"-"+n[0].cost,this.transferArray1[t].coinTotal1=parseInt(n[0].cost*this.transferArray1[t].transferNum1),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.transferArray2[t].coinName2=n[0].name+"-"+n[0].cost,this.transferArray2[t].coinTotal2=parseInt(n[0].cost*this.transferArray2[t].transferNum2),this.handleGetNum2(t)},handleChangeNum1:function(t){var e=this.transferArray1[t].coinName1.split("-")[1];isNaN(e)&&(e=0),this.transferArray1[t].coinTotal1=parseInt(e*this.transferArray1[t].transferNum1)},handleChangeNum2:function(t){var e=this.transferArray2[t].coinName2.split("-")[1];isNaN(e)&&(e=0),this.transferArray2[t].coinTotal2=parseInt(e*this.transferArray2[t].transferNum2)},handleGetNum1:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],r=e.fromAccount1,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 17:e.transferArray1[t].coinNum1=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],r=e.fromAccount2,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 17:e.transferArray2[t].coinNum2=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null",coinName1:"",coinTotal1:0})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null",coinName2:"",coinTotal2:0})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null",this.transferArray1[t].coinName1="",this.transferArray1[t].coinTotal1=0)},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null",this.transferArray2[t].coinName2="",this.transferArray2[t].coinTotal2=0)},handleChangePayCoin1:function(){},handleChangePayCoin2:function(){},handleCheckFee:function(){var t=0,e=0,n=0,s=0;return this.transferArray1.forEach((function(e){t+=e.coinTotal1})),this.transferArray2.forEach((function(t){e+=t.coinTotal2})),s=n=(t+e)*this.fee/2,this.vip&&this.fromAccount1==this.account.name&&(n=0),this.vip&&this.fromAccount2==this.account.name&&(s=0),n==this.payNum1&&s==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#TownDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#TownDialog",message:"每笔交易额的0.1%，由双方共同承担；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}}}),nt=(n("11d6"),Object(L.a)(et,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{id:"TownDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[s("template",{slot:"title"},[s("div",{staticClass:"flexcc"},[s("div",[t._v("添加交换操作")]),t.vip?s("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):s("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"top-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},on:{input:function(e){return t.handleChangeNum1(n)}},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.name,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.name)+"-"+t._s(e.cost)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-4"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:t.calcTip},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.transferArray1,(function(e,n){return s("div",{key:n,staticClass:"fw-bold"},[""!=e.transferNum1||""!=e.coinName1?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),s("i",{staticClass:"el-icon-right rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),s("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.coinName1))])]):t._e()])})),s("el-divider",{staticClass:"rmy-3 h-2"},[s("i",{staticClass:"el-icon-refresh"})]),t._l(t.transferArray2,(function(e,n){return s("div",{key:t.transferArray1.length+n,staticClass:"fw-bold"},[""!=e.transferNum2||""!=e.coinName2?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),s("i",{staticClass:"el-icon-back rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),s("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.coinName2))])]):t._e()])})),s("div",{staticClass:"rmb-4"}),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"top-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},on:{input:function(e){return t.handleChangeNum2(n)}},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.name,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.name)+"-"+t._s(e.cost)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:t.calcTip},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"7cd17a36",null).exports),st=n("2909"),at={name:"NftDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,loading1:!1,loading2:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"}],nftArray1:[{id1:""}],nftArray2:[{id2:""}],permission1:"active",permission2:"active",transferOpt:[],nfts1:[],nfts2:[],coins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],chinese:{land:"土地",gemfactory:"宝石工厂",feedmill:"饲料厂",cow:"奶牛",bakery:"面包坊",textilemill:"纺织厂",sugarmill:"制糖厂",tailorshop:"裁缝店",sheep:"绵羊",chicken:"鸡",fish:"鱼卡",papaya:"木瓜",papayachip:"木瓜碎片",root:"ROOT"},fee:.25,feeAccount:"davidaccount",payNum1:"0.2500",payNum2:"0.2500",payContract1:"tethertether-USDT",payContract2:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),{},{memo1:function(){var t=this,e="";return this.nftArray1.forEach((function(n){if(""!==n.id1){var s=t.nfts1.filter((function(t){return t.id==n.id1}));e+=n.id1+"-"+s[0].name+("null"==s[0].level?"":"-"+s[0].level+"级")+";"}})),""!=e&&(e=e.slice(0,e.length-1)),e},memo2:function(){var t=this,e="";return this.nftArray2.forEach((function(n){if(""!==n.id2){var s=t.nfts2.filter((function(t){return t.id==n.id2}));e+=n.id2+"-"+s[0].name+("null"==s[0].level?"":"-"+s[0].level+"级")+";"}})),""!=e&&(e=e.slice(0,e.length-1)),e}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.nftArray1.forEach((function(e){if(""!=e.id1){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.assetid=parseInt(e.id1),n.memo=t.memo1,t.transferOpt.push({action:"dfsnftassets:transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})}})),this.transferArray1.forEach((function(e){if(""!=e.transferNum1.trim()&&""!=e.transferSym1.trim()){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo="补差价",t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})}})),this.nftArray2.forEach((function(e){if(""!=e.id2){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.assetid=parseInt(e.id2),n.memo=t.memo2,t.transferOpt.push({action:"dfsnftassets:transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})}})),this.transferArray2.forEach((function(e){if(""!=e.transferNum2.trim()&&""!=e.transferSym2.trim()){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo="补差价",t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})}})),!this.vip||this.fromAccount1!=this.account.name){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip||this.fromAccount2!=this.account.name){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#NftDialog"}),!1;if((""===this.transferArray1[0].transferNum1.trim()||""===this.transferArray1[0].transferSym1.trim())&&""==this.nftArray1[0].id1)return this.$toast({type:"fail",message:"NFT编号不能为空",getContainer:"#NftDialog"}),!1;if((""===this.transferArray2[0].transferNum2.trim()||""===this.transferArray2[0].transferSym2.trim())&&""==this.nftArray2[0].id2)return this.$toast({type:"fail",message:"NFT编号不能为空",getContainer:"#NftDialog"}),!1;if(""==this.nftArray1[0].id1){if(""===this.transferArray1[0].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#NftDialog"}),!1;if(""===this.transferArray1[0].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#NftDialog"}),!1}if(""==this.nftArray2[0].id2){if(""===this.transferArray2[0].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#NftDialog"}),!1;if(""===this.transferArray2[0].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#NftDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#NftDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.fromAccount2=s,e.toAccount1=s,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.toAccount2=r,e.fromAccount1=r,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission1=o)}))}else if(t.includes("perm2-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission2=i)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.handleGetNum2(t)},handleGetNum1:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],r=e.fromAccount1,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 17:e.transferArray1[t].coinNum1=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],r=e.fromAccount2,o={code:s,scope:r,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,D(o);case 8:if(i=n.sent,c=i.status,l=i.result,c){n.next=13;break}return n.abrupt("return");case 13:if((u=l.rows||[]).length){n.next=17;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 17:e.transferArray2[t].coinNum2=u[0].balance;case 18:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null")},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null")},handleNftQuery1:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c,l,u,d,m,f,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.fromAccount1.trim()){e.next=3;break}return t.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),e.abrupt("return");case 3:t.nfts1=[{id:"",collection:"",name:"无",level:"null"}],n=!0,s="",a=[],t.loading1=!0;case 8:if(!n){e.next=26;break}return r={code:"dfsnftassets",scope:t.fromAccount1+" ",table:"assets",limit:1e3,json:!0,lower_bound:s},e.next=12,D(r);case 12:if(o=e.sent,i=o.status,c=o.result,i){e.next=20;break}return t.$toast({type:"fail",message:"获取账号NFT失败",getContainer:"#NftDialog"}),t.logMsg.push("获取账号NFT失败"),t.loading1=!1,e.abrupt("return");case 20:l=c.rows||[],n=c.more,s=c.next_key,a.push.apply(a,Object(st.a)(l)),e.next=8;break;case 26:a.forEach((function(e){t.nfts1.push({id:e.id,collection:e.collection,name:t.chinese[e.collection],level:"null"})})),t.loading1=!1,u=0;case 29:if(!(u<t.nfts1.length)){e.next=45;break}return d={code:"dfsmetaverse",scope:t.nfts1[u].id,table:"stats",json:!0},e.next=33,D(d);case 33:if(m=e.sent,f=m.status,p=m.result,f){e.next=38;break}return e.abrupt("continue",42);case 38:if((h=p.rows||[]).length){e.next=41;break}return e.abrupt("continue",42);case 41:t.nfts1[u].level=h[0].val;case 42:u++,e.next=29;break;case 45:case"end":return e.stop()}}),e)})))()},handleNftQuery2:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c,l,u,d,m,f,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.fromAccount2.trim()){e.next=3;break}return t.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),e.abrupt("return");case 3:t.nfts2=[{id:"",collection:"",name:"无",level:"null"}],n=!0,s="",a=[],t.loading2=!0;case 8:if(!n){e.next=26;break}return r={code:"dfsnftassets",scope:t.fromAccount2+" ",table:"assets",limit:1e3,json:!0,lower_bound:s},e.next=12,D(r);case 12:if(o=e.sent,i=o.status,c=o.result,i){e.next=20;break}return t.$toast({type:"fail",message:"获取账号NFT失败",getContainer:"#NftDialog"}),t.logMsg.push("获取账号NFT失败"),t.loading2=!1,e.abrupt("return");case 20:l=c.rows||[],n=c.more,s=c.next_key,a.push.apply(a,Object(st.a)(l)),e.next=8;break;case 26:a.forEach((function(e){t.nfts2.push({id:e.id,collection:e.collection,name:t.chinese[e.collection],level:"null"})})),t.loading2=!1,u=0;case 29:if(!(u<t.nfts2.length)){e.next=45;break}return d={code:"dfsmetaverse",scope:t.nfts2[u].id,table:"stats",json:!0},e.next=33,D(d);case 33:if(m=e.sent,f=m.status,p=m.result,f){e.next=38;break}return e.abrupt("continue",42);case 38:if((h=p.rows||[]).length){e.next=41;break}return e.abrupt("continue",42);case 41:t.nfts2[u].level=h[0].val;case 42:u++,e.next=29;break;case 45:case"end":return e.stop()}}),e)})))()},handleAddNft1:function(){this.nftArray1.push({id1:""})},handleAddNft2:function(){this.nftArray2.push({id2:""})},handleDeleteNft1:function(t){this.nftArray1.length>1?this.nftArray1.splice(t,1):this.nftArray1[t].id1=""},handleDeleteNft2:function(t){this.nftArray2.length>1?this.nftArray2.splice(t,1):this.nftArray2[t].id2=""},handleChangePayCoin1:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1}));this.vip&&this.fromAccount1==this.account.name?this.payNum1="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#NftDialog"}),this.payContract1="tethertether-USDT",this.payNum1="0.2500"):this.payNum1=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleChangePayCoin2:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2}));this.vip&&this.fromAccount2==this.account.name?this.payNum2="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#NftDialog"}),this.payContract2="tethertether-USDT",this.payNum2="0.2500"):this.payNum2=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,s=n.status,a=n.result,s){e.next=8;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#NftDialog"}),e.abrupt("return");case 8:if((r=a.rows||[]).length){e.next=12;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#NftDialog"}),e.abrupt("return");case 12:r.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 13:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1})),n=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2})),s=(1/e[0].price*this.fee).toFixed(e[0].decimal),a=(1/n[0].price*this.fee).toFixed(n[0].decimal);return this.vip&&this.fromAccount1==this.account.name&&(s=0),this.vip&&this.fromAccount2==this.account.name&&(a=0),s==this.payNum1&&a==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#NftDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#NftDialog",message:"每笔交易固定收取0.5USDT(100*0.005)等价值的代币作为手续费，跟NFT交易数量和价格无关，所以每次交易NFT数量越多，价格越高就越划算；手续费由双方共同承担，即每个账号在交易外单独收取0.25USDT等价值的手续费；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}},rt=(n("f87c"),Object(L.a)(at,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{id:"NftDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[s("template",{slot:"title"},[s("div",{staticClass:"flexcc"},[s("div",[t._v("添加NFT交换操作")]),t.vip?s("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):s("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("NFT编号")]),s("div",{staticClass:"flex-grow-1"},t._l(t.nftArray1,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("el-select",{staticClass:"flex-grow-1",model:{value:e.id1,callback:function(n){t.$set(e,"id1",n)},expression:"item.id1"}},t._l(t.nfts1,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{value:e.id}},[t._v(" "+t._s("#"+e.id+"-"+e.name+("null"==e.level?"":"-"+e.level+"级"))+" ")])})),1),s("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading1},on:{click:t.handleNftQuery1}},[t._v("查 询")]),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteNft1(n)}}})],1)})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddNft1}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddNft1}})],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("补差价")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"bottom-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-4"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.nftArray1,(function(e,n){return s("div",{key:"nftArray1"+n,staticClass:"fw-bold"},[""!=e.id1?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),s("i",{staticClass:"el-icon-right rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),s("span",{},[t._v(" "+t._s(e.id1))])]):t._e()])})),t._l(t.transferArray1,(function(e,n){return s("div",{key:"transferArray1"+n,staticClass:"fw-bold"},[""!=e.transferNum1?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),s("i",{staticClass:"el-icon-right rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),s("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.transferSym1))])]):t._e()])})),s("el-divider",{staticClass:"rmy-3 h-2"},[s("i",{staticClass:"el-icon-refresh"})]),t._l(t.nftArray2,(function(e,n){return s("div",{key:"nftArray2"+n,staticClass:"fw-bold"},[""!=e.id2?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),s("i",{staticClass:"el-icon-back rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),s("span",{},[t._v(" "+t._s(e.id2))])]):t._e()])})),t._l(t.transferArray2,(function(e,n){return s("div",{key:"transferArray2"+n,staticClass:"fw-bold"},[""!=e.transferNum2?s("div",[s("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),s("i",{staticClass:"el-icon-back rmx-1"}),s("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),s("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.transferSym2))])]):t._e()])})),s("div",{staticClass:"rmb-4"}),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return s("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("NFT编号")]),s("div",{staticClass:"flex-grow-1"},t._l(t.nftArray2,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("el-select",{staticClass:"flex-grow-1",model:{value:e.id2,callback:function(n){t.$set(e,"id2",n)},expression:"item.id2"}},t._l(t.nfts2,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{value:e.id}},[t._v(" "+t._s("#"+e.id+"-"+e.name+("null"==e.level?"":"-"+e.level+"级"))+" ")])})),1),s("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading2},on:{click:t.handleNftQuery2}},[t._v("查 询")]),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteNft2(n)}}})],1)})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddNft2}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddNft2}})],1),s("div",{staticClass:"d-flex justify-content-start"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("补差价")]),s("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"bottom-start"}},[s("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),s("div",{staticClass:"d-flex justify-content-end rmb-3"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[s("i",{staticClass:"el-icon-plus"})]),s("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),s("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[s("template",{slot:"append"},[s("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return s("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[s("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),s("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"68b9b7c7",null).exports),ot={name:"VipDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),{},{dbc:function(){return parseFloat(this.$store.state.app.vip.dbc).toFixed(4)},pdd:function(){return parseFloat(this.$store.state.app.vip.pdd).toFixed(4)}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){this.dialogVisible=!1},handleUpdate:function(){this.account&&this.account.name?(this.$emit("update"),this.$toast({type:"success",message:"刷新已发出",getContainer:"#VipDialog"})):this.$toast({type:"fail",message:"未登陆",getContainer:"#VipDialog"})}},mounted:function(){}},it=(n("1890"),Object(L.a)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"VipDialog",title:"VIP",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"rmb-2 fs-medium"},[t._v("VIP权益")]),n("div",{staticClass:"text-secondary"},[t._v("1. 多签单向免手续费")]),n("div",{staticClass:"text-secondary"},[t._v("2. 小镇自动化工具免手续费")]),n("div",{staticClass:"text-secondary"},[t._v("3. 未来若干个薛定谔的功能")]),n("div",{staticClass:"rmy-2 fs-medium"},[t._v("如何成为VIP")]),n("div",{staticClass:"text-secondary"},[t._v("只要账号里有DBC或PDD(包括做市)，并且它们的数量加起来大于1，即可成为VIP会员")]),n("div",{staticClass:"rmy-2 fs-medium"},[t._v("当前拥用数量")]),n("div",{staticClass:"text-secondary"},[t._v("DBC: "+t._s(t.dbc)+"， PDD: "+t._s(t.pdd))]),n("van-button",{staticClass:"rmy-3 fs-medium",attrs:{type:"info",block:"",round:""},on:{click:t.handleUpdate}},[t._v("刷 新")])],1)}),[],!1,null,"2abe219a",null).exports);var ct=n("2581").a,lt={name:"RamDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,radio:"buy",buyRam:"",sellRam:"",cpu:{available:0,max:0,percentage:0,available_unit:"us",max_unit:"us"},net:{available:0,max:0,percentage:0,available_unit:"B",max_unit:"B"},ram:{available:0,max:0,percentage:0,available_unit:"B",max_unit:"B"},timer:null,eosBal:0,ramPrice:0}},watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),{},{calcRam:function(){return parseFloat(this.buyRam/this.ramPrice).toFixed(4)},calcEos:function(){return parseFloat(this.sellRam*this.ramPrice).toFixed(4)}}),methods:{handleOpenDialog:function(){this.handleUpdate()},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){this.dialogVisible=!1},handleGetRes:function(){var t=this,e=this.account.name;void 0!==e&&ct.getAccount({account_name:e},(function(e){var n=e.cpu_limit.available,s=e.cpu_limit.max,a=0,r="us",o="us";a=0===s?0:parseInt(n/s*100),n>=1e6?(n=O(n/=1e6,3),r="ms"):n>=1e3?(n=O(n/=1e3,3),r="ms"):r="us",s>=1e6?(s=O(s/=1e6,3),o="ms"):s>=1e3?(s=O(s/=1e3,3),o="ms"):o="us";var i=e.net_limit.available,c=e.net_limit.max,l=0,u="B",d="B";l=0===c?0:parseInt(i/c*100),i>=1024e6?(i=O(i/=1024e6,2),u="GB"):i>=1024e3?(i=O(i/=1024e3,2),u="MB"):i>=1024?(i=O(i/=1024,2),u="KB"):u="B",c>=1024e6?(c=O(c/=1024e6,2),d="GB"):c>=1024e3?(c=O(c/=1024e3,2),d="MB"):c>=1024?(c=O(c/=1024,2),d="KB"):d="B";var m=e.ram_quota-e.ram_usage,f=e.ram_quota,p=0,h="B",g="B";p=0===f?0:parseInt(m/f*100),m>=1024e6?(m=O(m/=1024e6,2),h="GB"):m>=1024e3?(m=O(m/=1024e3,2),h="MB"):m>=1024?(m=O(m/=1024,2),h="KB"):h="B",f>=1024e6?(f=O(f/=1024e6,2),g="GB"):f>=1024e3?(f=O(f/=1024e3,2),g="MB"):f>=1024?(f=O(f/=1024,2),g="KB"):g="B",t.cpu={available:n,available_unit:r,max:s,max_unit:o,percentage:a},t.net={available:i,available_unit:u,max:c,max_unit:d,percentage:l},t.ram={available:m,available_unit:h,max:f,max_unit:g,percentage:p}}))},handleGetEosBal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={code:"eosio.token",scope:t.account.name+" ",table:"accounts",lower_bound:"EOS",upper_bound:"EOS",json:!0},e.next=3,D(n);case 3:if(s=e.sent,a=s.status,r=s.result,a){e.next=8;break}return e.abrupt("return");case 8:if((o=r.rows||[]).length){e.next=11;break}return e.abrupt("return");case 11:t.eosBal=o[0].balance;case 12:case"end":return e.stop()}}),e)})))()},handleGetRamPrice:function(){var t=this;y.a.get("https://tbeospre.mytokenpocket.vip/v1/ram_price").then((function(e){200==e.status&&0===e.data.result&&e.data.data&&(t.ramPrice=parseFloat(1024/e.data.data).toFixed(5))}))},handleBuyRam:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput1()){e.next=2;break}return e.abrupt("return");case 2:n=t.account.name,s=t.account.permissions,a={actions:[{account:"eosio",name:"buyram",authorization:[{actor:n,permission:s}],data:{payer:n,quant:parseFloat(t.buyRam).toFixed(4)+" EOS",receiver:n}}]},w.toTransaction(a,(function(e){return e&&(e=T(e)),e&&402==e.code||e?(t.$toast({type:"fail",message:e.message,getContainer:"#RamDialog"}),void setTimeout(t.handleUpdate,2e3)):(t.$toast({type:"success",message:"Success",getContainer:"#RamDialog"}),void setTimeout(t.handleUpdate,2e3))}));case 6:case"end":return e.stop()}}),e)})))()},handleSellRam:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput2()){e.next=2;break}return e.abrupt("return");case 2:n=t.account.name,s=t.account.permissions,a={actions:[{account:"eosio",name:"sellram",authorization:[{actor:n,permission:s}],data:{account:n,bytes:parseInt(1024*t.sellRam)}}]},w.toTransaction(a,(function(e){return e&&(e=T(e)),e&&402==e.code||e?(t.$toast({type:"fail",message:e.message,getContainer:"#RamDialog"}),void setTimeout(t.handleUpdate,2e3)):(t.$toast({type:"success",message:"Success",getContainer:"#RamDialog"}),void setTimeout(t.handleUpdate,2e3))}));case 6:case"end":return e.stop()}}),e)})))()},handleCheckInput1:function(){return""===this.buyRam.trim()?(this.$toast({type:"fail",message:"EOS数量不能为空",getContainer:"#RamDialog"}),!1):!(this.buyRam>this.eosBal)||(this.$toast({type:"fail",message:"购买数量超过了账号的余额",getContainer:"#RamDialog"}),!1)},handleCheckInput2:function(){return""===this.sellRam.trim()?(this.$toast({type:"fail",message:"内存值不能为空",getContainer:"#RamDialog"}),!1):!(this.sellRam>this.ram.available)||(this.$toast({type:"fail",message:"卖出内存的值超过了账号的余额",getContainer:"#RamDialog"}),!1)},handleUpdate:function(){this.handleGetRes(),this.handleGetEosBal(),this.handleGetRamPrice()}},mounted:function(){}},ut=(n("d589"),{name:"msig",components:{NodeSet:U,TransferDialog:X,CustomDialog:H,MyProposal:V,OtherProposal:W,SwapDialog:tt,TownDialog:nt,NftDialog:rt,VipDialog:it,RamDialog:Object(L.a)(lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"RamDialog",title:"内存购买",top:"3vh",visible:t.dialogVisible,width:"90%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"flexbc fs-extra-small"},[n("div",[t._v("内存")]),n("div",{staticClass:"text-secondary"},[t._v("价格: "+t._s(t.ramPrice)+" EOS/KB")])]),n("el-progress",{staticClass:"rmy-1",attrs:{"show-text":!1,"stroke-width":10,percentage:t.ram.percentage}}),n("div",{staticClass:"flexbc fs-extra-small text-secondary"},[n("div",[t._v("可用: "+t._s(t.ram.available)+" "+t._s(t.ram.available_unit))]),n("div",[t._v("全部: "+t._s(t.ram.max)+" "+t._s(t.ram.max_unit))])]),n("van-radio-group",{staticClass:"flexac rmy-3",model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("van-radio",{attrs:{name:"buy"}},[t._v("购买")]),n("van-radio",{attrs:{name:"sell"}},[t._v("出售")])],1),"buy"==t.radio?n("div",[n("div",{staticClass:"rmb-2"},[t._v("余额: "+t._s(t.eosBal))]),n("el-input",{staticClass:"rmb-2",attrs:{type:"number",placeholder:"输入EOS数量"},model:{value:t.buyRam,callback:function(e){t.buyRam=e},expression:"buyRam"}}),n("div",{staticClass:"text-secondary fs-extra-small"},[t._v("≈ "+t._s(t.calcRam)+" KB")]),n("van-button",{staticClass:"rmt-3",attrs:{type:"info",block:"",round:""},on:{click:t.handleBuyRam}},[t._v("购 买")])],1):t._e(),"sell"==t.radio?n("div",[n("div",{staticClass:"rmb-2"},[t._v("余额: "+t._s(t.ram.available)+" "+t._s(t.ram.available_unit))]),n("el-input",{staticClass:"rmb-2",attrs:{type:"number",placeholder:"输入内存额度(KB)"},model:{value:t.sellRam,callback:function(e){t.sellRam=e},expression:"sellRam"}}),n("div",{staticClass:"text-secondary fs-extra-small"},[t._v("≈ "+t._s(t.calcEos)+" EOS")]),n("van-button",{staticClass:"rmt-3",attrs:{type:"info",block:"",round:""},on:{click:t.handleSellRam}},[t._v("出 售")])],1):t._e()],1)}),[],!1,null,"bda74d36",null).exports},data:function(){var t;return t={logined:!1,loading:!0,failMax503:3},Object(i.a)(t,"loading",!1),Object(i.a)(t,"proposer",""),Object(i.a)(t,"proposalName",""),Object(i.a)(t,"requested",[{actor:"",permission:""}]),Object(i.a)(t,"timeoutValue",30),Object(i.a)(t,"timeoutUnit","minute"),Object(i.a)(t,"timeOptions",[{value:"minute",label:"分"},{value:"hour",label:"时"},{value:"day",label:"天"}]),Object(i.a)(t,"actions",[]),Object(i.a)(t,"openNodeSet",!1),Object(i.a)(t,"openTransferDialog",!1),Object(i.a)(t,"openCustomDialog",!1),Object(i.a)(t,"openSwapDialog",!1),Object(i.a)(t,"openTownDialog",!1),Object(i.a)(t,"openNftDialog",!1),Object(i.a)(t,"openVipDialog",!1),Object(i.a)(t,"openRamDialog",!1),Object(i.a)(t,"marketLists",[]),Object(i.a)(t,"record",{accounts:[],perms:[],contracts:[]}),Object(i.a)(t,"del",!1),Object(i.a)(t,"whiteList",["eosio5211314","poweraccount"]),t},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),methods:{handlePushProposal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.handleAddBinArgs();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:n=[],t.actions.forEach((function(t){n.push({account:t.action.split(":")[0],authorization:[{actor:t.perm.split("@")[0],permission:t.perm.split("@")[1]}],data:t.data,name:t.action.split(":")[1]})})),s="","minute"==t.timeoutUnit?s=j()().add(t.timeoutValue,"minutes").utc().format().slice(0,19):"hour"==t.timeoutUnit?s=j()().add(t.timeoutValue,"hours").utc().format().slice(0,19):"day"==t.timeoutUnit&&(s=j()().add(t.timeoutValue,"days").utc().format().slice(0,19)),a={actions:n,context_free_actions:[],delay_sec:0,expiration:s,max_cpu_usage_ms:0,max_net_usage_words:0,ref_block_num:0,ref_block_prefix:0,transaction_extensions:[]},r=t.account.name,o=t.account.permissions,i={actions:[{account:"eosio.msig",name:"propose",authorization:[{actor:r,permission:o}],data:{proposer:t.proposer,proposal_name:t.proposalName,requested:t.requested,trx:a}}]},w.toTransaction(i,(function(e){return e&&(e=T(e)),e&&402==e.code||e?(t.$toast({type:"fail",message:e.message}),void setTimeout(t.$refs.myProposal.handleUpdate,2e3)):(t.$toast({type:"success",message:"Success"}),t.handleAddItem(),void setTimeout(t.$refs.myProposal.handleUpdate,2e3))}));case 15:case"end":return e.stop()}}),e)})))()},handleAddBinArgs:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.actions.length)){e.next=18;break}return s={code:t.actions[n].action.split(":")[0],action:t.actions[n].action.split(":")[1],args:t.actions[n].param},e.next=5,$(s);case 5:if(a=e.sent,r=a.status,o=a.result,r){e.next=11;break}return t.$toast({type:"fail",message:"生成binargs失败"}),e.abrupt("return",!1);case 11:if(0!=Object.keys(o)){e.next=14;break}return t.$toast({type:"fail",message:"生成binargs信息为空"}),e.abrupt("return",!1);case 14:t.actions[n].data=o.binargs;case 15:n++,e.next=1;break;case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})))()},handleCheckInput:function(){if(""===this.proposer.trim())return this.$toast({type:"fail",message:"提案者不能为空"}),!1;if(""===this.proposalName.trim())return this.$toast({type:"fail",message:"提案名称不能为空"}),!1;if(0===this.actions.length)return this.$toast({type:"fail",message:"操作不能为空"}),!1;for(var t=0;t<this.requested.length;t++){if(""===this.requested[t].actor.trim())return this.$toast({type:"fail",message:"授权账号不能为空"}),!1;if(""===this.requested[t].permission.trim())return this.$toast({type:"fail",message:"授权权限不能为空"}),!1}return!(this.timeoutValue<=0)||(this.$toast({type:"fail",message:"过期时间必须大于0"}),!1)},handleTransferAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],s=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=s):e.handleCheckAuth(n,s)&&e.requested.push({actor:n,permission:s})})),this.openTransferDialog=!1,this.handleUpdateRecord()},handleSwapAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],s=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=s):e.handleCheckAuth(n,s)&&e.requested.push({actor:n,permission:s})})),this.openSwapDialog=!1,this.handleUpdateRecord()},handleTownAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],s=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=s):e.handleCheckAuth(n,s)&&e.requested.push({actor:n,permission:s})})),this.openTownDialog=!1,this.handleUpdateRecord()},handleNftAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],s=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=s):e.handleCheckAuth(n,s)&&e.requested.push({actor:n,permission:s})})),this.openNftDialog=!1,this.handleUpdateRecord()},handleCustomAdd:function(t){this.actions.push(t);var e=t.perm.split("@")[0],n=t.perm.split("@")[1];""==this.requested[0].actor&&""==this.requested[0].permission?(this.requested[0].actor=e,this.requested[0].permission=n):this.handleCheckAuth(e,n)&&this.requested.push({actor:e,permission:n}),this.openCustomDialog=!1,this.handleUpdateRecord()},handleClearAll:function(){this.actions=[],this.requested=[{actor:"",permission:""}]},handleCheckAuth:function(t,e){for(var n=0;n<this.requested.length;n++)if(this.requested[n].actor==t&&this.requested[n].permission==e)return!1;return!0},handleCheckAccount:function(t){var e,n=!1,s=Object(a.a)(this.requested[t].actor);try{for(s.s();!(e=s.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(n=!0)}}catch(t){s.e(t)}finally{s.f()}n?this.$refs["actor-"+t][0].$refs.input.classList.add("border-danger"):this.$refs["actor-"+t][0].$refs.input.classList.remove("border-danger")},handleCheckProposal:function(){var t,e=!1,n=Object(a.a)(this.proposalName);try{for(n.s();!(t=n.n()).done;){var s=t.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.proposal.$refs.input.classList.add("border-danger"):this.$refs.proposal.$refs.input.classList.remove("border-danger")},handleDeleteAction:function(t){this.actions[t].fee?this.$toast({type:"fail",message:"手续费无法单独删除，只能清除全部操作"}):(this.actions.splice(t,1),0==this.actions.length&&(this.requested=[{actor:"",permission:""}]))},handleDeletePerm:function(t){this.requested.length>1?this.requested.splice(t,1):(this.requested[t].permission="",this.requested[t].actor="")},handleAddAccount:function(){this.requested.push({actor:"",permission:""})},handleCommand:function(t){var e=this,n=t.split("-");if("actor"==n[0])this.requested[n[1]].actor=this.account.name,this.$refs[t][0].$refs.input.classList.remove("border-danger");else if("active"==n[0])this.requested[n[1]].permission=n[0];else if("owner"==n[0])this.requested[n[1]].permission=n[0];else if(t.includes("account-")&&!this.del){var s=t.split("_")[0].split("-")[1],a=t.split("_")[1],r=a.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.requested[r].actor=s,e.$refs[a][0].$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var o=t.split("_")[0].split("-")[1],i=t.split("_")[1];this.record.perms.forEach((function(t){t==o&&(e.requested[i].permission=o)}))}this.del=!1},handlePowerUp:function(){var t=this;this.loading=!0,y.a.get("https://api.eospowerup.io/freePowerup/"+this.account.name).then((function(e){t.loading=!1,"success"==e.data.result.status?t.$dialog.alert({title:"成功",message:"每个账号每天可以免费PowerUp 2次，重置时间为：\n"+j()(e.data.rateLimit.resetTime).format("YYYY-MM-DD HH:mm:ss")}):"reachedFreeQuota"==e.data.result.status?t.$dialog.alert({title:"失败",message:"账号已PowerUp 2次，重置时间为：\n"+j()(e.data.rateLimit.resetTime).format("YYYY-MM-DD HH:mm:ss")}):t.$dialog.alert({title:"失败",message:e.data.result.status})}),(function(e){t.loading=!1,t.$dialog.alert({title:"失败",message:e})}))},handleLogin:function(){var t,e,n=this;localStorage.removeItem("WALLET"),t=this,e=function(){n.logined=!0,n.proposer=n.account.name,n.handleSetVip()},w.scatterInit(t,(function(){w.login((function(t){e(t)}))}))},handleSetVip:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleGetPrice();case 2:return e.next=4,t.handleGetLiqsBal();case 4:return n=e.sent,e.next=7,t.handleGetDbcPddBal();case 7:s=e.sent,a=n.sumDbc+s.sumDbc,r=n.sumPdd+s.sumPdd,(o=a+r)>=1?t.$store.dispatch("setVip",{state:!0,dbc:a,pdd:r,sum:o}):t.$store.dispatch("setVip",{state:!1,dbc:a,pdd:r,sum:o}),t.whiteList.includes(t.account.name)&&t.$store.dispatch("setVip",{state:!0,dbc:a,pdd:r,sum:o});case 13:case"end":return e.stop()}}),e)})))()},handleGetLiqsBal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c,l,u,d,m,f,p,h,g,_,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=2;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 2:return n=t.account.name,s={code:"defislogsone",scope:"".concat(n),table:"liqs2",json:!0,limit:100},e.next=6,D(s);case 6:if(a=e.sent,r=a.status,o=a.result,r&&o.rows.length){e.next=11;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 11:for(i=[],c=[],o.rows.forEach((function(t){var e=t.bal0.split(" ")[0],n=t.bal0.split(" ")[1],s=t.bal1.split(" ")[0],a=t.bal1.split(" ")[1];"DBC"===n?i.push({mid:t.mid,val:e}):"DBC"===a&&i.push({mid:t.mid,val:s}),"PDD"===n?c.push({mid:t.mid,val:e}):"PDD"===a&&c.push({mid:t.mid,val:s})})),l=[],u=[],d=function(e){var n=t.marketLists.find((function(t){return t.mid===i[e].mid}));"dbctokenmain"!==n.contract0&&"dbctokenmain"!==n.contract1||l.push(i[e])},m=0;m<i.length;m++)d(m);for(f=function(e){var n=t.marketLists.find((function(t){return t.mid===c[e].mid}));"pddtokenmain"!==n.contract0&&"pddtokenmain"!==n.contract1||u.push(c[e])},p=0;p<c.length;p++)f(p);if(h=0,g=0,0!==l.length||0!==u.length){for(_=0;_<l.length;_++)h+=Number(l[_].val);for(v=0;v<u.length;v++)g+=Number(u[v].val)}return e.abrupt("return",{sumDbc:h,sumPdd:g});case 24:case"end":return e.stop()}}),e)})))()},handleGetDbcPddBal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=2;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 2:return n=0,s=0,a=t.account.name,r={code:"dbctokenmain",scope:"".concat(a),table:"accounts",json:!0,limit:100},e.next=8,D(r);case 8:return o=e.sent,i=o.status,c=o.result,i&&c.rows.length&&(n+=Number(c.rows[0].balance.split(" ")[0])),l={code:"pddtokenmain",scope:"".concat(a),table:"accounts",json:!0,limit:100},e.next=15,D(l);case 15:return(u=e.sent).status&&u.result.rows.length&&(s+=Number(u.result.rows[0].balance.split(" ")[0])),e.abrupt("return",{sumDbc:n,sumPdd:s});case 18:case"end":return e.stop()}}),e)})))()},handleGetPrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,s,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,s=n.status,a=n.result,s){e.next=8;break}return t.$toast({type:"fail",message:"获取价格失败"}),e.abrupt("return");case 8:if((r=a.rows||[]).length){e.next=12;break}return t.$toast({type:"fail",message:"获取价格为空"}),e.abrupt("return");case 12:t.marketLists=r;case 13:case"end":return e.stop()}}),e)})))()},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){var t=this;this.requested.forEach((function(e){t.record.accounts.includes(e.actor)||e.actor==t.account.name||t.record.accounts.push(e.actor),t.record.perms.includes(e.permission)||"active"==e.permission||"owner"==e.permission||t.record.perms.push(e.permission)})),this.record.accounts.sort(),this.record.perms.sort(),localStorage.setItem("record",JSON.stringify(this.record))},handleUpdateRecord:function(){var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)}},mounted:function(){var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t),this.$store.dispatch("setFreeCpu",!1),this.handleLogin()}}),dt=(n("5c0b"),Object(L.a)(ut,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main rpx-2"},[s("el-card",[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[t.logined?s("div",[t._v("账号："+t._s(t.account.name))]):s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleLogin}},[t._v("登 陆")]),t.logined?s("div",[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.openNodeSet=!0}}},[t._v("节点设置")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],staticClass:"rml-3",attrs:{type:"text"},on:{click:function(e){t.openRamDialog=!0}}},[t._v("内存购买")])],1):s("div",[s("el-button",{staticClass:"rml-3",attrs:{type:"text"},on:{click:function(e){t.openNodeSet=!0}}},[t._v("节点设置")])],1)],1),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[t.vip?s("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:function(e){t.openVipDialog=!0}}}):s("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:function(e){t.openVipDialog=!0}}}),s("div",{staticClass:"flexec"},[s("div",[t._v("V1.0.0")]),t.loading?s("div",[s("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1):s("div",[s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],staticClass:"rml-3 rpy-1",attrs:{type:"text"},on:{click:t.handlePowerUp}},[t._v("PowerUp")])],1)])])]),s("el-card",{staticClass:"rmt-2 fs-base"},[s("MyProposal",{ref:"myProposal",attrs:{logined:t.logined}})],1),s("el-card",{staticClass:"rmt-2 fs-base"},[s("OtherProposal",{attrs:{logined:t.logined}})],1),s("el-card",{staticClass:"rmt-2 rmb-2 fs-base"},[s("div",{staticClass:"fs-medium hardline"},[t._v("新建多签提案")]),s("el-divider"),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("提案者")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{attrs:{readonly:""},model:{value:t.proposer,callback:function(e){t.proposer=e},expression:"proposer"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("提案名称")]),s("div",{staticClass:"flex-grow-1"},[s("el-input",{ref:"proposal",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckProposal},model:{value:t.proposalName,callback:function(e){t.proposalName=e},expression:"proposalName"}})],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("操作")]),s("div",{staticClass:"flex-grow-1"},[t._l(t.actions,(function(e,n){return s("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start align-items-center"},[s("div",{staticClass:"fs-small rp-2 border-radius bg-info-lighter flex-grow-1"},[s("div",[t._v("操作："+t._s(e.action))]),s("div",[t._v("权限："+t._s(e.perm))]),s("div",[t._v("参数："+t._s(e.param))])]),s("div",[s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteAction(n)}}})])])})),s("div",[s("div",[s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openCustomDialog=!0}}},[t._v("+自定义")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openTransferDialog=!0}}},[t._v("+转账")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openSwapDialog=!0}}},[t._v("+交换")])],1),s("div",{staticClass:"rmt-2"},[s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openTownDialog=!0}}},[t._v("+小镇")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openNftDialog=!0}}},[t._v("+NFT")]),s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClearAll}},[t._v("-清除")])],1)])],2)]),t._l(t.requested,(function(e,n){return s("div",{key:n,staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v(t._s(0==n?"授权账号":""))]),s("div",{staticClass:"d-flex justify-content-start flex-grow-1"},[s("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{ref:"actor-"+n,refInFor:!0,attrs:{placeholder:"账号"},on:{input:function(e){return t.handleCheckAccount(n)}},model:{value:e.actor,callback:function(n){t.$set(e,"actor",n)},expression:"v.actor"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"actor-"+n}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,a){return s("el-dropdown-item",{key:a,staticClass:"flexbc",attrs:{command:"account-"+e+"_actor-"+n}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+a)}}})])}))],2)],1),s("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),s("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-input",{attrs:{placeholder:"权限"},model:{value:e.permission,callback:function(n){t.$set(e,"permission",n)},expression:"v.permission"}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"active-"+n}},[t._v("active")]),s("el-dropdown-item",{attrs:{command:"owner-"+n}},[t._v("owner")]),t._l(t.record.perms,(function(e,a){return s("el-dropdown-item",{key:a,staticClass:"flexbc",attrs:{command:"perm-"+e+"_"+n}},[s("div",[t._v(t._s(e))]),s("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+a)}}})])}))],2)],1),s("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeletePerm(n)}}})],1)])})),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleAddAccount}},[t._v("添加账号")])],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("过期时间")]),s("div",{staticClass:"d-flex flex-grow-1"},[s("el-input",{attrs:{type:"number"},model:{value:t.timeoutValue,callback:function(e){t.timeoutValue=e},expression:"timeoutValue"}}),s("el-select",{model:{value:t.timeoutUnit,callback:function(e){t.timeoutUnit=e},expression:"timeoutUnit"}},t._l(t.timeOptions,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("div",{staticClass:"d-flex justify-content-start rmb-3"},[s("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),s("div",{staticClass:"flex-grow-1"},[s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handlePushProposal}},[t._v("提交提案")])],1)])],2),s("NodeSet",{attrs:{visible:t.openNodeSet},on:{close:function(e){t.openNodeSet=!1}}}),s("RamDialog",{attrs:{visible:t.openRamDialog},on:{close:function(e){t.openRamDialog=!1}}}),s("CustomDialog",{attrs:{visible:t.openCustomDialog},on:{close:function(e){t.openCustomDialog=!1},add:t.handleCustomAdd}}),s("TransferDialog",{attrs:{visible:t.openTransferDialog},on:{close:function(e){t.openTransferDialog=!1},add:t.handleTransferAdd}}),s("SwapDialog",{attrs:{visible:t.openSwapDialog},on:{close:function(e){t.openSwapDialog=!1},add:t.handleSwapAdd}}),s("TownDialog",{attrs:{visible:t.openTownDialog},on:{close:function(e){t.openTownDialog=!1},add:t.handleTownAdd}}),s("NftDialog",{attrs:{visible:t.openNftDialog},on:{close:function(e){t.openNftDialog=!1},add:t.handleNftAdd}}),s("VipDialog",{attrs:{visible:t.openVipDialog},on:{close:function(e){t.openVipDialog=!1},update:t.handleSetVip}})],1)}),[],!1,null,null,null).exports),mt=n("365c"),ft=n("b970");n("157a");s.default.use(ft.a);var pt=n("5c96"),ht=n.n(pt);n("0fae");s.default.use(ht.a);n("c35d");s.default.prototype.$api=mt.default,s.default.config.productionTip=!1,new s.default({store:b.a,render:function(t){return t(dt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6:function(t,e){},"62e4":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"unZip",(function(){return c})),n.d(e,"dealZip",(function(){return l})),n.d(e,"get_table_rows",(function(){return u})),n.d(e,"get_table_by_scope",(function(){return d})),n.d(e,"get_swap_summary",(function(){return m})),n.d(e,"get_swap_counter",(function(){return f})),n.d(e,"get_acc_follow",(function(){return p})),n.d(e,"get_all_orders",(function(){return h})),n.d(e,"get_info",(function(){return g})),n.d(e,"get_markets",(function(){return _})),n.d(e,"get_price",(function(){return v})),n.d(e,"get_currency_stats",(function(){return y})),n.d(e,"get_currency_balance",(function(){return b})),n.d(e,"get_market_info",(function(){return C})),n.d(e,"get_swap_lasters",(function(){return A})),n.d(e,"abi_json_to_bin",(function(){return k})),n.d(e,"get_account",(function(){return x})),n.d(e,"get_abi",(function(){return w})),n.d(e,"reg_newaccount",(function(){return E})),n.d(e,"pushFreeCpu",(function(){return j})),n.d(e,"pushFreeCpu2",(function(){return O}));n("0d03"),n("d3b7"),n("25f0"),n("c975"),n("b0c0"),n("99af"),n("b680"),n("a9e3");var s=n("bc3a"),a=n.n(s),r=n("4360"),o=n("470b");function i(){return r.a.state.sys.baseConfig.node.url}function c(e){return o.inflateSync(new t(e,"base64")).toString()}function l(t){var e=JSON.stringify(t);return o.deflateSync(e).toString("base64")}function u(t,e){return new Promise((function(n,s){void 0===e&&(e=i()),a.a.post("".concat(e,"/v1/chain/get_table_rows"),JSON.stringify(t)).then((function(t){var e=Object.assign(t.data,{});n({status:200===t.status,result:e,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?n({status:!1,result:{},code:503}):s(t)}))}))}function d(t){return new Promise((function(e,n){var s=i();a.a.post("".concat(s,"/v1/chain/get_table_by_scope"),JSON.stringify(t)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?e({status:!1,result:{},code:503}):n(t)}))}))}function m(){return new Promise((function(t,e){a.a.get("https://api.yfc.one/dfs/swap/summary2").then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(t){e(t)}))}))}function f(){return new Promise((function(t,e){a.a.get("https://api.yfc.one/dfs/swap/counter").then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(t){e(t)}))}))}function p(){return new Promise((function(t,e){var n=i(),s=r.a.state.app.account.name,o={code:"dfsusersinfo",scope:" ".concat(s),table:"likes",json:!0,limit:1e3};a.a.post("".concat(n,"/v1/chain/get_table_rows"),JSON.stringify(o)).then((function(e){var n=Object.assign(e.data,{}),s=n.rows||[];r.a.dispatch("setAccFollow",s),t({status:200===e.status,result:n})}),(function(t){e(t)}))}))}function h(){return new Promise((function(t,e){a.a.get("https://api.yfc.one/pddex2/orders",JSON.stringify({})).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(t){e(t)}))}))}function g(t){return new Promise((function(e,n){a.a.get("".concat(t,"/v1/chain/get_info"),{timeout:1e4}).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function _(){return new Promise((function(t,e){a.a.get("https://api.yfc.one/dfs/common/markets",{timeout:5e3}).then((function(e){var n=c(e.data),s={rows:JSON.parse(n)};t({status:200===e.status,result:s})}),(function(t){e(t)}))}))}function v(){return new Promise((function(t,e){a.a.get("https://api.yfc.one/dfs/common/get_price").then((function(e){var n=e.data;t({status:200===e.status,result:n})}),(function(t){e(t)}))}))}function y(t){return new Promise((function(e,n){var s=i();a.a.post("".concat(s,"/v1/chain/get_currency_stats"),JSON.stringify(t)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function b(t){return new Promise((function(e,n){var s=i();a.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(t)).then((function(n){var s=n.data;s.length||(s=["".concat(Number(0).toFixed(t.decimal||4)," ").concat(t.symbol)]),e({status:200===n.status,result:s[0]})}),(function(t){n(t)}))}))}function C(t){return new Promise((function(e,n){a.a.get("https://api.yfc.one/dfs/apy/apy-by-mid",{params:t}).then((function(t){var n=t.data;e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function A(t){return new Promise((function(e,n){a.a.get("https://api.yfc.one/dfs/swap/marketlog",{params:t}).then((function(t){var n=t.data;e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function k(t){return new Promise((function(e,n){var s=i();a.a.post("".concat(s,"/v1/chain/abi_json_to_bin"),JSON.stringify(t)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?e({status:!1,result:{},code:503}):n(t)}))}))}function x(t){return new Promise((function(e,n){var s=i(),r={account_name:"".concat(t)};a.a.post("".concat(s,"/v1/chain/get_account"),JSON.stringify(r)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?e({status:!1,result:{},code:503}):n(t)}))}))}function w(t){return new Promise((function(e,n){var s=i(),r={account_name:"".concat(t)};a.a.post("".concat(s,"/v1/chain/get_abi"),JSON.stringify(r)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?e({status:!1,result:{},code:503}):-1!==t.toString().indexOf("Error: Request failed with status code 500")?e({status:!1,result:{},code:500}):n(t)}))}))}function E(t){return new Promise((function(e,n){var s={username:t.account,publickey:t.publickey};a.a.post("https://api.yfc.one/account/newaccount",JSON.stringify(s)).then((function(t){var n=Object.assign(t.data,{});console.log(n),e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function j(t){return new Promise((function(e,n){a.a.post("https://api.yfc.one/account/pushaction",t).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(t){n(t)}))}))}function O(t){return new Promise((function(e,n){a.a.post("https://api.yfc.one/account/pushaction2",t).then((function(t){var n=Object.assign(t.data,{});console.log(n),e({status:200===n.code,result:n})}),(function(t){n(t)}))}))}}.call(this,n("b639").Buffer)},"6ca14":function(t,e,n){},"6ecd":function(t,e,n){},7:function(t,e){},"709e":function(t,e,n){"use strict";n("566f")},8:function(t,e){},"89b2":function(t,e,n){"use strict";n("6ecd")},9:function(t,e){},"9c0c":function(t,e,n){},"9f19":function(t,e,n){var s={"./index.js":"365c","./list.js":"62e4"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="9f19"},af8c:function(t,e,n){},c35d:function(t,e,n){},d3b8:function(t,e,n){},d589:function(t,e,n){"use strict";n("6ca14")},d8ad:function(t,e,n){"use strict";var s=new(n("2b0e").default);e.a=s},db82:function(t,e,n){},e976:function(t,e,n){},e9d0:function(t,e,n){},f77a:function(t,e,n){"use strict";n("d3b8")},f87c:function(t,e,n){"use strict";n("2bf8")}});