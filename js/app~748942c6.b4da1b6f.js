!function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(u&&u(e);p.length;)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={"app~748942c6":0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/msig/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"vendors~app~0f485567","vendors~app~15ae29a2","vendors~app~62ab6885","vendors~app~7e5e8261","vendors~app~d939e436","vendors~app~70205952","vendors~app~b5906859","vendors~app~359f5138","vendors~app~9148099f","vendors~app~73914085","vendors~app~ec8c427e"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"0296":function(t,e,n){"use strict";n("7290")},1:function(t,e){},"11ef":function(t,e,n){"use strict";n.r(e),n.d(e,"get_table_rows",(function(){return f})),n.d(e,"get_table_by_scope",(function(){return h})),n.d(e,"get_info",(function(){return b})),n.d(e,"get_currency_stats",(function(){return y})),n.d(e,"get_currency_balance",(function(){return k})),n.d(e,"abi_json_to_bin",(function(){return w})),n.d(e,"abi_bin_to_json",(function(){return _})),n.d(e,"get_account",(function(){return O})),n.d(e,"get_abi",(function(){return N})),n.d(e,"get_accounts_by_authorizers",(function(){return $})),n.d(e,"get_activated_protocol_features",(function(){return E})),n.d(e,"get_block_header_state",(function(){return I})),n.d(e,"get_block_info",(function(){return P})),n.d(e,"get_block",(function(){return F})),n.d(e,"get_code",(function(){return J})),n.d(e,"get_code_hash",(function(){return Q})),n.d(e,"get_producer_schedule",(function(){return q})),n.d(e,"get_producers",(function(){return K})),n.d(e,"get_raw_code_and_abi",(function(){return M})),n.d(e,"get_raw_abi",(function(){return H})),n.d(e,"get_scheduled_transactions",(function(){return Z})),n.d(e,"get_kv_table_rows",(function(){return et})),n.d(e,"get_required_keys",(function(){return rt})),n.d(e,"get_key_accounts",(function(){return st})),n.d(e,"get_controlled_accounts",(function(){return ot}));var r=n("3835"),a=n("53ca"),s=n("1da1"),i=(n("96cf"),n("d3b7"),n("4795"),n("bc3a")),o=n.n(i),c=n("4360");function l(){return c.a.state.app.nodeConfig.url}function u(t){return new Promise((function(e,n){return setTimeout(e,t)}))}function d(t){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.then((function(t){if(200!=t.status)throw console.log(t),new Error("status code is ".concat(t.status));return[null,t.data]})).catch((function(t){return t instanceof Error?(console.log(t.message),[t.message,null]):t.response?(console.log(t.response),[JSON.stringify(t.response.data),null]):t.request?(console.log("no response"),["no response",null]):(console.log(t),"object"==Object(a.a)(t)?[JSON.stringify(t),null]:[t,null])})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(regeneratorRuntime.mark((function t(e,n){var a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=l()),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_table_rows"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_table_by_scope"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=l(),n=null,a=null,s=0;case 3:if(!(s<3)){t.next=19;break}return t.next=6,d(o.a.get("".concat(e,"/v1/chain/get_info"),{}));case 6:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[n,a]);case 14:return t.next=16,u(2e3);case 16:s++,t.next=3;break;case 19:return t.abrupt("return",[n,a]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_currency_stats"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_currency_balance"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/abi_json_to_bin"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/abi_bin_to_json"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_account"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_abi"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_accounts_by_authorizers"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_activated_protocol_features"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_block_header_state"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_block_info"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_block"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_code"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_code_hash"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_producer_schedule"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t){return W.apply(this,arguments)}function W(){return(W=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_producers"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_raw_code_and_abi"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t){return X.apply(this,arguments)}function X(){return(X=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_raw_abi"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){return tt.apply(this,arguments)}function tt(){return(tt=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_scheduled_transactions"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t){return nt.apply(this,arguments)}function nt(){return(nt=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_kv_table_rows"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t){return at.apply(this,arguments)}function at(){return(at=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/chain/get_required_keys"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t){return it.apply(this,arguments)}function it(){return(it=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/history/get_key_accounts"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ot(t){return ct.apply(this,arguments)}function ct(){return(ct=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l(),a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("".concat(n,"/v1/history/get_controlled_accounts"),JSON.stringify(e)));case 6:if(c=t.sent,p=Object(r.a)(c,2),a=p[0],!(s=p[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},"12a6":function(t,e,n){"use strict";n("a17e")},"14af":function(t,e,n){},1942:function(t,e,n){},2:function(t,e){},3:function(t,e){},"355e":function(t,e,n){"use strict";n("bde9")},"365c":function(t,e,n){"use strict";n.r(e);n("4160"),n("159b"),n("d3b7"),n("ddb0");var r=n("9f19");t={};r.keys().forEach((function(e){"./index.js"!==e&&"./axios.js"!==e&&Object.assign(t,r(e))})),e.default=t},"3c3d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKAElEQVR4Xu2dPYtdVRSG9+H+AoN26bRQQcHCiJDCxoB/YDq7ZPYNFyziF3YpRZPGYriXQCqxiT/AShFRSKWNjZgqFlEwjWiTjEcmJjET52OtdfY+Z+2zHlvX2ufs5z0PA77M2CX+gQAEDiXQwQYCEDicAILwdUDgCAIIwucBAQThG4CAjQA/QWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGAEFs3NgKQgBBggTNNW0EEMTGja0gBBAkSNBc00YAQWzc2ApCAEGCBM01bQQQxMaNrSAEECRI0FzTRgBBbNzYCkIAQYIEzTVtBBDExo2tIAQQJEjQXNNGoGlBNpvN2ZTSSdvVq27dzjl/UvUJFQ+/evXqU3fu3FlVfITl6J9yzp9ZFofsNC3Ier2+3nXdqSEAKu3eyDk/U+nsqsduNpsnU0rfpJSerfog3eG/3r179+XVanVTtzZ8GkGGMzzohCYFcSrHH13Xvbq9vf1jnaiOPhVB6lBvThCPcvR9f7fv+9fOnz//bZ2Yjj8VQY5nZJloShCPcqSU+r7vt5bL5eeWAErtIEgpkvvPaUYQp3Ls2bFaLpc7deKRn9q0IJvNZg/g88LrPj3if/FqQpD7/7Xq65TSc0KGY419mHP+YKyHHfWcpgXRAFyv15e7rrug2Rkw614Qrz85Ukqf5pzfHMC+6CqCFMX58DDXgniVo+/7L2/duvX6xYsX/64Ti/5UBNEzk2y4FcSxHN93XXc65/yXBPBYMwhSh7RLQbzKkVK6sVgsTp09e/Z2nTjspyKInd1Rm+4EcSzHZC25JHoEkVDSz7gSxLEck7bkklgRREJJP+NGEK9yeGjJJbEiiISSfsaFIF7l8NKSS2JFEAkl/czkgjiWw01LLokVQSSU9DOTCuJZjpTSRznn9/VIp9lAkDrcJxPEuRyuWnJJ9AgioaSfmUQQz3J4bMklsSKIhJJ+ZnRBnMvhsiWXxIogEkr6mVEF8SyH55ZcEiuCSCjpZ0YTxLkcrltySawIIqGknxlFEOdyuG/JJbEiiISSfqa6IDs7O08sFovvnP31kXukWmnJJbEiiISSfqaqIPfl2PtNwBf0r1Z9w8Xvkpe6JYKUIrn/nGqCOJejqZZcEj2CSCjpZ6oI4l2O1lpySawIIqGknykuSANyNNeSS2JFEAkl/UxRQbzL0WpLLokVQSSU9DPFBGlAjmZbckmsCCKhpJ8pIoh3OVpvySWxIoiEkn5msCANyNF8Sy6JFUEklPQzgwRpQI4/u657Zaq/uK6Pw76BIHZ2R22aBfEux15L3nXdmZzzV3XQ+ToVQerkYRLEuxwt/S55qVgRpBTJgU16A3LMriWXRI8gEkr6GdVPkBbkmGNLLokVQSSU9DNiQRqR41rOeUuPof0NBKmToUiQFuTYa8lPnDhxZmtra7cOKt+nIkidfI4VpBE5Zt2SS6JHEAkl/cyRgrQgR4SWXBIrgkgo6WcOFaQROUK05JJYEURCST9zoCCNyBGmJZfEiiASSvqZ/wnSghzRWnJJrAgioaSf2SdIC3JEbMklsSKIhJJ+5qEgjcgRsiWXxIogEkr6mXuCtCJHSunjnPN7+mvOfyOMIJvN5lJK6e2RIv15d3f31GKx8PqneR7FELYll3wLCCKhpJzp+/5W13W/pZReVK6OOt73/RfL5fKNUR/a2MPCCLJery93XXehsXyqvW7f9+FbcglcBJFQmt+M2/8vuTfUCOItkfrvQ0uuYIwgClgzGKUlV4aIIEpgrY7TktuSQxAbt9a2ZvUX18eEjyBj0p7oWX3fr5bL5c5Ej2/6sQjSdHyil6clF2E6eAhBBsBrYJWWfGBICDIQoNf16L9LXioXBClF0tE5tOTlwkCQciy9nERLXjAJBCkI08FRtOSFQ0CQwkAnPI6WvAJ8BKkAdewjacnrEUeQemzHOpmWvCJpBKkId4yjacnrUkaQunxrn05LXpkwglQGXPF4WvKKcB8cjSAjQC79CFry0kQPPw9BxmNd5Em05EUwig9BEDEqF4O05CPHgCAjAx/wOFryAfCsqwhiJTfuHi35uLwfPg1BJgIvfSwtuZRUnTkEqcO11Km05KVIGs9BECO4MdZoycegfPQzEGT6DA58g77vLy2Xy3edvl6Y10IQn1HTkjvJBUGcBPHgNWjJfQWCII7yoCV3FMb9V0EQP5nQkvvJgh7EUxZ93/++u7v70mq1uunpvXiXlPgJMv1XsNeSn97e3v5h+lfhDR4ngCATfhO05BPCFz4aQYSgKozRkleAWvpIBClNVHgeLbkQ1MRjCDJBALTkE0A3PhJBjOAGrNGSD4A39iqCjEiclnxE2IUehSCFQB53DC35cYR8/nsEGScXWvJxOBd/CoIUR7r/QFryyoArH48gdQHTktflW/10BKmEmJa8EtiRj0WQOsBpyetwHf1UBKmAnJa8AtSJjkSQwuBpyQsDnfg4BCkbAC15WZ6Tn4YghSKgJS8E0tkxCFIgEFryAhCdHoEgw4OhJR/O0O0JCDIgGlryAfAaWUUQe1C05HZ2zWwiiCEqWnIDtEZXEEQfHC25nlmzGwiijI6WXAms8XEE0QV4Oef8jm6F6ZYJIIg8PVpyOavZTCKIIEpacgGkmY4gyDHB0pLP9MsXXgtBjgZFSy78kOY6hiCHJEtLPtdPXncvBDmYFy257jua7TSCPBYtLflsv3XTxRBkPzZactNnNN8lBHkkW1ry+X7o1pshyH/kaMmtX9GM9xDk33BpyWf8kQ+5WnhBaMmHfD7z3w0tCC35/D/woTeMLAgt+dCvJ8B+SEFoyQN82YWuGFEQWvJCH0+EY0IJklJ6q+u6MznnryKEyx2HEwgjyGazuZRSup5zvjYcGydEIRBGkCtXrpw8d+7cL1GC5Z5lCIQRpAwuTolGAEGiJc59VQQQRIWL4WgEECRa4txXRQBBVLgYjkYAQaIlzn1VBBBEhYvhaAQQJFri3FdFAEFUuBiORgBBoiXOfVUEEESFi+FoBBAkWuLcV0UAQVS4GI5GAEGiJc59VQQQRIWL4WgEECRa4txXRQBBVLgYjkYAQaIlzn1VBBBEhYvhaAQQJFri3FdFAEFUuBiORgBBoiXOfVUEEESFi+FoBBAkWuLcV0UAQVS4GI5G4B/UC8sFkTYB4wAAAABJRU5ErkJggg=="},4:function(t,e){},"41d3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKKklEQVR4Xu2dz4tf5RWH33fiD+ZmJdidu7rQQgsFnfmOuOimgf4BFTRx112gC9sq7lyKJpsu/AvmOwrprpuuFCk1CqIidCO6sou2UKFIJgSTeSUa4iRmZs45933vPe89j9ucc+49z+c+BHKYMSf+gwAEjiSQYQMBCBxNAEH4OiBwDAEE4fOAAILwDUDARoC/QWzc6ApCAEGCBM2aNgIIYuNGVxACCBIkaNa0EUAQGze6ghBAkCBBs6aNAILYuNEVhACCBAmaNW0EEMTGja4gBBAkSNCsaSOAIDZudAUhgCBBgmZNGwEEsXGjKwgBBAkSNGvaCCCIjRtdQQggSJCgWdNGAEFs3OgKQgBBggTNmjYCCGLjRlcQAggSJGjWtBFAEBs3uoIQQJAgQbOmjQCC2LjRFYQAggQJmjVtBBDExo2uIAQQJEjQrGkjgCA2bnQFIYAgQYJmTRsBBLFxoysIAQQJEjRr2gggiI0bXUEIIEiQoFnTRgBBbNzoCkIAQYIEzZo2Aghi40ZXEAIIEiRo1rQRQBAbN7qCEECQIEGzpo0Agti40RWEAIIECZo1bQQQxMaNriAEECRI0KxpI4AgNm50BSGAIEGCZk0bga4FuXr53O8OUnrEtnq7rpwOvhp29v7c7gltJ5ePfvuT/WsPnm/7FN30vFE+G7bXe7qu8dVdC7J/+ewHKeet8RgqTyjpi2Fn99HKUycZVz589uGr32z8PeX82CQPFDykpPKfvHHjyWHrrS8F5VVLEKQqzlvDOhXEoxyppK9Pnbqx8+DWm/9sEdVJMxHkJEKWP+9QEJ9ylOsppV8NO+t/WGKo0YMgNSjePaMzQVzKkUpJKT0zrNZ/aRGRdCaCSElp6joSxKccKZVUzp9erd/QYG9R27kg524C/JkITC4/TSlP8y9enQhy61+r3s05PS5iOFlReXVYrV+e7HHHPKhrQTQA9y+fu5hyekHTY67tQBCvf3OkVHaH1fp5M/vKjQhSGeh345wL4leO9Pbm9qO/zvmVgxaxWGYiiIXaST2OBfEqRynp4+H+/z+dn/jr/kl4p/xzBGlB26kgXuW4+TfuZrm2lZ+69FWLOMbMRJAx9I7qdSiIVznmvJJLokcQCSVtjTNBvMox95VcEiuCSChpaxwJ4leO+a/kklgRREJJW+NEELdyOLmSS2JFEAklbY0DQfzK4edKLokVQSSUtDUzC+JZjlTKa8PO+iUt0rnqEaQF+RkFcS2Hsyu5JHoEkVDS1swkiG85/F3JJbEiiISStmYGQTzL4fVKLokVQSSUtDUTC+JZDs9XckmsCCKhpK2ZUBDPcni/kktiRRAJJW3NRIJ4lqOHK7kkVgSRUNLWTCBI+fS5h65eye95+u0jtzGVPq7kklgRREJJW9NYkJty7F/J7+acf659tfb1Pn6WvNaeCFKL5OE5DQXxLUdfV3JJ9AgioaStaSSIdzl6u5JLYkUQCSVtTQNB3MvR4ZVcEiuCSChpayoL4l+OPq/kklgRREJJW1NREO9y9Hwll8SKIBJK2ppKgniXo/cruSRWBJFQ0tZUEMS7HEu4kktiRRAJJW3NSEG8y5FSunJq48b2XL9xXRvHmHoEGUPvqN4RgriXo5TrOZczm6u9d1qg8zYTQVokYhTEvRwd/Sx5rVgRpBbJkZd0/3Is70ouiR5BJJS0Ncq/QXqQY4lXckmsCCKhpK1RCNKFHCldGla7z2gxLKEeQVqkKBSkEzne3ty+dibnSzdaoPI+E0FaJCQQpAc5ln4ll0SPIBJK2poTBOlBjghXckmsCCKhpK05RpAe5IhyJZfEiiASStqaIwTpQY5IV3JJrAgioaStuYcgXcgR7EouiRVBJJS0NXcJ0oUcAa/kklgRREJJW3NIkD7kiHkll8SKIBJK2ppbgvQiR0rl9WG1flG7ZoT6OIK8f/ZCSvkPk4Ra0uebpw+2/P5qnjsohL2SS74FBJFQUtaUlP6dUvpvTukXytZJy0tJfzu9s/ubSR/a2cPiCHL53MWU0wud5dPsdbmSy9AiiIzTsqoc/3/JvYFGEG+JNH4fruQ6wAii49V7dZifJa8VFILUIul9DldyU0IIYsLWW9OyfuP6lPQRZEraMz2rpHL+9Gr9xkyP7/qxCNJ1fJKX50ouoXRUDYKMoee/lyv5yIwQZCRAx+2hf5a8Vi4IUoukozlcyeuFgSD1WPqYxJW8ag4IUhXnvMO4ktfnjyD1mc41kSt5A/II0gDq5CO5kjdDjiDN0E41mCt5S9II0pLuBLO5kreFjCBt+TaezpW8MeCEIK0Jt5vPlbwd29uTEWQCyA0ewZW8AdR7jUSQiUDXegxX8lokZXMQRMbJRxVX8slzQJDJkdseyJXcxm1sF4KMJThNP1fyaTj/6CkIMhN48WO5kotRtShEkBZUq83kSl4NpXEQghjBTdHGlXwKysc/A0Hmz+CoN7gwrHb/5Pf1YrwZgvjMmSu5k1wQxEkQh16DK7mjTBDEURhcyR2FcetVEMRLJlzJvSRxx3sgiINYSkr/yxvXfzlsvfWlg9fhFQ4RQJD5P4cr920cPP3A1t4n878Kb3A3AQSZ85vgSj4nfdGzEUSEqUURV/IWVGvPRJDaRIXzuJILQc1chiDzBMCVfB7u6qciiBrZ6Aau5KMRTjcAQaZjffNJXMmn5T36aQgyGqFsAFdyGSdvVQgyRSJcyaeg3OQZCNIE6w9DuZI3Btx4PIK0BcyVvC3f5tMRpBViruStyE46F0Ga4OZK3gTrDEMRpAF0ruQNoM40EkHqg+dKXp/pbBMRpC56ruR1ec4+DUHqRcCVvB5LN5MQpEIUXMkrQHQ6AkHGBsOVfCxB1/0IMiIeruQj4HXSiiD2oLiS29l104kglqi4kluoddmDIOrYuJKrkXXcgCDK8LiSK4F1Xo4gqgDLxWG1/qOqheKuCSCIPD6u5HJWi6lEEFmUXMllnBZXhSAnRMqVfHHfvGohBDkOF1dy1ce0xGIEOSJVruRL/Nz1OyHIvZlxJdd/S4vsQJC7Y+VKvsgP3boUgtxBjiu59UNaah+CHEqWK/lSP3P7Xghymx1XcvtntNxOBPk+W67ky/3GR22GIPzG9VEf0NKbQwvClXzpn/f4/eIKwpV8/NcTYEJIQbiSB/iyK60YURCu5JU+nghjYgmSyu9zLmc2V3vvRAiXHccTiCPI+2cvpFw+GLb3Lo3HxoQoBCIJ8siwWv8rSrDsWYdAGEHq4GJKNAIIEi1x9lURQBAVLoqjEUCQaImzr4oAgqhwURyNAIJES5x9VQQQRIWL4mgEECRa4uyrIoAgKlwURyOAINESZ18VAQRR4aI4GgEEiZY4+6oIIIgKF8XRCCBItMTZV0UAQVS4KI5GAEGiJc6+KgIIosJFcTQCCBItcfZVEUAQFS6KoxFAkGiJs6+KAIKocFEcjQCCREucfVUEEESFi+JoBBAkWuLsqyKAICpcFEcj8C0aAyoUZVBF3gAAAABJRU5ErkJggg=="},4360:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62"),s=(n("b0c0"),JSON.parse(localStorage.getItem("nodeConfig"))),i=JSON.parse(localStorage.getItem("freeCpu")),o={state:{account:{},freeCpu:i||!1,vip:{state:!1,dbc:0,pdd:0,sum:0},nodeConfig:{name:s?s.name:"TP",protocol:s?s.protocol:"https",host:s?s.host:"eospush.tokenpocket.pro",port:s?s.port:"443",url:s?s.url:"https://eospush.tokenpocket.pro",blockchain:s?s.blockchain:"eos",chainId:s?s.chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}},mutations:{SET_FREECPU:function(t,e){t.freeCpu=e,localStorage.setItem("freeCpu",JSON.stringify(e))},SET_ACCOUNT:function(t,e){t.account=e},SET_VIP:function(t,e){t.vip=e},SET_NODECONFIG:function(t,e){t.nodeConfig=e,localStorage.setItem("nodeConfig",JSON.stringify(e))}},actions:{setFreeCpu:function(t,e){(0,t.commit)("SET_FREECPU",e)},setAccount:function(t,e){(0,t.commit)("SET_ACCOUNT",e)},setVip:function(t,e){(0,t.commit)("SET_VIP",e)},setNodeConfig:function(t,e){(0,t.commit)("SET_NODECONFIG",e)}}},c={app:function(t){return t.app}};r.default.use(a.a);e.a=new a.a.Store({modules:{app:o},getters:c})},4678:function(t,e,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="4678"},"4db6":function(t,e,n){"use strict";n("fc74")},5:function(t,e){},"523a":function(t,e,n){"use strict";n("72cc")},"53a4":function(t,e,n){"use strict";n("75c2")},"53f3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("b85c"),s=n("3835"),i=n("1da1"),o=n("5530"),c=(n("96cf"),n("4160"),n("159b"),n("ac1f"),n("1276"),n("fb6a"),n("b0c0"),n("0d03"),n("d3b7"),n("25f0"),n("4795"),n("b64b"),n("498a"),n("a434"),n("caad"),n("2532"),n("a9e3"),n("7db0"),n("4e82"),n("2f62")),l=n("bc3a"),u=n.n(l),d=n("c1df"),p=n.n(d),f=n("b311"),m=n.n(f),h=n("53ca"),g=n("d4ec"),b=n("bee2"),v=(n("ddb0"),n("6039")),y=n.n(v),x=n("0cad"),k=n.n(x),C=n("0926"),w=n("4360"),A=n("99b6");y.a.plugins(new k.a);var _=new(function(){function t(){Object(g.a)(this,t),this.scatter=y.a,this.appName="DApp",this.logined=!1,this.connected=!1,this.network=null,this.api=null,this.rpc=null,this.try=3,this.delay=2e3}var e,n,r,a,c,l,u,d,p,f,m,v,x,k,_,j,O,S,N,R,$,T,E,D,I,B,P,z,F,L,J;return Object(b.a)(t,[{key:"sleep",value:function(t){return new Promise((function(e,n){return setTimeout(e,t)}))}},{key:"check",value:function(){return!(!this.logined||!this.connected)}},{key:"awaitWrap",value:(J=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.then((function(t){return[null,t]})).catch((function(t){return t instanceof C.RpcError?(console.log(t.message),[t.message,null]):t instanceof Error?(console.log(t),[t.message,null]):(console.log(t),"object"==Object(h.a)(t)?[JSON.stringify(t),null]:[t,null])})));case 1:case"end":return t.stop()}}),t)}))),function(t){return J.apply(this,arguments)})},{key:"connect",value:function(){return this.awaitWrap(y.a.connect(this.appName,{network:this.network}))}},{key:"login",value:function(){return this.awaitWrap(y.a.login())}},{key:"init",value:(L=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=w.a.state.app.nodeConfig,this.network=y.a.Network.fromJson({blockchain:n?n.blockchain:"eos",chainId:n?n.chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",host:n?n.host:"eospush.tokenpocket.pro",port:n?n.port:"443",protocol:n?n.protocol:"https"}),this.rpc=new C.JsonRpc(this.network.fullhost()),r=null,a=null,i=!1,void 0!==e&&(this.appName=e),o=0;case 7:if(!(o<10)){t.next=27;break}return t.next=10,this.connect(e);case 10:if(c=t.sent,l=Object(s.a)(c,2),r=l[0],!(a=l[1])){t.next=21;break}return i=!0,this.connected=!0,console.log("connect pass"),t.abrupt("break",27);case 21:console.log("connect fail");case 22:return t.next=24,this.sleep(1e3);case 24:o++,t.next=7;break;case 27:if(i){t.next=30;break}return console.log("connect fail, over max try time"),t.abrupt("return",["connect fail, over max try time",null]);case 30:return this.api=y.a.eos(this.network,C.Api,{rpc:this.rpc}),t.next=33,this.login();case 33:return u=t.sent,d=Object(s.a)(u,2),r=d[0],(a=d[1])?(console.log("login pass"),this.logined=!0,p=y.a.account("eos"),f={name:p.name,permissions:p.authority,publicKey:p.publicKey},w.a.dispatch("setAccount",f)):console.log("login fail"),t.abrupt("return",[r,a]);case 39:case"end":return t.stop()}}),t,this)}))),function(t){return L.apply(this,arguments)})},{key:"transact",value:(F=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.check()){t.next=2;break}return t.abrupt("return",["no connect and login",null]);case 2:if(!w.a.state.app.freeCpu){t.next=5;break}return t.abrupt("return",this.transactFree(e));case 5:return n=null,r=null,t.next=8,this.awaitWrap(this.api.transact(e,{blocksBehind:3,expireSeconds:30}));case 8:return a=t.sent,i=Object(s.a)(a,2),n=i[0],r=i[1],t.abrupt("return",[n,r]);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return F.apply(this,arguments)})},{key:"transactFree",value:(z=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={tx:e,txh:n={blocksBehind:3,expireSeconds:120}},a=w.a.state.app.account.name,e.actions.unshift({account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"yfcmonitor11",permission:"active"}],data:{user:a}}),i=null,c=null,t.next=7,this.awaitWrap(this.api.transact(e,Object(o.a)(Object(o.a)({},n),{},{sign:!0,broadcast:!1})));case 7:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],c=u[1],!i){t.next=13;break}return t.abrupt("return",[i,c]);case 13:return d=c.signatures,t.next=16,this.deserializeTransaction(c.serializedTransaction);case 16:if(p=t.sent,f=Object(s.a)(p,2),i=f[0],c=f[1],!i){t.next=22;break}return t.abrupt("return",[i,c]);case 22:return c.signatures=d,c.context_free_data=[],r.sign_data=c,t.abrupt("return",Object(A.pushFreeCpu2)(r));case 26:case"end":return t.stop()}}),t,this)}))),function(t){return z.apply(this,arguments)})},{key:"deserializeTransaction",value:(P=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=19;break}return n=null,r=null,t.prev=5,r=this.api.deserializeTransaction(e),t.abrupt("break",19);case 10:return t.prev=10,t.t0=t.catch(5),n=t.t0,console.log(n.toString()),t.next=16,this.sleep(this.delay);case 16:a++,t.next=2;break;case 19:return t.abrupt("return",[n,r]);case 20:case"end":return t.stop()}}),t,this,[[5,10]])}))),function(t){return P.apply(this,arguments)})},{key:"deserializeTransactionWithActions",value:(B=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.api.deserializeTransactionWithActions(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return B.apply(this,arguments)})},{key:"getTableRows",value:(I=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_table_rows(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return I.apply(this,arguments)})},{key:"abiBinToJson",value:(D=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.code,r=e.action,a=e.binargs,i=null,o=null,c=0;case 3:if(!(c<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.abi_bin_to_json(n,r,a));case 6:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],!(o=u[1])){t.next=14;break}return t.abrupt("return",[i,o]);case 14:return t.next=16,this.sleep(this.delay);case 16:c++,t.next=3;break;case 19:return t.abrupt("return",[i,o]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return D.apply(this,arguments)})},{key:"abiJsonToBin",value:(E=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.code,r=e.action,a=e.args,i=null,o=null,c=0;case 3:if(!(c<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.abi_json_to_bin(n,r,a));case 6:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],!(o=u[1])){t.next=14;break}return t.abrupt("return",[i,o]);case 14:return t.next=16,this.sleep(this.delay);case 16:c++,t.next=3;break;case 19:return t.abrupt("return",[i,o]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"getAbi",value:(T=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_abi(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"getAccount",value:($=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_account(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return $.apply(this,arguments)})},{key:"getAccountsByAuthorizers",value:(R=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.accounts,r=e.keys,a=null,i=null,o=0;case 3:if(!(o<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_accounts_by_authorizers(n,r));case 6:if(c=t.sent,l=Object(s.a)(c,2),a=l[0],!(i=l[1])){t.next=14;break}return t.abrupt("return",[a,i]);case 14:return t.next=16,this.sleep(this.delay);case 16:o++,t.next=3;break;case 19:return t.abrupt("return",[a,i]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return R.apply(this,arguments)})},{key:"getActivatedProtocolFeatures",value:(N=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_activated_protocol_features(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return N.apply(this,arguments)})},{key:"getBlockHeaderState",value:(S=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.block_num_or_id,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_block_header_state(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"getBlockInfo",value:(O=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.block_num,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_block_info(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return O.apply(this,arguments)})},{key:"getBlock",value:(j=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.block_num_or_id,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_block(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)})},{key:"getCode",value:(_=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_code(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"getCodeHash",value:(k=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_code_hash(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"getCurrencyBalance",value:(x=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.code,r=e.account,a=e.symbol,i=null,o=null,c=0;case 3:if(!(c<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_currency_balance(n,r,a));case 6:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],!(o=u[1])){t.next=14;break}return t.abrupt("return",[i,o]);case 14:return t.next=16,this.sleep(this.delay);case 16:c++,t.next=3;break;case 19:return t.abrupt("return",[i,o]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"getCurrencyStats",value:(v=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.code,r=e.symbol,a=null,i=null,o=0;case 3:if(!(o<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_currency_stats(n,r));case 6:if(c=t.sent,l=Object(s.a)(c,2),a=l[0],!(i=l[1])){t.next=14;break}return t.abrupt("return",[a,i]);case 14:return t.next=16,this.sleep(this.delay);case 16:o++,t.next=3;break;case 19:return t.abrupt("return",[a,i]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"getInfo",value:(m=Object(i.a)(regeneratorRuntime.mark((function t(){var e,n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,r=0;case 2:if(!(r<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_info());case 5:if(a=t.sent,i=Object(s.a)(a,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,this.sleep(this.delay);case 15:r++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getProducerSchedule",value:(f=Object(i.a)(regeneratorRuntime.mark((function t(){var e,n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,r=0;case 2:if(!(r<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_producer_schedule());case 5:if(a=t.sent,i=Object(s.a)(a,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,this.sleep(this.delay);case 15:r++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"getProducers",value:(p=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.json,r=e.lower_bound,a=e.limit,i=null,o=null,c=0;case 3:if(!(c<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_producers(n,r,a));case 6:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],!(o=u[1])){t.next=14;break}return t.abrupt("return",[i,o]);case 14:return t.next=16,this.sleep(this.delay);case 16:c++,t.next=3;break;case 19:return t.abrupt("return",[i,o]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"getRawCodeAndAbi",value:(d=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_raw_code_and_abi(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"getRawAbi",value:(u=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_raw_abi(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"getRawAbi2",value:(l=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.account_name,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.getRawAbi(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getScheduledTransactions",value:(c=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.json,r=e.lower_bound,a=e.limit,i=null,o=null,c=0;case 3:if(!(c<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.get_scheduled_transactions(n,r,a));case 6:if(l=t.sent,u=Object(s.a)(l,2),i=u[0],!(o=u[1])){t.next=14;break}return t.abrupt("return",[i,o]);case 14:return t.next=16,this.sleep(this.delay);case 16:c++,t.next=3;break;case 19:return t.abrupt("return",[i,o]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"getKVTableRows",value:(a=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_kv_table_rows(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getTableByScope",value:(r=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.get_table_by_scope(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getRequiredKeys",value:(n=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=null,a=0;case 2:if(!(a<this.try)){t.next=18;break}return t.next=5,this.awaitWrap(this.rpc.getRequiredKeys(e));case 5:if(i=t.sent,o=Object(s.a)(i,2),n=o[0],!(r=o[1])){t.next=13;break}return t.abrupt("return",[n,r]);case 13:return t.next=15,this.sleep(this.delay);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[n,r]);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getKeyAccounts",value:(e=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.public_key,r=null,a=null,i=0;case 3:if(!(i<this.try)){t.next=19;break}return t.next=6,this.awaitWrap(this.rpc.history_get_key_accounts(n));case 6:if(o=t.sent,c=Object(s.a)(o,2),r=c[0],!(a=c[1])){t.next=14;break}return t.abrupt("return",[r,a]);case 14:return t.next=16,this.sleep(this.delay);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[r,a]);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}()),j={name:"NodeSet",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,curNode:0,nodeList:[{name:"Eosflare",protocol:"https",host:"api.eosflare.io",port:"443",url:"https://api.eosflare.io",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"TP",protocol:"https",host:"eospush.tokenpocket.pro",port:"443",url:"https://eospush.tokenpocket.pro",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Fwnw",protocol:"https",host:"api.fwnw.com",port:"443",url:"https://api.fwnw.com",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Sweden",protocol:"https",host:"api.eossweden.se",port:"443",url:"https://api.eossweden.se",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"EOSNation",protocol:"https",host:"api.eosn.io",port:"443",url:"https://api.eosn.io",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Greymass",protocol:"https",host:"eos.greymass.com",port:"443",url:"https://eos.greymass.com",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"StartEos",protocol:"https",host:"api-mainnet.starteos.io",port:"443",url:"https://api-mainnet.starteos.io",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Laomao",protocol:"https",host:"api.eoslaomao.com",port:"443",url:"https://api.eoslaomao.com",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Scatter(墙)",protocol:"https",host:"nodes.get-scatter.com",port:"443",url:"https://nodes.get-scatter.com",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Newdex(墙)",protocol:"https",host:"eos.newdex.one",port:"443",url:"https://eos.newdex.one",blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}]}},watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},computed:Object(o.a)({},Object(c.b)({nodeConfig:function(t){return t.app.nodeConfig}})),methods:{handleDealNodeDalay:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.url,a=p()().valueOf(),n.next=4,e.$api.node_delay(r);case 4:if(i=n.sent,o=Object(s.a)(i,2),c=o[0],o[1],!c){n.next=12;break}return e.$set(t,"delay",9999),e.dialogVisible&&setTimeout(e.handleDealNodeDalay,2e3,t),n.abrupt("return");case 12:l=p()().valueOf()-a,e.$set(t,"delay",l),e.dialogVisible&&setTimeout(e.handleDealNodeDalay,2e3,t);case 15:case"end":return n.stop()}}),n)})))()},handleOpenDialog:function(){for(var t=this,e=0;e<this.nodeList.length;e++)if(this.nodeList[e].name==this.nodeConfig.name){this.curNode=e;break}this.nodeList.forEach((function(e){t.$set(e,"delay",void 0),t.handleDealNodeDalay(e)}))},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){var t=this.nodeList[this.curNode];this.$store.dispatch("setNodeConfig",t),this.dialogVisible=!1,_.init()}},mounted:function(){}},O=(n("a675"),n("2877")),S=Object(O.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"节点设置",top:"3vh",visible:t.dialogVisible,width:"90%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("van-list",{staticStyle:{overflow:"scroll",height:"400px"}},[n("van-radio-group",{model:{value:t.curNode,callback:function(e){t.curNode=e},expression:"curNode"}},t._l(t.nodeList,(function(e,r){return n("van-cell",{key:r},[n("van-radio",{attrs:{name:r}},[n("div",{staticClass:"ml-20"},[n("div",[n("span",{staticClass:"rmr-2"},[t._v(t._s(e.name))]),n("span",{class:{"text-green":e.delay<1e3,"color-warning":e.delay<3e3&&e.delay>=1e3,"text-red":e.delay>=3e3||!e.delay}},[t._v(t._s(e.delay||"- ")+"ms")])]),n("div",{staticClass:"text-secondary"},[t._v(t._s(e.host))])])])],1)})),1)],1),n("div",{staticClass:"d-flex justify-content-start rmt-3"},[n("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),n("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],1)}),[],!1,null,"f23c1676",null).exports,N=n("7d92"),R=n.n(N),$=n("349e"),T=n.n($),E={name:"MyProposal",components:{JsonViewer:T.a},props:{logined:{type:Boolean,default:!1,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,table:[],proposals:{},proposalContent:""}},watch:{logined:{handler:function(t,e){t&&this.handleGetApprovals()}}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),methods:{handleApprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"approve",authorization:[{actor:r,permission:a}],data:{proposer:r,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleUnapprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"unapprove",authorization:[{actor:r,permission:a}],data:{proposer:r,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleExec:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"exec",authorization:[{actor:r,permission:a}],data:{proposer:r,proposal_name:i,executer:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleCancel:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"cancel",authorization:[{actor:r,permission:a}],data:{proposer:r,proposal_name:i,canceler:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleGetApprovals:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=[],r=t.account.name,a={code:"eosio.msig",scope:r,table:"approvals2",limit:100,json:!0},e.next=6,_.getTableRows(a);case 6:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=15;break}return t.$toast({type:"fail",message:"获取批准信息失败"}),t.loading=!1,t.$parent.$parent.logMsg.unshift(c.toString()),e.abrupt("return");case 15:(l.rows||[]).forEach((function(t){var e=t.proposal_name,r=[],a=[];t.requested_approvals.forEach((function(t){a.push(t.level.actor+"@"+t.level.permission)})),t.provided_approvals.forEach((function(t){r.push(t.level.actor+"@"+t.level.permission)})),n.push({proposal_name:e,requested_approvals:a,provided_approvals:r})})),t.table=n,t.handleGetProposal();case 19:case"end":return e.stop()}}),e)})))()},handleGetProposal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=t.account.name,a={code:"eosio.msig",scope:r,table:"proposal",limit:100,json:!0},e.next=5,_.getTableRows(a);case 5:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=14;break}return t.$toast({type:"fail",message:"获取提案信息失败"}),t.loading=!1,t.$parent.$parent.logMsg.unshift(c.toString()),e.abrupt("return");case 14:(l.rows||[]).forEach((function(t){var e=R.a.sha256().update(t.packed_transaction).digest("hex");n[t.proposal_name]={hash:e,packed_trx:t.packed_transaction}})),t.proposals=n,t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()},handleUpdate:function(){this.handleGetApprovals()},handleShowProposal:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.proposals[t].packed_trx,n.next=3,_.deserializeTransactionWithActions(r);case 3:a=n.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],o&&(e.$toast({type:"fail",message:"查看提案内容失败"}),e.$parent.$parent.logMsg.unshift(o.toString()),console.log(o)),c&&(e.proposalContent=c,e.dialogVisible=!0);case 9:case"end":return n.stop()}}),n)})))()}},mounted:function(){}},D=(n("ea64"),Object(O.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"fs-medium hardline flexbc"},[n("div",[t._v("我发起的提案")]),n("el-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"fs-medium",attrs:{type:"primary"},on:{click:t.handleUpdate}},[t._v("更新")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1),n("el-divider",{staticClass:"rmb-1"}),n("el-table",{attrs:{stripe:"",data:t.table}},[n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])}),n("el-table-column",{attrs:{label:"内容","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",plain:"",size:"small"},on:{click:function(n){return t.handleShowProposal(e.row.proposal_name)}}},[t._v("内容")])]}}])}),n("el-table-column",{attrs:{label:"请求批准","min-width":"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("请求批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.requested_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.requested_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"已批准","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("已批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.provided_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.provided_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"操作","min-width":"280px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleApprove(e.$index)}}},[t._v("批准")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleExec(e.$index)}}},[t._v("执行")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleCancel(e.$index)}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleUnapprove(e.$index)}}},[t._v("否决")])]}}])}),n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])})],1),n("el-dialog",{attrs:{title:"提案内容",top:"1vh",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("json-viewer",{attrs:{value:t.proposalContent,sort:"","expand-depth":5}})],1)],1)}),[],!1,null,"1628401a",null).exports),I={name:"OtherProposal",components:{JsonViewer:T.a},props:{logined:{type:Boolean,default:!1,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,table:[],proposals:{},proposalContent:"",showFail:!1,failMax:3,failCnt:0,hosts:["https://api.eosflare.io","https://eospush.tokenpocket.pro","https://api.eosn.io","https://eos.greymass.com","https://mainnet.eoscannon.io"]}},watch:{logined:{handler:function(t,e){t&&this.handleGetApprovals()}}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),methods:{handleApprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"approve",authorization:[{actor:r,permission:a}],data:{proposer:e.table[t].proposer,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleUnapprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"unapprove",authorization:[{actor:r,permission:a}],data:{proposer:e.table[t].proposer,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleExec:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"exec",authorization:[{actor:r,permission:a}],data:{proposer:e.table[t].proposer,proposal_name:i,executer:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleCancel:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"cancel",authorization:[{actor:r,permission:a}],data:{proposer:e.table[t].proposer,proposal_name:i,canceler:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleGetApprovals:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,n=[],r=[],a=t.account.name,i=null,o=null,c=a.split(".")[0],l=0;case 7:if(!(l<t.failMax)){e.next=43;break}return e.next=10,u.a.get("https://api.eossweden.org/v2/state/get_proposals?requested=".concat(c,"&executed=false&limit=1000")).then((function(t){return[null,t]})).catch((function(t){return[t,null]}));case 10:if(d=e.sent,p=Object(s.a)(d,2),i=p[0],o=p[1],!i){e.next=18;break}return console.log(i.toString()),e.next=18,_.sleep(2e3);case 18:if(!o){e.next=40;break}f=0;case 20:if(!(f<o.data.proposals.length)){e.next=35;break}m=0;case 22:if(!(m<o.data.proposals[f].requested_approvals.length)){e.next=32;break}if(o.data.proposals[f].requested_approvals[m].actor!=a){e.next=29;break}return e.next=26,t.handleCheckProposal(o.data.proposals[f]);case 26:if(!e.sent){e.next=28;break}r.push(o.data.proposals[f]);case 28:return e.abrupt("break",32);case 29:m++,e.next=22;break;case 32:f++,e.next=20;break;case 35:return r.forEach((function(t){var e=t.proposal_name,r=t.proposer,s=[],i=[];t.requested_approvals.forEach((function(t){i.push(t.actor+"@"+t.permission)})),t.provided_approvals.forEach((function(t){s.push(t.actor+"@"+t.permission)})),r!=a&&n.push({proposer:r,proposal_name:e,requested_approvals:i,provided_approvals:s})})),t.table=n,t.failCnt=0,t.handleGetProposal(),e.abrupt("return");case 40:l++,e.next=7;break;case 43:t.$toast({type:"fail",message:"获取所有提案信息失败"}),t.loading=!1,t.showFail=!0;case 46:case"end":return e.stop()}}),e)})))()},handleCheckProposal:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={code:"eosio.msig",scope:t.proposer+" ",table:"proposal",lower_bound:t.proposal_name,upper_bound:t.proposal_name,limit:100,json:!0},n.next=3,_.getTableRows(r);case 3:if(a=n.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],!o){n.next=11;break}return e.$toast({type:"fail",message:"获取提案信息失败"}),e.$parent.$parent.logMsg.unshift(o.toString()),n.abrupt("return",!1);case 11:if((c.rows||[]).length){n.next=14;break}return n.abrupt("return",!1);case 14:return n.abrupt("return",!0);case 15:case"end":return n.stop()}}),n)})))()},handleGetProposal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=0;case 2:if(!(r<t.table.length)){e.next=22;break}return a={code:"eosio.msig",scope:t.table[r].proposer+" ",table:"proposal",lower_bound:t.table[r].proposal_name,upper_bound:t.table[r].proposal_name,limit:100,json:!0},e.next=6,_.getTableRows(a);case 6:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=15;break}return t.$toast({type:"fail",message:"获取提案信息失败"}),t.loading=!1,t.$parent.$parent.logMsg.unshift(c.toString()),e.abrupt("return");case 15:if((u=l.rows||[]).length){e.next=18;break}return e.abrupt("continue",19);case 18:u.forEach((function(t){var e=R.a.sha256().update(t.packed_transaction).digest("hex");n[t.proposal_name]={hash:e,packed_trx:t.packed_transaction}}));case 19:r++,e.next=2;break;case 22:t.proposals=n,t.loading=!1;case 24:case"end":return e.stop()}}),e)})))()},handleUpdate:function(){this.showFail=!1,this.handleGetApprovals()},handleShowProposal:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.proposals[t].packed_trx,n.next=3,_.deserializeTransactionWithActions(r);case 3:a=n.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],o&&(e.$toast({type:"fail",message:"查看提案内容失败"}),e.$parent.$parent.logMsg.unshift(o.toString()),console.log(o)),c&&(e.proposalContent=c,e.dialogVisible=!0);case 9:case"end":return n.stop()}}),n)})))()}},mounted:function(){}},B=(n("355e"),Object(O.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"fs-medium hardline flexbc"},[n("div",[t._v("待我批准的提案")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFail,expression:"showFail"}],staticClass:"color-danger"},[t._v("获取失败，请更新")]),n("el-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"fs-medium",attrs:{type:"primary"},on:{click:t.handleUpdate}},[t._v("更新")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1),n("el-divider",{staticClass:"rmb-1"}),n("el-table",{attrs:{stripe:"",data:t.table}},[n("el-table-column",{attrs:{label:"提案人/提案","min-width":"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposer))]),n("div",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])}),n("el-table-column",{attrs:{label:"内容","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",plain:"",size:"small"},on:{click:function(n){return t.handleShowProposal(e.row.proposal_name)}}},[t._v("内容")])]}}])}),n("el-table-column",{attrs:{label:"请求批准","min-width":"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("请求批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.requested_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.requested_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"已批准","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("已批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.provided_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.provided_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"操作","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleApprove(e.$index)}}},[t._v("批准")])]}}])}),n("el-table-column",{attrs:{label:"提案人/提案","min-width":"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposer))]),n("div",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])})],1),n("el-dialog",{attrs:{title:"提案内容",top:"1vh",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("json-viewer",{attrs:{value:t.proposalContent,sort:"","expand-depth":5}})],1)],1)}),[],!1,null,"757468e2",null).exports),P={name:"QueryProposal",components:{JsonViewer:T.a},data:function(){return{loading:!1,dialogVisible:!1,table:[],proposals:{},proposalContent:"",proposer:""}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),methods:{handleApprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"approve",authorization:[{actor:r,permission:a}],data:{proposer:e.proposer,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleUnapprove:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"unapprove",authorization:[{actor:r,permission:a}],data:{proposer:e.proposer,proposal_name:i,level:{actor:r,permission:a}}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleExec:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"exec",authorization:[{actor:r,permission:a}],data:{proposer:e.proposer,proposal_name:i,executer:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleCancel:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.account.name,a=e.account.permissions,i=e.table[t].proposal_name,o={actions:[{account:"eosio.msig",name:"cancel",authorization:[{actor:r,permission:a}],data:{proposer:e.proposer,proposal_name:i,canceler:r}}]},n.next=6,_.transact(o);case 6:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=16;break}return e.$toast({type:"fail",message:u.toString()}),setTimeout(e.handleUpdate,2e3),e.$parent.$parent.logMsg.unshift(u.toString()),console.log(u),n.abrupt("return");case 16:d&&(e.$toast({type:"success",message:"Success"}),setTimeout(e.handleUpdate,2e3),console.log(d));case 17:case"end":return n.stop()}}),n)})))()},handleGetApprovals:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=[],r=t.proposer,a={code:"eosio.msig",scope:r,table:"approvals2",limit:100,json:!0},e.next=6,_.getTableRows(a);case 6:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=15;break}return t.$toast({type:"fail",message:"获取批准信息失败"}),t.loading=!1,t.$parent.$parent.logMsg.unshift(c.toString()),e.abrupt("return");case 15:u=[],console.log(l.rows),l.rows.forEach((function(e){for(var n=!1,r=0;r<e.requested_approvals.length;r++)if(e.requested_approvals[r].level.actor==t.account.name){u.push(e),n=!0;break}if(!n)for(var a=0;a<e.provided_approvals.length;a++)if(e.provided_approvals[a].level.actor==t.account.name){u.push(e);break}})),u.forEach((function(t){var e=t.proposal_name,r=[],a=[];t.requested_approvals.forEach((function(t){a.push(t.level.actor+"@"+t.level.permission)})),t.provided_approvals.forEach((function(t){r.push(t.level.actor+"@"+t.level.permission)})),n.push({proposal_name:e,requested_approvals:a,provided_approvals:r})})),t.table=n,t.handleGetProposal();case 21:case"end":return e.stop()}}),e)})))()},handleGetProposal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=t.proposer,a={code:"eosio.msig",scope:r,table:"proposal",limit:100,json:!0},e.next=5,_.getTableRows(a);case 5:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=14;break}return t.$toast({type:"fail",message:"获取提案信息失败"}),t.loading=!1,t.$parent.$parent.logMsg.unshift(c.toString()),e.abrupt("return");case 14:(l.rows||[]).forEach((function(t){var e=R.a.sha256().update(t.packed_transaction).digest("hex");n[t.proposal_name]={hash:e,packed_trx:t.packed_transaction}})),t.proposals=n,t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()},handleUpdate:function(){this.handleGetApprovals()},handleShowProposal:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.proposals[t].packed_trx,n.next=3,_.deserializeTransactionWithActions(r);case 3:a=n.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],o&&(e.$toast({type:"fail",message:"查看提案内容失败"}),e.$parent.$parent.logMsg.unshift(o.toString()),console.log(o)),c&&(e.proposalContent=c,e.dialogVisible=!0);case 9:case"end":return n.stop()}}),n)})))()},handleCheckAccount:function(){var t,e=!1,n=Object(a.a)(this.proposer);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.proposer.$refs.input.classList.add("border-danger"):this.$refs.proposer.$refs.input.classList.remove("border-danger")}},mounted:function(){}},z=(n("0296"),Object(O.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"fs-medium hardline flexbc"},[n("div",[t._v("查询提案")]),n("el-input",{ref:"proposer",staticClass:"w-150",attrs:{maxlength:"12",placeholder:"输入提案人账号"},on:{input:t.handleCheckAccount},model:{value:t.proposer,callback:function(e){t.proposer=e},expression:"proposer"}}),n("el-link",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"fs-medium",attrs:{type:"primary"},on:{click:t.handleUpdate}},[t._v("查询")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1),n("el-divider",{staticClass:"rmb-1"}),n("el-table",{attrs:{stripe:"",data:t.table}},[n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])}),n("el-table-column",{attrs:{label:"内容","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",plain:"",size:"small"},on:{click:function(n){return t.handleShowProposal(e.row.proposal_name)}}},[t._v("内容")])]}}])}),n("el-table-column",{attrs:{label:"请求批准","min-width":"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("请求批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.requested_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.requested_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"已批准","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{type:"text",plain:"",size:"small"}},[t._v("已批准")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.provided_approvals.length?n("el-dropdown-item",[t._v("无")]):t._e(),t._l(e.row.provided_approvals,(function(e,r){return n("el-dropdown-item",{key:r},[t._v(t._s(e))])}))],2)],1)]}}])}),n("el-table-column",{attrs:{label:"操作","min-width":"280px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleApprove(e.$index)}}},[t._v("批准")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleExec(e.$index)}}},[t._v("执行")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleCancel(e.$index)}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.handleUnapprove(e.$index)}}},[t._v("否决")])]}}])}),n("el-table-column",{attrs:{prop:"proposal_name",label:"提案",width:"130px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"fw-bold"},[t._v(t._s(e.row.proposal_name))])]}}])})],1),n("el-dialog",{attrs:{title:"提案内容",top:"1vh",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("json-viewer",{attrs:{value:t.proposalContent,sort:"","expand-depth":5}})],1)],1)}),[],!1,null,"11f1167e",null).exports),F=(n("99af"),n("c975"),{name:"CustomDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,contract:"",action:"",auth:{perm:"",actor:""},abi:[],actionOptions:[],actionParams:[],customOpt:{},loading:!1,record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.customOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){if(this.handleCheckInput()){var t={};this.actionParams.forEach((function(e){t[e.name]=e.input})),this.customOpt={action:"".concat(this.contract,":").concat(this.action),perm:"".concat(this.auth.actor,"@").concat(this.auth.perm),param:t},this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleCheckInput:function(){if(""===this.contract.trim())return this.$toast({type:"fail",message:"合约账号不能为空",getContainer:"#CustomDialog"}),!1;if(""===this.action.trim())return this.$toast({type:"fail",message:"操作不能为空",getContainer:"#CustomDialog"}),!1;for(var t=0;t<this.actionParams.length;t++)if(""===this.actionParams[t].input.trim())return this.$toast({type:"fail",message:"参数不能为空",getContainer:"#CustomDialog"}),!1;return""===this.auth.actor.trim()?(this.$toast({type:"fail",message:"授权账号不能为空",getContainer:"#CustomDialog"}),!1):""!==this.auth.perm.trim()||(this.$toast({type:"fail",message:"授权权限不能为空",getContainer:"#CustomDialog"}),!1)},handleCheckContract:function(){var t,e=!1,n=Object(a.a)(this.contract);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.contract.$refs.input.classList.add("border-danger"):this.$refs.contract.$refs.input.classList.remove("border-danger")},handleContractQuery:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action="",t.actionOptions=[],t.actionParams=[],""!==t.contract.trim()){e.next=6;break}return t.$toast({type:"fail",message:"合约账号不能为空",getContainer:"#CustomDialog"}),e.abrupt("return");case 6:return n=t.contract.trim(),t.loading=!0,e.next=10,_.getAbi({account_name:n});case 10:if(r=e.sent,a=Object(s.a)(r,2),i=a[0],o=a[1],t.loading=!1,!i){e.next=18;break}return-1!=i.toString().indexOf("unknown key")?t.$toast({type:"fail",message:"合约账号不存在",getContainer:"#CustomDialog"}):t.$toast({type:"fail",message:"获取合约账号信息失败",getContainer:"#CustomDialog"}),e.abrupt("return");case 18:if(c=o.abi||{},0!=Object.keys(c)){e.next=22;break}return t.$toast({type:"fail",message:"获取合约账号信息为空",getContainer:"#CustomDialog"}),e.abrupt("return");case 22:l=[],c.actions.forEach((function(t){l.push({value:t.name,label:t.name})})),t.actionOptions=l,t.abi=c;case 26:case"end":return e.stop()}}),e)})))()},handleActionSelect:function(){for(var t=this,e=0;e<this.abi.structs.length;e++)if(this.abi.structs[e].name===this.action){this.actionParams=this.abi.structs[e].fields,this.actionParams.forEach((function(e){t.$set(e,"input","")}));break}},handleCheckAccount:function(){var t,e=!1,n=Object(a.a)(this.auth.actor);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.actor.$refs.input.classList.add("border-danger"):this.$refs.actor.$refs.input.classList.remove("border-danger")},handleCommand:function(t){var e=this;if("actor"==t)this.auth.actor=this.account.name,this.$refs.actor.$refs.input.classList.remove("border-danger");else if("active"==t||"owner"==t)this.auth.perm=t;else if(t.includes("actor-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.auth.actor=n,e.$refs.actor.$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var r=t.split("-")[1];this.record.perms.forEach((function(t){t==r&&(e.auth.perm=r)}))}else if(t.includes("contract-")&&!this.del){var a=t.split("-")[1];this.record.contracts.forEach((function(t){t==a&&(e.contract=a)}))}this.del=!1},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.auth.actor)||this.auth.actor==this.account.name||(this.record.accounts.push(this.auth.actor),this.record.accounts.sort()),this.record.perms.includes(this.auth.perm)||"active"==this.auth.perm||"owner"==this.auth.perm||(this.record.perms.push(this.auth.perm),this.record.perms.sort()),this.record.contracts.includes(this.contract)||(this.record.contracts.push(this.contract),this.record.contracts.sort()),localStorage.setItem("record",JSON.stringify(this.record))}}}),L=(n("4db6"),Object(O.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"CustomDialog",title:"添加自定义操作",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("合 约")]),n("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{ref:"contract",attrs:{maxlength:"12",placeholder:"合约账号"},on:{input:t.handleCheckContract},model:{value:t.contract,callback:function(e){t.contract=e},expression:"contract"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.record.contracts,(function(e,r){return n("el-dropdown-item",{key:r,staticClass:"flexbc",attrs:{command:"contract-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("contracts-"+r)}}})])})),1)],1),n("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading},on:{click:t.handleContractQuery}},[t._v("查 询")])],1),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("操 作")]),n("div",{staticClass:"d-flex flex-grow-1"},[n("el-select",{staticClass:"flex-grow-1",on:{change:t.handleActionSelect},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},t._l(t.actionOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("参 数")]),n("div",{staticClass:"d-flex flex-grow-1 flex-column"},t._l(t.actionParams,(function(e,r){return n("div",{key:r,staticClass:"rmb-2"},[n("el-input",{attrs:{placeholder:e.name},model:{value:e.input,callback:function(n){t.$set(e,"input",n)},expression:"v.input"}},[n("template",{slot:"append"},[t._v(t._s(e.type))])],2)],1)})),0)]),n("div",{staticClass:"d-flex justify-content-startr rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"},[t._v("授 权")]),n("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{ref:"actor",attrs:{maxlength:"12",placeholder:"账号"},on:{input:t.handleCheckAccount},model:{value:t.auth.actor,callback:function(e){t.$set(t.auth,"actor",e)},expression:"auth.actor"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"actor"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,r){return n("el-dropdown-item",{key:r,staticClass:"flexbc",attrs:{command:"actor-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+r)}}})])}))],2)],1),n("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),n("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-input",{attrs:{placeholder:"权限"},model:{value:t.auth.perm,callback:function(e){t.$set(t.auth,"perm",e)},expression:"auth.perm"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"active"}},[t._v("active")]),n("el-dropdown-item",{attrs:{command:"owner"}},[t._v("owner")]),t._l(t.record.perms,(function(e,r){return n("el-dropdown-item",{key:r,staticClass:"flexbc",attrs:{command:"perm-"+e}},[n("div",[t._v(t._s(e))]),n("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+r)}}})])}))],2)],1)],1),n("div",{staticClass:"d-flex justify-content-start rmb-3"},[n("div",{staticClass:"d-flex align-items-center w-50 flex-none"}),n("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])])}),[],!1,null,"3fc15b34",null).exports),J=(n("b680"),n("acd8"),n("4de4"),{name:"TransferDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount:"",toAccount:"",transferArray:[{transferNum:"",transferSym:"",contract:"请选择",decimal:4,decimalTip:"0.0000",coinNum:"null"}],memo:"",permission:"active",transferOpt:[],coins:[{contract:"eosio.token",sym:"EOS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"tethertether",sym:"USDT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"},{contract:"pizzatotoken",sym:"PIZZA",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pizzatotoken-pizza.png"},{contract:"token.defi",sym:"BOX",decimal:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/token.defi-box.png"},{contract:"tagtokenmain",sym:"TAG",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png"},{contract:"yfctokenmain",sym:"YFC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/yfctokenmain-yfc.png"},{contract:"dbctokenmain",sym:"DBC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dbctokenmain-dbc.png"},{contract:"pddtokenmain",sym:"PDD",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pddtokenmain-pdd.png"},{contract:"usdxusdxusdx",sym:"USDC",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/usdxusdxusdx-usdc.png"},{contract:"dfxtokenmain",sym:"DFG",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfxtokenmain-dfg.png"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"eosiotptoken",sym:"TPT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosiotptoken-tpt.png"},{contract:"core.ogx",sym:"OGX",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/core.ogx-ogx.png"},{contract:"asset.dtoken",sym:"ETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-eth.png"},{contract:"asset.dtoken",sym:"BTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-btc.png"},{contract:"mkstaketoken",sym:"KEY",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/mkstaketoken-key.png"},{contract:"ihooeostoken",sym:"HOO",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/ihooeostoken-hoo.png"},{contract:"btc.ptokens",sym:"PBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/btc.ptokens-pbtc.png"},{contract:"lootglobcore",sym:"LOOT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/lootglobcore-loot.png"},{contract:"xpettimecore",sym:"TIME",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/xpettimecore-time.png"},{contract:"everipediaiq",sym:"IQ",decimal:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/everipediaiq-iq.png"},{contract:"udxsynthetic",sym:"XEOS",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xbtc.png"},{contract:"udxsynthetic",sym:"XBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeos.png"},{contract:"udxsynthetic",sym:"XETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeth.png"},{contract:"pink.bank",sym:"PINK",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pink.bank-pink.png"}],fee:.08,feeAccount:"davidaccount",payNum:"0.0800",payContract:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray.forEach((function(e){var n={};n.from=t.fromAccount,n.to=t.toAccount,n.quantity=parseFloat(e.transferNum).toFixed(e.decimal)+" "+e.transferSym,n.memo=t.memo,t.transferOpt.push({action:e.contract.split("-")[0]+":transfer",perm:t.fromAccount+"@"+t.permission,param:n,fee:!1})})),!this.vip){var e={from:this.fromAccount,to:this.feeAccount,quantity:this.payNum+" "+this.payContract.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract.split("-")[0]+":transfer",perm:this.fromAccount+"@"+this.permission,param:e,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TransferDialog"}),!1;if(""===this.toAccount.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TransferDialog"}),!1;for(var t=0;t<this.transferArray.length;t++){if(""===this.transferArray[t].transferNum.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TransferDialog"}),!1;if(""===this.transferArray[t].transferSym.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TransferDialog"}),!1}return this.fromAccount.trim()!==this.toAccount.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#TransferDialog"}),!1)},handleCheckFromAccount:function(){var t,e=!1,n=Object(a.a)(this.fromAccount);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.fromAccount.$refs.input.classList.add("border-danger"):this.$refs.fromAccount.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin()},handleCheckToAccount:function(){var t,e=!1,n=Object(a.a)(this.toAccount);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.toAccount.$refs.input.classList.add("border-danger"):this.$refs.toAccount.$refs.input.classList.remove("border-danger")},handleCommand:function(t){var e=this;if("fromAccount"==t)this.fromAccount=this.account.name,this.$refs.fromAccount.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin();else if("toAccount"==t)this.toAccount=this.account.name,this.$refs.toAccount.$refs.input.classList.remove("border-danger");else if("active"==t||"owner"==t)this.permission=t;else if(t.includes("fromAccount-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount=n,e.$refs.fromAccount.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin())}))}else if(t.includes("toAccount-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.toAccount=r,e.$refs.toAccount.$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var a=t.split("-")[1];this.record.perms.forEach((function(t){t==a&&(e.permission=a)}))}this.del=!1},handleChangeCoin:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray[t].contract}));this.transferArray[t].transferSym=n[0].sym,this.transferArray[t].decimal=n[0].decimal,this.transferArray[t].decimalTip=(0).toFixed(n[0].decimal),this.handleGetNum(t)},handleGetNum:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray[t].contract.split("-")[0],a=e.transferArray[t].contract.split("-")[1],i=e.fromAccount,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray[t].coinNum=e.transferArray[t].decimalTip,n.abrupt("return");case 18:e.transferArray[t].coinNum=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleAddTransfer:function(){this.transferArray.push({transferNum:"",transferSym:"",contract:"请选择",decimal:4,decimalTip:"0.0000",coinNum:"null"})},handleDeleteTransfer:function(t){this.transferArray.length>1?this.transferArray.splice(t,1):(this.transferArray[t].transferNum="",this.transferArray[t].transferSym="",this.transferArray[t].contract="请选择",this.transferArray[t].decimal=4,this.transferArray[t].decimalTip="0.0000",this.transferArray[t].coinNum="null")},handleChangePayCoin:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract}));this.vip?this.payNum="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#TransferDialog"}),this.payContract="tethertether-USDT",this.payNum=this.fee):this.payNum=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,r=Object(s.a)(n,2),a=r[0],i=r[1],!a){e.next=9;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#TransferDialog"}),e.abrupt("return");case 9:if((o=i.rows||[]).length){e.next=13;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#TransferDialog"}),e.abrupt("return");case 13:o.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 14:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract})),n=(1/e[0].price*this.fee).toFixed(e[0].decimal);return this.vip&&(n=0),n==this.payNum||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#TransferDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#TransferDialog",message:"每笔交易0.5元手续费；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount)||this.fromAccount==this.account.name||(this.record.accounts.push(this.fromAccount),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount)||this.toAccount==this.account.name||(this.record.accounts.push(this.toAccount),this.record.accounts.sort()),this.record.perms.includes(this.permission)||"active"==this.permission||"owner"==this.permission||(this.record.perms.push(this.permission),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}}),V=(n("e00b"),Object(O.a)(J,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{id:"TransferDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[r("template",{slot:"title"},[r("div",{staticClass:"flexcc"},[r("div",[t._v("添加转账操作")]),t.vip?r("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):r("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount},model:{value:t.fromAccount,callback:function(e){t.fromAccount=e},expression:"fromAccount"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission,callback:function(e){t.permission=e},expression:"permission"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount},model:{value:t.toAccount,callback:function(e){t.toAccount=e},expression:"toAccount"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum,placement:"bottom-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip},model:{value:e.transferNum,callback:function(n){t.$set(e,"transferNum",n)},expression:"item.transferNum"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin(n)}},model:{value:e.contract,callback:function(n){t.$set(e,"contract",n)},expression:"item.contract"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum,callback:function(e){t.payNum=e},expression:"payNum"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin},model:{value:t.payContract,callback:function(e){t.payContract=e},expression:"payContract"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"7054cd85",null).exports),Q={name:"SwapDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"}],memo1:"",memo2:"",permission1:"active",permission2:"active",transferOpt:[],coins:[{contract:"eosio.token",sym:"EOS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"tethertether",sym:"USDT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"},{contract:"pizzatotoken",sym:"PIZZA",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pizzatotoken-pizza.png"},{contract:"token.defi",sym:"BOX",decimal:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/token.defi-box.png"},{contract:"tagtokenmain",sym:"TAG",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png"},{contract:"yfctokenmain",sym:"YFC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/yfctokenmain-yfc.png"},{contract:"dbctokenmain",sym:"DBC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dbctokenmain-dbc.png"},{contract:"pddtokenmain",sym:"PDD",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pddtokenmain-pdd.png"},{contract:"usdxusdxusdx",sym:"USDC",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/usdxusdxusdx-usdc.png"},{contract:"dfxtokenmain",sym:"DFG",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfxtokenmain-dfg.png"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"eosiotptoken",sym:"TPT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosiotptoken-tpt.png"},{contract:"core.ogx",sym:"OGX",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/core.ogx-ogx.png"},{contract:"asset.dtoken",sym:"ETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-eth.png"},{contract:"asset.dtoken",sym:"BTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/asset.dtoken-btc.png"},{contract:"mkstaketoken",sym:"KEY",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/mkstaketoken-key.png"},{contract:"ihooeostoken",sym:"HOO",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/ihooeostoken-hoo.png"},{contract:"btc.ptokens",sym:"PBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/btc.ptokens-pbtc.png"},{contract:"lootglobcore",sym:"LOOT",decimal:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/lootglobcore-loot.png"},{contract:"xpettimecore",sym:"TIME",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/xpettimecore-time.png"},{contract:"everipediaiq",sym:"IQ",decimal:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/everipediaiq-iq.png"},{contract:"udxsynthetic",sym:"XEOS",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xbtc.png"},{contract:"udxsynthetic",sym:"XBTC",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeos.png"},{contract:"udxsynthetic",sym:"XETH",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/udxsynthetic-xeth.png"},{contract:"pink.bank",sym:"PINK",decimal:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/pink.bank-pink.png"}],fee:.08,feeAccount:"davidaccount",payNum1:"0.0800",payNum2:"0.0800",payContract1:"tethertether-USDT",payContract2:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray1.forEach((function(e){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo=t.memo1,t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})})),this.transferArray2.forEach((function(e){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo=t.memo2,t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})})),!this.vip){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#SwapDialog"}),!1;for(var t=0;t<this.transferArray1.length;t++){if(""===this.transferArray1[t].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.transferArray1[t].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#SwapDialog"}),!1}for(var e=0;e<this.transferArray2.length;e++){if(""===this.transferArray2[e].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#SwapDialog"}),!1;if(""===this.transferArray2[e].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#SwapDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#SwapDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.fromAccount2=r,e.toAccount1=r,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.toAccount2=s,e.fromAccount1=s,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission1=i)}))}else if(t.includes("perm2-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission2=o)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.handleGetNum2(t)},handleGetNum1:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],i=e.fromAccount1,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 18:e.transferArray1[t].coinNum1=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],i=e.fromAccount2,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 18:e.transferArray2[t].coinNum2=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null")},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null")},handleChangePayCoin1:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1}));this.vip?this.payNum1="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#SwapDialog"}),this.payContract1="tethertether-USDT",this.payNum1=this.fee):this.payNum1=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleChangePayCoin2:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2}));this.vip?this.payNum2="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#SwapDialog"}),this.payContract2="tethertether-USDT",this.payNum2=this.fee):this.payNum2=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,r=Object(s.a)(n,2),a=r[0],i=r[1],!a){e.next=9;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#SwapDialog"}),e.abrupt("return");case 9:if((o=i.rows||[]).length){e.next=13;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#SwapDialog"}),e.abrupt("return");case 13:o.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 14:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1})),n=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2})),r=(1/e[0].price*this.fee).toFixed(e[0].decimal),a=(1/n[0].price*this.fee).toFixed(n[0].decimal);return this.vip&&(r=0),this.vip&&(a=0),r==this.payNum1&&a==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#SwapDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#SwapDialog",message:"每笔交易1元手续费，由双方共同承担；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}},U=(n("dfba"),Object(O.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{id:"SwapDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[r("template",{slot:"title"},[r("div",{staticClass:"flexcc"},[r("div",[t._v("添加交换操作")]),t.vip?r("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):r("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"bottom-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-4"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.transferArray1,(function(e,n){return r("div",{key:n,staticClass:"fw-bold"},[""!=e.transferNum1||""!=e.transferSym1?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),r("i",{staticClass:"el-icon-right rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),r("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.transferSym1))])]):t._e()])})),r("el-divider",{staticClass:"rmy-3 h-2"},[r("i",{staticClass:"el-icon-refresh"})]),t._l(t.transferArray2,(function(e,n){return r("div",{key:t.transferArray1.length+n,staticClass:"fw-bold"},[""!=e.transferNum2||""!=e.transferSym2?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),r("i",{staticClass:"el-icon-back rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),r("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.transferSym2))])]):t._e()])})),r("div",{staticClass:"rmb-4"}),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"bottom-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n+1,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"24c9351a",null).exports),q=(n("e25e"),{name:"TownDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null",coinName1:"",coinTotal1:0}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null",coinName2:"",coinTotal2:0}],memo1:"",memo2:"",permission1:"active",permission2:"active",transferOpt:[],coins:[{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"dfsfarmitems",sym:"WHEAT",decimal:4,name:"小麦",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/WHEAT.png"},{contract:"dfsfarmitems",sym:"CORN",decimal:4,name:"玉米",cost:2,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CORN.png"},{contract:"dfsfarmitems",sym:"CARROT",decimal:4,name:"萝卜",cost:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CARROT.png"},{contract:"dfsfarmitems",sym:"SUGCANE",decimal:4,name:"甘蔗",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SUGCANE.png"},{contract:"dfsfarmitems",sym:"COTTON",decimal:4,name:"棉花",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COTTON.png"},{contract:"dfsfarmitems",sym:"COWFOOD",decimal:4,name:"牛饲料",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COWFOOD.png"},{contract:"dfsfarmitems",sym:"CHKFOOD",decimal:4,name:"鸡饲料",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CHKFOOD.png"},{contract:"dfsfarmitems",sym:"SHPFOOD",decimal:4,name:"羊饲料",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SHPFOOD.png"},{contract:"dfsfarmitems",sym:"MILK",decimal:4,name:"牛奶",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/MILK.png"},{contract:"dfsfarmitems",sym:"EGG",decimal:4,name:"鸡蛋",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/EGG.png"},{contract:"dfsfarmitems",sym:"WOOL",decimal:4,name:"羊毛",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/WOOL.png"},{contract:"dfsfarmitems",sym:"BREAD",decimal:4,name:"面包",cost:6,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BREAD.png"},{contract:"dfsfarmitems",sym:"COOKIE",decimal:4,name:"曲奇",cost:7,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COOKIE.png"},{contract:"dfsfarmitems",sym:"CAKE",decimal:4,name:"蛋糕",cost:11,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CAKE.png"},{contract:"dfsfarmitems",sym:"SUGAR",decimal:4,name:"砂糖",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SUGAR.png"},{contract:"dfsfarmitems",sym:"SYRUP",decimal:4,name:"糖浆",cost:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SYRUP.png"},{contract:"dfsfarmitems",sym:"CARAMEL",decimal:4,name:"焦糖",cost:12,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CARAMEL.png"},{contract:"dfsfarmitems",sym:"CLOTH",decimal:4,name:"棉布",cost:15,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CLOTH.png"},{contract:"dfsfarmitems",sym:"YARN",decimal:4,name:"纺纱",cost:18,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/YARN.png"},{contract:"dfsfarmitems",sym:"SILK",decimal:4,name:"丝绸",cost:22,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SILK.png"},{contract:"dfsfarmitems",sym:"SHIRT",decimal:4,name:"衬衫",cost:30,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SHIRT.png"},{contract:"dfsfarmitems",sym:"SWEATER",decimal:4,name:"毛衣",cost:36,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/SWEATER.png"},{contract:"dfsfarmitems",sym:"COAT",decimal:4,name:"外套",cost:55,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COAT.png"},{contract:"dfsfarmitems",sym:"BERRY",decimal:4,name:"草莓",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BERRY.png"},{contract:"dfsfarmitems",sym:"COCOS",decimal:4,name:"可可",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/COCOS.png"},{contract:"dfsfarmitems",sym:"TOMATO",decimal:4,name:"西红柿",cost:5,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/TOMATO.png"},{contract:"dfsfarmitems",sym:"CREAM",decimal:4,name:"奶油",cost:4,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CREAM.png"},{contract:"dfsfarmitems",sym:"CHEESE",decimal:4,name:"奶酪",cost:8,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CHEESE.png"},{contract:"dfsfarmitems",sym:"BUTTER",decimal:4,name:"黄油",cost:12,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BUTTER.png"},{contract:"dfsfarmitems",sym:"YOGURT",decimal:4,name:"酸奶",cost:16,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/YOGURT.png"},{contract:"dfsfarmitems",sym:"ICREAM",decimal:4,name:"冰淇淋",cost:12,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/ICREAM.png"},{contract:"dfsfarmitems",sym:"ILOLLY",decimal:4,name:"冰棒",cost:14,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/ILOLLY.png"},{contract:"dfsfarmitems",sym:"FROYO",decimal:4,name:"冻酸奶",cost:20,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/FROYO.png"},{contract:"dfsfarmitems",sym:"RUBY",decimal:4,name:"红宝石",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/RUBY.png"},{contract:"dfsfarmitems",sym:"BERYL",decimal:4,name:"绿宝石",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/BERYL.png"},{contract:"dfsfarmitems",sym:"TOPAZ",decimal:4,name:"黄玉",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/TOPAZ.png"},{contract:"dfsfarmitems",sym:"AMTHYST",decimal:4,name:"紫水晶",cost:3,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/AMTHYST.png"},{contract:"dfsfarmitems",sym:"VOICE",decimal:4,name:"小喇叭",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/VOICE.png"},{contract:"dfsfarmitems",sym:"LAND",decimal:4,name:"体验卡",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/LAND.png"},{contract:"dfsfarmitems",sym:"FTZ",decimal:4,name:"化肥",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/FTZ.png"},{contract:"dfsfarmitems",sym:"CHIP",decimal:4,name:"碎片",cost:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material3/Town/factory/CHIP.png"}],fee:.001,feeAccount:"davidaccount",payNum1:"0.0010",payNum2:"0.0010",payContract1:"dfsfarmitems-DCASH",payContract2:"dfsfarmitems-DCASH",payCoins:[{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),{},{calcTip:function(){var t=0,e=0;return this.transferArray1.forEach((function(e){t+=e.coinTotal1})),this.transferArray2.forEach((function(t){e+=t.coinTotal2})),this.payNum1=((t+e)*this.fee/2).toFixed(4),this.payNum2=this.payNum1,this.vip&&(this.payNum1=0),this.vip&&(this.payNum2=0),t+" : "+e}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.transferArray1.forEach((function(e){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo=t.memo1,t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})})),this.transferArray2.forEach((function(e){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo=t.memo2,t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})})),!this.vip){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#TownDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#TownDialog"}),!1;for(var t=0;t<this.transferArray1.length;t++){if(""===this.transferArray1[t].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TownDialog"}),!1;if(""===this.transferArray1[t].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TownDialog"}),!1}for(var e=0;e<this.transferArray2.length;e++){if(""===this.transferArray2[e].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#TownDialog"}),!1;if(""===this.transferArray2[e].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#TownDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#TownDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.fromAccount2=r,e.toAccount1=r,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.toAccount2=s,e.fromAccount1=s,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission1=i)}))}else if(t.includes("perm2-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission2=o)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.transferArray1[t].coinName1=n[0].name+"-"+n[0].cost,this.transferArray1[t].coinTotal1=parseInt(n[0].cost*this.transferArray1[t].transferNum1),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.transferArray2[t].coinName2=n[0].name+"-"+n[0].cost,this.transferArray2[t].coinTotal2=parseInt(n[0].cost*this.transferArray2[t].transferNum2),this.handleGetNum2(t)},handleChangeNum1:function(t){var e=this.transferArray1[t].coinName1.split("-")[1];isNaN(e)&&(e=0),this.transferArray1[t].coinTotal1=parseInt(e*this.transferArray1[t].transferNum1)},handleChangeNum2:function(t){var e=this.transferArray2[t].coinName2.split("-")[1];isNaN(e)&&(e=0),this.transferArray2[t].coinTotal2=parseInt(e*this.transferArray2[t].transferNum2)},handleGetNum1:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],i=e.fromAccount1,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 18:e.transferArray1[t].coinNum1=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],i=e.fromAccount2,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 18:e.transferArray2[t].coinNum2=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null",coinName1:"",coinTotal1:0})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null",coinName2:"",coinTotal2:0})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null",this.transferArray1[t].coinName1="",this.transferArray1[t].coinTotal1=0)},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null",this.transferArray2[t].coinName2="",this.transferArray2[t].coinTotal2=0)},handleChangePayCoin1:function(){},handleChangePayCoin2:function(){},handleCheckFee:function(){var t=0,e=0,n=0,r=0;return this.transferArray1.forEach((function(e){t+=e.coinTotal1})),this.transferArray2.forEach((function(t){e+=t.coinTotal2})),r=n=(t+e)*this.fee/2,this.vip&&(n=0),this.vip&&(r=0),n==this.payNum1&&r==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#TownDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#TownDialog",message:"每笔交易额的0.1%，由双方共同承担；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}}}),G=(n("53a4"),Object(O.a)(q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{id:"TownDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[r("template",{slot:"title"},[r("div",{staticClass:"flexcc"},[r("div",[t._v("添加交换操作")]),t.vip?r("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):r("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"top-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},on:{input:function(e){return t.handleChangeNum1(n)}},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.name,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.name)+"-"+t._s(e.cost)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-4"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:t.calcTip},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.transferArray1,(function(e,n){return r("div",{key:n,staticClass:"fw-bold"},[""!=e.transferNum1||""!=e.coinName1?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),r("i",{staticClass:"el-icon-right rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),r("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.coinName1))])]):t._e()])})),r("el-divider",{staticClass:"rmy-3 h-2"},[r("i",{staticClass:"el-icon-refresh"})]),t._l(t.transferArray2,(function(e,n){return r("div",{key:t.transferArray1.length+n,staticClass:"fw-bold"},[""!=e.transferNum2||""!=e.coinName2?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),r("i",{staticClass:"el-icon-back rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),r("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.coinName2))])]):t._e()])})),r("div",{staticClass:"rmb-4"}),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("数 量")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"top-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},on:{input:function(e){return t.handleChangeNum2(n)}},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.name,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.name)+"-"+t._s(e.cost)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:t.calcTip},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"d17cc3e0",null).exports),K=n("2909"),W={name:"NftDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,add:!1,loading1:!1,loading2:!1,fromAccount1:"",fromAccount2:"",toAccount1:"",toAccount2:"",transferArray1:[{transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"}],transferArray2:[{transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"}],nftArray1:[{id1:""}],nftArray2:[{id2:""}],permission1:"active",permission2:"active",transferOpt:[],nfts1:[],nfts2:[],coins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],chinese:{land:"土地",gemfactory:"宝石工厂",feedmill:"饲料厂",cow:"奶牛",bakery:"面包坊",textilemill:"纺织厂",sugarmill:"制糖厂",tailorshop:"裁缝店",sheep:"绵羊",chicken:"鸡",dairyshop:"乳制品店",icecreamshop:"冰淇淋店",fish:"鱼卡",papaya:"木瓜",papayachip:"木瓜碎片",root:"ROOT"},fee:.25,feeAccount:"davidaccount",payNum1:"0.2500",payNum2:"0.2500",payContract1:"tethertether-USDT",payContract2:"tethertether-USDT",payCoins:[{contract:"tethertether",sym:"USDT",decimal:4,name:"泰达",price:1,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tethertether-usdt.png"},{contract:"eosio.token",sym:"EOS",decimal:4,name:"柚子",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/eosio.token-eos.svg"},{contract:"dfsfarmitems",sym:"DCASH",decimal:4,name:"绿钞",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/dfsfarmitems-dcash.png"},{contract:"minedfstoken",sym:"DFS",decimal:4,name:"大丰收",price:0,img:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/minedfstoken-dfs.png"}],record:{accounts:[],perms:[],contracts:[]},del:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),{},{memo1:function(){var t=this,e="";return this.loading1||this.nftArray1.forEach((function(n){if(""!==n.id1){var r=t.nfts1.filter((function(t){return t.id==n.id1}));e+=n.id1+"-"+r[0].name+("null"==r[0].level?"":"-"+r[0].level+"级")+";"}})),""!=e&&(e=e.slice(0,e.length-1)),e},memo2:function(){var t=this,e="";return this.loading2||this.nftArray2.forEach((function(n){if(""!==n.id2){var r=t.nfts2.filter((function(t){return t.id==n.id2}));e+=n.id2+"-"+r[0].name+("null"==r[0].level?"":"-"+r[0].level+"级")+";"}})),""!=e&&(e=e.slice(0,e.length-1)),e}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){this.add=!1;var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCloseDialog:function(){this.add?this.$emit("add",this.transferOpt):this.$emit("close")},handleCancel:function(){this.add=!1,this.dialogVisible=!1},handleConfirm:function(){var t=this;if(this.handleCheckInput()&&this.handleCheckFee()){if(this.transferOpt=[],this.nftArray1.forEach((function(e){if(""!=e.id1){var n={},r=t.nfts1.filter((function(t){return t.id==e.id1}));n.from=t.fromAccount1,n.to=t.toAccount1,n.assetid=parseInt(e.id1),n.memo=e.id1+"-"+r[0].name+("null"==r[0].level?"":"-"+r[0].level+"级"),t.transferOpt.push({action:"dfsnftassets:transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})}})),this.transferArray1.forEach((function(e){if(""!=e.transferNum1.trim()&&""!=e.transferSym1.trim()){var n={};n.from=t.fromAccount1,n.to=t.toAccount1,n.quantity=parseFloat(e.transferNum1).toFixed(e.decimal1)+" "+e.transferSym1,n.memo="补差价",t.transferOpt.push({action:e.contract1.split("-")[0]+":transfer",perm:t.fromAccount1+"@"+t.permission1,param:n,fee:!1})}})),this.nftArray2.forEach((function(e){if(""!=e.id2){var n={},r=t.nfts2.filter((function(t){return t.id==e.id2}));n.from=t.fromAccount2,n.to=t.toAccount2,n.assetid=parseInt(e.id2),n.memo=e.id2+"-"+r[0].name+("null"==r[0].level?"":"-"+r[0].level+"级"),t.transferOpt.push({action:"dfsnftassets:transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})}})),this.transferArray2.forEach((function(e){if(""!=e.transferNum2.trim()&&""!=e.transferSym2.trim()){var n={};n.from=t.fromAccount2,n.to=t.toAccount2,n.quantity=parseFloat(e.transferNum2).toFixed(e.decimal2)+" "+e.transferSym2,n.memo="补差价",t.transferOpt.push({action:e.contract2.split("-")[0]+":transfer",perm:t.fromAccount2+"@"+t.permission2,param:n,fee:!1})}})),!this.vip){var e={from:this.fromAccount1,to:this.feeAccount,quantity:this.payNum1+" "+this.payContract1.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract1.split("-")[0]+":transfer",perm:this.fromAccount1+"@"+this.permission1,param:e,fee:!0})}if(!this.vip){var n={from:this.fromAccount2,to:this.feeAccount,quantity:this.payNum2+" "+this.payContract2.split("-")[1],memo:"fee"};this.transferOpt.push({action:this.payContract2.split("-")[0]+":transfer",perm:this.fromAccount2+"@"+this.permission2,param:n,fee:!0})}this.handleAddItem(),this.add=!0,this.dialogVisible=!1}},handleOpenVip:function(){this.$parent.openVipDialog=!0},handleCheckInput:function(){if(""===this.fromAccount1.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.toAccount1.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.fromAccount2.trim())return this.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),!1;if(""===this.toAccount2.trim())return this.$toast({type:"fail",message:"转入账号不能为空",getContainer:"#NftDialog"}),!1;if((""===this.transferArray1[0].transferNum1.trim()||""===this.transferArray1[0].transferSym1.trim())&&""==this.nftArray1[0].id1)return this.$toast({type:"fail",message:"NFT编号不能为空",getContainer:"#NftDialog"}),!1;if((""===this.transferArray2[0].transferNum2.trim()||""===this.transferArray2[0].transferSym2.trim())&&""==this.nftArray2[0].id2)return this.$toast({type:"fail",message:"NFT编号不能为空",getContainer:"#NftDialog"}),!1;if(""==this.nftArray1[0].id1){if(""===this.transferArray1[0].transferNum1.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#NftDialog"}),!1;if(""===this.transferArray1[0].transferSym1.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#NftDialog"}),!1}if(""==this.nftArray2[0].id2){if(""===this.transferArray2[0].transferNum2.trim())return this.$toast({type:"fail",message:"数量不能为空",getContainer:"#NftDialog"}),!1;if(""===this.transferArray2[0].transferSym2.trim())return this.$toast({type:"fail",message:"代币类型不能为空",getContainer:"#NftDialog"}),!1}return this.fromAccount1.trim()!==this.toAccount1.trim()&&this.fromAccount2.trim()!==this.toAccount2.trim()||(this.$toast({type:"fail",message:"转出与转入账号不能重复",getContainer:"#NftDialog"}),!1)},handleCheckFromAccount1:function(){var t=!1;this.toAccount2=this.fromAccount1;var e,n=Object(a.a)(this.fromAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount1.$refs.input.classList.add("border-danger"),this.$refs.toAccount2.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCheckFromAccount2:function(){var t=!1;this.toAccount1=this.fromAccount2;var e,n=Object(a.a)(this.fromAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.fromAccount2.$refs.input.classList.add("border-danger"),this.$refs.toAccount1.$refs.input.classList.add("border-danger")):(this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount1:function(){var t=!1;this.fromAccount2=this.toAccount1;var e,n=Object(a.a)(this.toAccount1);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount1.$refs.input.classList.add("border-danger"),this.$refs.fromAccount2.$refs.input.classList.add("border-danger")):(this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin2()},handleCheckToAccount2:function(){var t=!1;this.fromAccount1=this.toAccount2;var e,n=Object(a.a)(this.toAccount2);try{for(n.s();!(e=n.n()).done;){var r=e.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(t=!0)}}catch(t){n.e(t)}finally{n.f()}t?(this.$refs.toAccount2.$refs.input.classList.add("border-danger"),this.$refs.fromAccount1.$refs.input.classList.add("border-danger")):(this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger")),this.handleChangePayCoin1()},handleCommand:function(t){var e=this;if("fromAccount1"==t)this.fromAccount1=this.account.name,this.toAccount2=this.account.name,this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("toAccount1"==t)this.toAccount1=this.account.name,this.fromAccount2=this.account.name,this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("active1"==t||"owner1"==t)this.permission1=t.slice(0,t.length-1);else if("fromAccount2"==t)this.fromAccount2=this.account.name,this.toAccount1=this.account.name,this.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),this.$refs.toAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin2();else if("toAccount2"==t)this.toAccount2=this.account.name,this.fromAccount1=this.account.name,this.$refs.toAccount2.$refs.input.classList.remove("border-danger"),this.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),this.handleChangePayCoin1();else if("active2"==t||"owner2"==t)this.permission2=t.slice(0,t.length-1);else if(t.includes("fromAccount1-")&&!this.del){var n=t.split("-")[1];this.record.accounts.forEach((function(t){t==n&&(e.fromAccount1=n,e.toAccount2=n,e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("fromAccount2-")&&!this.del){var r=t.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.fromAccount2=r,e.toAccount1=r,e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount1-")&&!this.del){var a=t.split("-")[1];this.record.accounts.forEach((function(t){t==a&&(e.toAccount1=a,e.fromAccount2=a,e.$refs.toAccount1.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount2.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin2())}))}else if(t.includes("toAccount2-")&&!this.del){var s=t.split("-")[1];this.record.accounts.forEach((function(t){t==s&&(e.toAccount2=s,e.fromAccount1=s,e.$refs.toAccount2.$refs.input.classList.remove("border-danger"),e.$refs.fromAccount1.$refs.input.classList.remove("border-danger"),e.handleChangePayCoin1())}))}else if(t.includes("perm1-")&&!this.del){var i=t.split("-")[1];this.record.perms.forEach((function(t){t==i&&(e.permission1=i)}))}else if(t.includes("perm2-")&&!this.del){var o=t.split("-")[1];this.record.perms.forEach((function(t){t==o&&(e.permission2=o)}))}this.del=!1},handleChangeCoin1:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray1[t].contract1}));this.transferArray1[t].transferSym1=n[0].sym,this.transferArray1[t].decimal1=n[0].decimal,this.transferArray1[t].decimalTip1=(0).toFixed(n[0].decimal),this.handleGetNum1(t)},handleChangeCoin2:function(t){var e=this,n=this.coins.filter((function(n){return n.contract+"-"+n.sym==e.transferArray2[t].contract2}));this.transferArray2[t].transferSym2=n[0].sym,this.transferArray2[t].decimal2=n[0].decimal,this.transferArray2[t].decimalTip2=(0).toFixed(n[0].decimal),this.handleGetNum2(t)},handleGetNum1:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray1[t].contract1.split("-")[0],a=e.transferArray1[t].contract1.split("-")[1],i=e.fromAccount1,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray1[t].coinNum1=e.transferArray1[t].decimalTip1,n.abrupt("return");case 18:e.transferArray1[t].coinNum1=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleGetNum2:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var r,a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transferArray2[t].contract2.split("-")[0],a=e.transferArray2[t].contract2.split("-")[1],i=e.fromAccount2,o={code:r,scope:i,table:"accounts",lower_bound:a,upper_bound:a,limit:100,json:!0},n.next=8,_.getTableRows(o);case 8:if(c=n.sent,l=Object(s.a)(c,2),u=l[0],d=l[1],!u){n.next=14;break}return n.abrupt("return");case 14:if((p=d.rows||[]).length){n.next=18;break}return e.transferArray2[t].coinNum2=e.transferArray2[t].decimalTip2,n.abrupt("return");case 18:e.transferArray2[t].coinNum2=p[0].balance;case 19:case"end":return n.stop()}}),n)})))()},handleAddTransfer1:function(){this.transferArray1.push({transferNum1:"",transferSym1:"",contract1:"请选择",decimal1:4,decimalTip1:"0.0000",coinNum1:"null"})},handleAddTransfer2:function(){this.transferArray2.push({transferNum2:"",transferSym2:"",contract2:"请选择",decimal2:4,decimalTip2:"0.0000",coinNum2:"null"})},handleDeleteTransfer1:function(t){this.transferArray1.length>1?this.transferArray1.splice(t,1):(this.transferArray1[t].transferNum1="",this.transferArray1[t].transferSym1="",this.transferArray1[t].contract1="请选择",this.transferArray1[t].decimal1=4,this.transferArray1[t].decimalTip1="0.0000",this.transferArray1[t].coinNum1="null")},handleDeleteTransfer2:function(t){this.transferArray2.length>1?this.transferArray2.splice(t,1):(this.transferArray2[t].transferNum2="",this.transferArray2[t].transferSym2="",this.transferArray2[t].contract2="请选择",this.transferArray2[t].decimal2=4,this.transferArray2[t].decimalTip2="0.0000",this.transferArray2[t].coinNum2="null")},handleNftQuery1:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,p,f,m,h,g,b,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.fromAccount1.trim()){e.next=3;break}return t.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),e.abrupt("return");case 3:t.nfts1=[{id:"",collection:"",name:"无",level:"null"}],n=!0,r="",a=[],t.loading1=!0;case 8:if(!n){e.next=27;break}return i={code:"dfsnftassets",scope:t.fromAccount1+" ",table:"assets",limit:1e3,json:!0,lower_bound:r},e.next=12,_.getTableRows(i);case 12:if(o=e.sent,c=Object(s.a)(o,2),l=c[0],u=c[1],!l){e.next=21;break}return t.$toast({type:"fail",message:"获取账号NFT失败",getContainer:"#NftDialog"}),t.logMsg.push("获取账号NFT失败"),t.loading1=!1,e.abrupt("return");case 21:d=u.rows||[],n=u.more,r=u.next_key,a.push.apply(a,Object(K.a)(d)),e.next=8;break;case 27:a.forEach((function(e){t.nfts1.push({id:e.id,collection:e.collection,name:t.chinese[e.collection],level:"null"})})),t.loading1=!1,p=0;case 30:if(!(p<t.nfts1.length)){e.next=47;break}return f={code:"dfsmetaverse",scope:t.nfts1[p].id,table:"stats",json:!0},e.next=34,_.getTableRows(f);case 34:if(m=e.sent,h=Object(s.a)(m,2),g=h[0],b=h[1],!g){e.next=40;break}return e.abrupt("continue",44);case 40:if((v=b.rows||[]).length){e.next=43;break}return e.abrupt("continue",44);case 43:t.nfts1[p].level=v[0].val;case 44:p++,e.next=30;break;case 47:case"end":return e.stop()}}),e)})))()},handleNftQuery2:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,p,f,m,h,g,b,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.fromAccount2.trim()){e.next=3;break}return t.$toast({type:"fail",message:"转出账号不能为空",getContainer:"#NftDialog"}),e.abrupt("return");case 3:t.nfts2=[{id:"",collection:"",name:"无",level:"null"}],n=!0,r="",a=[],t.loading2=!0;case 8:if(!n){e.next=27;break}return i={code:"dfsnftassets",scope:t.fromAccount2+" ",table:"assets",limit:1e3,json:!0,lower_bound:r},e.next=12,_.getTableRows(i);case 12:if(o=e.sent,c=Object(s.a)(o,2),l=c[0],u=c[1],!l){e.next=21;break}return t.$toast({type:"fail",message:"获取账号NFT失败",getContainer:"#NftDialog"}),t.logMsg.push("获取账号NFT失败"),t.loading2=!1,e.abrupt("return");case 21:d=u.rows||[],n=u.more,r=u.next_key,a.push.apply(a,Object(K.a)(d)),e.next=8;break;case 27:a.forEach((function(e){t.nfts2.push({id:e.id,collection:e.collection,name:t.chinese[e.collection],level:"null"})})),t.loading2=!1,p=0;case 30:if(!(p<t.nfts2.length)){e.next=47;break}return f={code:"dfsmetaverse",scope:t.nfts2[p].id,table:"stats",json:!0},e.next=34,_.getTableRows(f);case 34:if(m=e.sent,h=Object(s.a)(m,2),g=h[0],b=h[1],!g){e.next=40;break}return e.abrupt("continue",44);case 40:if((v=b.rows||[]).length){e.next=43;break}return e.abrupt("continue",44);case 43:t.nfts2[p].level=v[0].val;case 44:p++,e.next=30;break;case 47:case"end":return e.stop()}}),e)})))()},handleAddNft1:function(){this.nftArray1.push({id1:""})},handleAddNft2:function(){this.nftArray2.push({id2:""})},handleDeleteNft1:function(t){this.nftArray1.length>1?this.nftArray1.splice(t,1):this.nftArray1[t].id1=""},handleDeleteNft2:function(t){this.nftArray2.length>1?this.nftArray2.splice(t,1):this.nftArray2[t].id2=""},handleChangePayCoin1:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1}));this.vip?this.payNum1="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#NftDialog"}),this.payContract1="tethertether-USDT",this.payNum1="0.2500"):this.payNum1=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleChangePayCoin2:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2}));this.vip?this.payNum2="0.0000":0==e[0].price?(this.$toast({type:"fail",message:"获取价格失败，请刷新",getContainer:"#NftDialog"}),this.payContract2="tethertether-USDT",this.payNum2="0.2500"):this.payNum2=(1/e[0].price*this.fee).toFixed(e[0].decimal)},handleGetPrice:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,r=Object(s.a)(n,2),a=r[0],i=r[1],!a){e.next=9;break}return t.$toast({type:"fail",message:"获取价格失败",getContainer:"#NftDialog"}),e.abrupt("return");case 9:if((o=i.rows||[]).length){e.next=13;break}return t.$toast({type:"fail",message:"获取价格为空",getContainer:"#NftDialog"}),e.abrupt("return");case 13:o.forEach((function(e){17===e.mid?t.payCoins.forEach((function(t){"eosio.token"==t.contract&&"EOS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):451===e.mid?t.payCoins.forEach((function(t){"minedfstoken"==t.contract&&"DFS"==t.sym&&(t.price=e.reserve1.split(" ")[0]/e.reserve0.split(" ")[0])})):1697===e.mid&&t.payCoins.forEach((function(t){"dfsfarmitems"==t.contract&&"DCASH"==t.sym&&(t.price=e.reserve0.split(" ")[0]/e.reserve1.split(" ")[0])}))}));case 14:case"end":return e.stop()}}),e)})))()},handleCheckFee:function(){var t=this,e=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract1})),n=this.payCoins.filter((function(e){return e.contract+"-"+e.sym==t.payContract2})),r=(1/e[0].price*this.fee).toFixed(e[0].decimal),a=(1/n[0].price*this.fee).toFixed(n[0].decimal);return this.vip&&(r=0),this.vip&&(a=0),r==this.payNum1&&a==this.payNum2||(this.$toast({type:"fail",message:"手续费校验失败",getContainer:"#NftDialog"}),!1)},handleFeeInfo:function(){this.$dialog.alert({title:"手续费",getContainer:"#NftDialog",message:"每笔交易固定收取0.5USDT(100*0.005)等价值的代币作为手续费，跟NFT交易数量和价格无关，所以每次交易NFT数量越多，价格越高就越划算；手续费由双方共同承担，即每个账号在交易外单独收取0.25USDT等价值的手续费；VIP会员免手续费。"})},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){this.record.accounts.includes(this.fromAccount1)||this.fromAccount1==this.account.name||(this.record.accounts.push(this.fromAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.fromAccount2)||this.fromAccount2==this.account.name||(this.record.accounts.push(this.fromAccount2),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount1)||this.toAccount1==this.account.name||(this.record.accounts.push(this.toAccount1),this.record.accounts.sort()),this.record.accounts.includes(this.toAccount2)||this.toAccount2==this.account.name||(this.record.accounts.push(this.toAccount2),this.record.accounts.sort()),this.record.perms.includes(this.permission1)||"active"==this.permission1||"owner"==this.permission1||(this.record.perms.push(this.permission1),this.record.perms.sort()),this.record.perms.includes(this.permission2)||"active"==this.permission2||"owner"==this.permission2||(this.record.perms.push(this.permission2),this.record.perms.sort()),localStorage.setItem("record",JSON.stringify(this.record))}},mounted:function(){this.handleGetPrice()}},M=(n("12a6"),Object(O.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{id:"NftDialog",visible:t.dialogVisible,top:"1vh",width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[r("template",{slot:"title"},[r("div",{staticClass:"flexcc"},[r("div",[t._v("添加NFT交换操作")]),t.vip?r("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:t.handleOpenVip}}):r("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:t.handleOpenVip}})])]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount1},model:{value:t.fromAccount1,callback:function(e){t.fromAccount1=e},expression:"fromAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission1,callback:function(e){t.permission1=e},expression:"permission1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active1"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner1"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount1",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount1},model:{value:t.toAccount1,callback:function(e){t.toAccount1=e},expression:"toAccount1"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount1"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount1-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("NFT编号")]),r("div",{staticClass:"flex-grow-1"},t._l(t.nftArray1,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("el-select",{staticClass:"flex-grow-1",model:{value:e.id1,callback:function(n){t.$set(e,"id1",n)},expression:"item.id1"}},t._l(t.nfts1,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{value:e.id}},[t._v(" "+t._s("#"+e.id+"-"+e.name+("null"==e.level?"":"-"+e.level+"级"))+" ")])})),1),r("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading1},on:{click:t.handleNftQuery1}},[t._v("查 询")]),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteNft1(n)}}})],1)})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddNft1}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddNft1}})],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("补差价")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray1,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum1,placement:"bottom-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip1},model:{value:e.transferNum1,callback:function(n){t.$set(e,"transferNum1",n)},expression:"item.transferNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin1(n)}},model:{value:e.contract1,callback:function(n){t.$set(e,"contract1",n)},expression:"item.contract1"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer1(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer1}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer1}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum1,callback:function(e){t.payNum1=e},expression:"payNum1"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin1},model:{value:t.payContract1,callback:function(e){t.payContract1=e},expression:"payContract1"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-4"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo1,callback:function(e){t.memo1=e},expression:"memo1"}})],1)]),t._l(t.nftArray1,(function(e,n){return r("div",{key:"nftArray1"+n,staticClass:"fw-bold"},[""!=e.id1?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),r("i",{staticClass:"el-icon-right rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),r("span",{},[t._v(" "+t._s(e.id1))])]):t._e()])})),t._l(t.transferArray1,(function(e,n){return r("div",{key:"transferArray1"+n,staticClass:"fw-bold"},[""!=e.transferNum1?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.fromAccount1))]),r("i",{staticClass:"el-icon-right rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.toAccount1))]),r("span",{},[t._v(" "+t._s(e.transferNum1)+" "+t._s(e.transferSym1))])]):t._e()])})),r("el-divider",{staticClass:"rmy-3 h-2"},[r("i",{staticClass:"el-icon-refresh"})]),t._l(t.nftArray2,(function(e,n){return r("div",{key:"nftArray2"+n,staticClass:"fw-bold"},[""!=e.id2?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),r("i",{staticClass:"el-icon-back rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),r("span",{},[t._v(" "+t._s(e.id2))])]):t._e()])})),t._l(t.transferArray2,(function(e,n){return r("div",{key:"transferArray2"+n,staticClass:"fw-bold"},[""!=e.transferNum2?r("div",[r("span",{staticClass:"color-success"},[t._v(t._s(t.toAccount2))]),r("i",{staticClass:"el-icon-back rmx-1"}),r("span",{staticClass:"color-danger"},[t._v(t._s(t.fromAccount2))]),r("span",{},[t._v(" "+t._s(e.transferNum2)+" "+t._s(e.transferSym2))])]):t._e()])})),r("div",{staticClass:"rmb-4"}),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转出账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"fromAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckFromAccount2},model:{value:t.fromAccount2,callback:function(e){t.fromAccount2=e},expression:"fromAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"fromAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"fromAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:t.permission2,callback:function(e){t.permission2=e},expression:"permission2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active2"}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner2"}},[t._v("owner")]),t._l(t.record.perms,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"perm2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("转入账号")]),r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"toAccount2",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckToAccount2},model:{value:t.toAccount2,callback:function(e){t.toAccount2=e},expression:"toAccount2"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"toAccount2"}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,n){return r("el-dropdown-item",{key:n,staticClass:"flexbc",attrs:{command:"toAccount2-"+e}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+n)}}})])}))],2)],1)],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("NFT编号")]),r("div",{staticClass:"flex-grow-1"},t._l(t.nftArray2,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("el-select",{staticClass:"flex-grow-1",model:{value:e.id2,callback:function(n){t.$set(e,"id2",n)},expression:"item.id2"}},t._l(t.nfts2,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{value:e.id}},[t._v(" "+t._s("#"+e.id+"-"+e.name+("null"==e.level?"":"-"+e.level+"级"))+" ")])})),1),r("el-button",{attrs:{type:"primary",size:"medium",plain:"",loading:t.loading2},on:{click:t.handleNftQuery2}},[t._v("查 询")]),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteNft2(n)}}})],1)})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddNft2}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddNft2}})],1),r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("补差价")]),r("div",{staticClass:"flex-grow-1"},t._l(t.transferArray2,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-tooltip",{attrs:{effect:"dark",content:e.coinNum2,placement:"bottom-start"}},[r("el-input",{attrs:{type:"number",placeholder:e.decimalTip2},model:{value:e.transferNum2,callback:function(n){t.$set(e,"transferNum2",n)},expression:"item.transferNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:function(e){return t.handleChangeCoin2(n)}},model:{value:e.contract2,callback:function(n){t.$set(e,"contract2",n)},expression:"item.contract2"}},t._l(t.coins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteTransfer2(n)}}})])})),0)]),r("div",{staticClass:"d-flex justify-content-end rmb-3"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.handleAddTransfer2}},[r("i",{staticClass:"el-icon-plus"})]),r("i",{staticClass:"el-icon-plus flexcc fs-6 rml-1 hover-pointer",on:{click:t.handleAddTransfer2}})],1),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("手续费")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-start"},[r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{type:"number",disabled:""},model:{value:t.payNum2,callback:function(e){t.payNum2=e},expression:"payNum2"}},[r("template",{slot:"append"},[r("el-select",{staticClass:"w-100",on:{change:t.handleChangePayCoin2},model:{value:t.payContract2,callback:function(e){t.payContract2=e},expression:"payContract2"}},t._l(t.payCoins,(function(e,n){return r("el-option",{key:n,staticClass:"flexsc",attrs:{label:e.sym,value:e.contract+"-"+e.sym}},[r("img",{staticClass:"rmr-2",attrs:{width:"25",src:e.img}}),t._v(t._s(e.sym)+" ")])})),1)],1)],2)],1),r("van-icon",{staticClass:"flexcc fs-6 rml-1 hover-pointer",attrs:{name:"info-o"},on:{click:t.handleFeeInfo}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("备 注")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{maxlength:"12",placeholder:"可不填"},model:{value:t.memo2,callback:function(e){t.memo2=e},expression:"memo2"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleCancel}},[t._v("取消")]),r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])],2)}),[],!1,null,"39c596eb",null).exports),Y={name:"VipDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),{},{dbc:function(){return parseFloat(this.$store.state.app.vip.dbc).toFixed(4)},pdd:function(){return parseFloat(this.$store.state.app.vip.pdd).toFixed(4)}}),watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},methods:{handleOpenDialog:function(){},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){this.dialogVisible=!1},handleUpdate:function(){this.account&&this.account.name?(this.$emit("update"),this.$toast({type:"success",message:"刷新已发出",getContainer:"#VipDialog"})):this.$toast({type:"fail",message:"未登陆",getContainer:"#VipDialog"})}},mounted:function(){}},H=(n("e011"),Object(O.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"VipDialog",title:"VIP",visible:t.dialogVisible,width:"95%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"rmb-2 fs-medium"},[t._v("VIP权益")]),n("div",{staticClass:"text-secondary"},[t._v("1. 多签双向免手续费")]),n("div",{staticClass:"text-secondary"},[t._v("2. 小镇自动化工具免手续费")]),n("div",{staticClass:"text-secondary"},[t._v("3. 小镇资产转移免手续费")]),n("div",{staticClass:"text-secondary"},[t._v("4. 未来若干个薛定谔的功能")]),n("div",{staticClass:"rmy-2 fs-medium"},[t._v("如何成为VIP")]),n("div",{staticClass:"text-secondary"},[t._v("只要账号里有DBC或PDD(包括做市)，并且它们的数量加起来大于1，即可成为VIP会员; 猪弟吹过的牛逼，我帮他实现了。")]),n("div",{staticClass:"rmy-2 fs-medium"},[t._v("当前拥用数量")]),n("div",{staticClass:"text-secondary"},[t._v("DBC: "+t._s(t.dbc)+"， PDD: "+t._s(t.pdd))]),n("van-button",{staticClass:"rmy-3 fs-medium",attrs:{type:"info",block:"",round:""},on:{click:t.handleUpdate}},[t._v("刷 新")])],1)}),[],!1,null,"c2023506",null).exports);n("4c53"),n("5319"),n("a15b"),n("4128");function X(t,e){e||(e=4);var n=isNaN(t)||!t?0:t,r=isNaN(t)||!t?4:e,a=((n=function(t){if(isNaN(t))return t;var e=String(t);return/e/i.test(e)?Number(t).toFixed(18).replace(/\.?0+$/,""):t}(n))+"").split("."),s=a.length>1?a[1]:"";return s.length>r?s=s.substr(0,r):s+=Array(r-s.length+1).join("0"),a[0]+(""==s?"":"."+s)}var Z={name:"RamDialog",components:{},props:{visible:{type:Boolean,default:!1,required:!0}},data:function(){return{dialogVisible:!1,radio:"buy",buyRam:"",sellRam:"",cpu:{available:0,max:0,percentage:0,available_unit:"us",max_unit:"us"},net:{available:0,max:0,percentage:0,available_unit:"B",max_unit:"B"},ram:{available:0,max:0,percentage:0,available_unit:"B",max_unit:"B"},timer:null,eosBal:0,ramPrice:0}},watch:{visible:{handler:function(t,e){this.dialogVisible=t}}},computed:Object(o.a)(Object(o.a)({},Object(c.b)({account:function(t){return t.app.account}})),{},{calcRam:function(){return parseFloat(this.buyRam/this.ramPrice).toFixed(4)},calcEos:function(){return parseFloat(this.sellRam*this.ramPrice).toFixed(4)}}),methods:{handleOpenDialog:function(){this.handleUpdate()},handleCloseDialog:function(){this.$emit("close")},handleCancel:function(){this.dialogVisible=!1},handleConfirm:function(){this.dialogVisible=!1},handleGetRes:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,p,f,m,h,g,b,v,y,x,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=t.account.name)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_.getAccount({account_name:n});case 5:r=e.sent,a=Object(s.a)(r,2),a[0],(i=a[1])&&(o=i.cpu_limit.available,c=i.cpu_limit.max,l=0,u="us",d="us",l=0===c?0:parseInt(o/c*100),o>=1e6?(o=X(o/=1e6,3),u="ms"):o>=1e3?(o=X(o/=1e3,3),u="ms"):u="us",c>=1e6?(c=X(c/=1e6,3),d="ms"):c>=1e3?(c=X(c/=1e3,3),d="ms"):d="us",p=i.net_limit.available,f=i.net_limit.max,m=0,h="B",g="B",m=0===f?0:parseInt(p/f*100),p>=1024e6?(p=X(p/=1024e6,2),h="GB"):p>=1024e3?(p=X(p/=1024e3,2),h="MB"):p>=1024?(p=X(p/=1024,2),h="KB"):h="B",f>=1024e6?(f=X(f/=1024e6,2),g="GB"):f>=1024e3?(f=X(f/=1024e3,2),g="MB"):f>=1024?(f=X(f/=1024,2),g="KB"):g="B",b=i.ram_quota-i.ram_usage,v=i.ram_quota,y=0,x="B",k="B",y=0===v?0:parseInt(b/v*100),b>=1024e6?(b=X(b/=1024e6,2),x="GB"):b>=1024e3?(b=X(b/=1024e3,2),x="MB"):b>=1024?(b=X(b/=1024,2),x="KB"):x="B",v>=1024e6?(v=X(v/=1024e6,2),k="GB"):v>=1024e3?(v=X(v/=1024e3,2),k="MB"):v>=1024?(v=X(v/=1024,2),k="KB"):k="B",t.cpu={available:o,available_unit:u,max:c,max_unit:d,percentage:l},t.net={available:p,available_unit:h,max:f,max_unit:g,percentage:m},t.ram={available:b,available_unit:x,max:v,max_unit:k,percentage:y});case 11:case"end":return e.stop()}}),e)})))()},handleGetEosBal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={code:"eosio.token",scope:t.account.name+" ",table:"accounts",lower_bound:"EOS",upper_bound:"EOS",json:!0},e.next=3,_.getTableRows(n);case 3:if(r=e.sent,a=Object(s.a)(r,2),i=a[0],o=a[1],!i){e.next=9;break}return e.abrupt("return");case 9:if((c=o.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:t.eosBal=c[0].balance;case 13:case"end":return e.stop()}}),e)})))()},handleGetRamPrice:function(){var t=this;u.a.get("https://tbeospre.mytokenpocket.vip/v1/ram_price").then((function(e){200==e.status&&0===e.data.result&&e.data.data&&(t.ramPrice=parseFloat(1024/e.data.data).toFixed(5))}))},handleBuyRam:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput1()){e.next=2;break}return e.abrupt("return");case 2:return n=t.account.name,r=t.account.permissions,a={actions:[{account:"eosio",name:"buyram",authorization:[{actor:n,permission:r}],data:{payer:n,quant:parseFloat(t.buyRam).toFixed(4)+" EOS",receiver:n}}]},e.next=7,_.transact(a);case 7:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=16;break}return t.$toast({type:"fail",message:c.toString(),getContainer:"#RamDialog"}),setTimeout(t.handleUpdate,2e3),console.log(c),e.abrupt("return");case 16:l&&(t.$toast({type:"success",message:"Success",getContainer:"#RamDialog"}),setTimeout(t.handleUpdate,2e3),console.log(l));case 17:case"end":return e.stop()}}),e)})))()},handleSellRam:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput2()){e.next=2;break}return e.abrupt("return");case 2:return n=t.account.name,r=t.account.permissions,a={actions:[{account:"eosio",name:"sellram",authorization:[{actor:n,permission:r}],data:{account:n,bytes:parseInt(1024*t.sellRam)}}]},e.next=7,_.transact(a);case 7:if(i=e.sent,o=Object(s.a)(i,2),c=o[0],l=o[1],!c){e.next=16;break}return t.$toast({type:"fail",message:c.toString(),getContainer:"#RamDialog"}),setTimeout(t.handleUpdate,2e3),console.log(c),e.abrupt("return");case 16:l&&(t.$toast({type:"success",message:"Success",getContainer:"#RamDialog"}),setTimeout(t.handleUpdate,2e3),console.log(l));case 17:case"end":return e.stop()}}),e)})))()},handleCheckInput1:function(){return""===this.buyRam.trim()?(this.$toast({type:"fail",message:"EOS数量不能为空",getContainer:"#RamDialog"}),!1):!(this.buyRam>this.eosBal)||(this.$toast({type:"fail",message:"购买数量超过了账号的余额",getContainer:"#RamDialog"}),!1)},handleCheckInput2:function(){return""===this.sellRam.trim()?(this.$toast({type:"fail",message:"内存值不能为空",getContainer:"#RamDialog"}),!1):!(this.sellRam>this.ram.available)||(this.$toast({type:"fail",message:"卖出内存的值超过了账号的余额",getContainer:"#RamDialog"}),!1)},handleUpdate:function(){this.handleGetRes(),this.handleGetEosBal(),this.handleGetRamPrice()}},mounted:function(){}},tt=(n("523a"),{name:"msig",components:{NodeSet:S,TransferDialog:V,CustomDialog:L,MyProposal:D,OtherProposal:B,QueryProposal:z,SwapDialog:U,TownDialog:G,NftDialog:M,VipDialog:H,RamDialog:Object(O.a)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"RamDialog",title:"内存购买",top:"3vh",visible:t.dialogVisible,width:"90%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpenDialog,close:t.handleCloseDialog}},[n("div",{staticClass:"flexbc fs-extra-small"},[n("div",[t._v("内存")]),n("div",{staticClass:"text-secondary"},[t._v("价格: "+t._s(t.ramPrice)+" EOS/KB")])]),n("el-progress",{staticClass:"rmy-1",attrs:{"show-text":!1,"stroke-width":10,percentage:t.ram.percentage}}),n("div",{staticClass:"flexbc fs-extra-small text-secondary"},[n("div",[t._v("可用: "+t._s(t.ram.available)+" "+t._s(t.ram.available_unit))]),n("div",[t._v("全部: "+t._s(t.ram.max)+" "+t._s(t.ram.max_unit))])]),n("van-radio-group",{staticClass:"flexac rmy-3",model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("van-radio",{attrs:{name:"buy"}},[t._v("购买")]),n("van-radio",{attrs:{name:"sell"}},[t._v("出售")])],1),"buy"==t.radio?n("div",[n("div",{staticClass:"rmb-2"},[t._v("余额: "+t._s(t.eosBal))]),n("el-input",{staticClass:"rmb-2",attrs:{type:"number",placeholder:"输入EOS数量"},model:{value:t.buyRam,callback:function(e){t.buyRam=e},expression:"buyRam"}}),n("div",{staticClass:"text-secondary fs-extra-small"},[t._v("≈ "+t._s(t.calcRam)+" KB")]),n("van-button",{staticClass:"rmt-3",attrs:{type:"info",block:"",round:""},on:{click:t.handleBuyRam}},[t._v("购 买")])],1):t._e(),"sell"==t.radio?n("div",[n("div",{staticClass:"rmb-2"},[t._v("余额: "+t._s(t.ram.available)+" "+t._s(t.ram.available_unit))]),n("el-input",{staticClass:"rmb-2",attrs:{type:"number",placeholder:"输入内存额度(KB)"},model:{value:t.sellRam,callback:function(e){t.sellRam=e},expression:"sellRam"}}),n("div",{staticClass:"text-secondary fs-extra-small"},[t._v("≈ "+t._s(t.calcEos)+" EOS")]),n("van-button",{staticClass:"rmt-3",attrs:{type:"info",block:"",round:""},on:{click:t.handleSellRam}},[t._v("出 售")])],1):t._e()],1)}),[],!1,null,"58d8fa1c",null).exports},data:function(){return{version:"1.3.2",init:!1,logined:!1,failMax503:3,loading:!1,proposer:"",proposalName:"",requested:[{actor:"",permission:""}],timeoutValue:30,timeoutUnit:"minute",timeOptions:[{value:"minute",label:"分"},{value:"hour",label:"时"},{value:"day",label:"天"}],actions:[],openNodeSet:!1,openTransferDialog:!1,openCustomDialog:!1,openSwapDialog:!1,openTownDialog:!1,openNftDialog:!1,openVipDialog:!1,openRamDialog:!1,marketLists:[],record:{accounts:[],perms:[],contracts:[]},del:!1,whiteList:["eosio5211314","poweraccount","eoszeroto1.e","dfsfarmer1.e"],logMsg:[]}},computed:Object(o.a)({},Object(c.b)({account:function(t){return t.app.account},vip:function(t){return t.app.vip.state}})),methods:{handlePushProposal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.handleCheckInput()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.handleAddBinArgs();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return n=[],t.actions.forEach((function(t){n.push({account:t.action.split(":")[0],authorization:[{actor:t.perm.split("@")[0],permission:t.perm.split("@")[1]}],data:t.data,name:t.action.split(":")[1]})})),r="","minute"==t.timeoutUnit?r=p()().add(t.timeoutValue,"minutes").utc().format().slice(0,19):"hour"==t.timeoutUnit?r=p()().add(t.timeoutValue,"hours").utc().format().slice(0,19):"day"==t.timeoutUnit&&(r=p()().add(t.timeoutValue,"days").utc().format().slice(0,19)),a={actions:n,context_free_actions:[],delay_sec:0,expiration:r,max_cpu_usage_ms:0,max_net_usage_words:0,ref_block_num:0,ref_block_prefix:0,transaction_extensions:[]},i=t.account.name,o=t.account.permissions,c={actions:[{account:"eosio.msig",name:"propose",authorization:[{actor:i,permission:o}],data:{proposer:t.proposer,proposal_name:t.proposalName,requested:t.requested,trx:a}}]},e.next=16,_.transact(c);case 16:if(l=e.sent,u=Object(s.a)(l,2),d=u[0],f=u[1],!d){e.next=26;break}return t.$toast({type:"fail",message:d.toString()}),setTimeout(t.$refs.myProposal.handleUpdate,2e3),t.logMsg.unshift(d.toString()),console.log(d),e.abrupt("return");case 26:f&&(t.$toast({type:"success",message:"Success"}),t.handleAddItem(),setTimeout(t.$refs.myProposal.handleUpdate,2e3),console.log(f));case 27:case"end":return e.stop()}}),e)})))()},handleAddBinArgs:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.actions.length)){e.next=20;break}return r={code:t.actions[n].action.split(":")[0],action:t.actions[n].action.split(":")[1],args:t.actions[n].param},e.next=5,_.abiJsonToBin(r);case 5:if(a=e.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],!o){e.next=13;break}return t.$toast({type:"fail",message:"生成binargs失败"}),t.logMsg.unshift(o.toString()),e.abrupt("return",!1);case 13:if(0!=Object.keys(c)){e.next=16;break}return t.$toast({type:"fail",message:"生成binargs信息为空"}),e.abrupt("return",!1);case 16:t.actions[n].data=c.binargs;case 17:n++,e.next=1;break;case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})))()},handleCheckInput:function(){if(""===this.proposer.trim())return this.$toast({type:"fail",message:"提案者不能为空"}),!1;if(""===this.proposalName.trim())return this.$toast({type:"fail",message:"提案名称不能为空"}),!1;if(0===this.actions.length)return this.$toast({type:"fail",message:"操作不能为空"}),!1;for(var t=0;t<this.requested.length;t++){if(""===this.requested[t].actor.trim())return this.$toast({type:"fail",message:"授权账号不能为空"}),!1;if(""===this.requested[t].permission.trim())return this.$toast({type:"fail",message:"授权权限不能为空"}),!1}return!(this.timeoutValue<=0)||(this.$toast({type:"fail",message:"过期时间必须大于0"}),!1)},handleTransferAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],r=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=r):e.handleCheckAuth(n,r)&&e.requested.push({actor:n,permission:r})})),this.openTransferDialog=!1,this.handleUpdateRecord()},handleSwapAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],r=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=r):e.handleCheckAuth(n,r)&&e.requested.push({actor:n,permission:r})})),this.openSwapDialog=!1,this.handleUpdateRecord()},handleTownAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],r=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=r):e.handleCheckAuth(n,r)&&e.requested.push({actor:n,permission:r})})),this.openTownDialog=!1,this.handleUpdateRecord()},handleNftAdd:function(t){var e=this;t.forEach((function(t){e.actions.push(t);var n=t.perm.split("@")[0],r=t.perm.split("@")[1];""==e.requested[0].actor&&""==e.requested[0].permission?(e.requested[0].actor=n,e.requested[0].permission=r):e.handleCheckAuth(n,r)&&e.requested.push({actor:n,permission:r})})),this.openNftDialog=!1,this.handleUpdateRecord()},handleCustomAdd:function(t){this.actions.push(t);var e=t.perm.split("@")[0],n=t.perm.split("@")[1];""==this.requested[0].actor&&""==this.requested[0].permission?(this.requested[0].actor=e,this.requested[0].permission=n):this.handleCheckAuth(e,n)&&this.requested.push({actor:e,permission:n}),this.openCustomDialog=!1,this.handleUpdateRecord()},handleClearAll:function(){this.actions=[],this.requested=[{actor:"",permission:""}]},handleCheckAuth:function(t,e){for(var n=0;n<this.requested.length;n++)if(this.requested[n].actor==t&&this.requested[n].permission==e)return!1;return!0},handleCheckAccount:function(t){var e,n=!1,r=Object(a.a)(this.requested[t].actor);try{for(r.s();!(e=r.n()).done;){var s=e.value;"a"<=s&&s<="z"||"."==s||"1"<=s&&s<="5"||(n=!0)}}catch(t){r.e(t)}finally{r.f()}n?this.$refs["actor-"+t][0].$refs.input.classList.add("border-danger"):this.$refs["actor-"+t][0].$refs.input.classList.remove("border-danger")},handleCheckProposal:function(){var t,e=!1,n=Object(a.a)(this.proposalName);try{for(n.s();!(t=n.n()).done;){var r=t.value;"a"<=r&&r<="z"||"."==r||"1"<=r&&r<="5"||(e=!0)}}catch(t){n.e(t)}finally{n.f()}e?this.$refs.proposal.$refs.input.classList.add("border-danger"):this.$refs.proposal.$refs.input.classList.remove("border-danger")},handleDeleteAction:function(t){this.actions[t].fee?this.$toast({type:"fail",message:"手续费无法单独删除，只能清除全部操作"}):(this.actions.splice(t,1),0==this.actions.length&&(this.requested=[{actor:"",permission:""}]))},handleDeletePerm:function(t){this.requested.length>1?this.requested.splice(t,1):(this.requested[t].permission="",this.requested[t].actor="")},handleAddAccount:function(){this.requested.push({actor:"",permission:""})},handleCommand:function(t){var e=this,n=t.split("-");if("actor"==n[0])this.requested[n[1]].actor=this.account.name,this.$refs[t][0].$refs.input.classList.remove("border-danger");else if("active"==n[0])this.requested[n[1]].permission=n[0];else if("owner"==n[0])this.requested[n[1]].permission=n[0];else if(t.includes("account-")&&!this.del){var r=t.split("_")[0].split("-")[1],a=t.split("_")[1],s=a.split("-")[1];this.record.accounts.forEach((function(t){t==r&&(e.requested[s].actor=r,e.$refs[a][0].$refs.input.classList.remove("border-danger"))}))}else if(t.includes("perm-")&&!this.del){var i=t.split("_")[0].split("-")[1],o=t.split("_")[1];this.record.perms.forEach((function(t){t==i&&(e.requested[o].permission=i)}))}this.del=!1},handlePowerUp:function(){var t=this;this.loading=!0,u.a.get("https://api.eospowerup.io/freePowerup/"+this.account.name).then((function(e){t.loading=!1,"success"==e.data.result.status?t.$dialog.alert({title:"成功",message:"每个账号每天可以免费PowerUp 2次，重置时间为：\n"+p()(e.data.rateLimit.resetTime).format("YYYY-MM-DD HH:mm:ss")}):"reachedFreeQuota"==e.data.result.status?t.$dialog.alert({title:"失败",message:"账号已PowerUp 2次，重置时间为：\n"+p()(e.data.rateLimit.resetTime).format("YYYY-MM-DD HH:mm:ss")}):t.$dialog.alert({title:"失败",message:e.data.result.status})}),(function(e){t.loading=!1,t.$dialog.alert({title:"失败",message:e})}))},handleLogin:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.init){e.next=2;break}return e.abrupt("return");case 2:return t.init=!0,e.next=5,_.init("Msig");case 5:n=e.sent,r=Object(s.a)(n,2),a=r[0],r[1],a?(t.$toast({type:"fail",message:a.toString()}),t.logMsg.unshift(a.toString())):(t.logined=!0,t.proposer=t.account.name,t.handleSetVip()),t.init=!1;case 11:case"end":return e.stop()}}),e)})))()},handleSetVip:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleGetPrice();case 2:return e.next=4,t.handleGetLiqsBal();case 4:return n=e.sent,e.next=7,t.handleGetDbcPddBal();case 7:r=e.sent,a=n.sumDbc+r.sumDbc,s=n.sumPdd+r.sumPdd,(i=a+s)>=1?t.$store.dispatch("setVip",{state:!0,dbc:a,pdd:s,sum:i}):t.$store.dispatch("setVip",{state:!1,dbc:a,pdd:s,sum:i}),t.whiteList.includes(t.account.name)&&t.$store.dispatch("setVip",{state:!0,dbc:a,pdd:s,sum:i});case 13:case"end":return e.stop()}}),e)})))()},handleGetLiqsBal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,p,f,m,h,g,b,v,y,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=2;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 2:return n=t.account.name,r={code:"defislogsone",scope:"".concat(n),table:"liqs2",json:!0,limit:100},e.next=6,_.getTableRows(r);case 6:if(a=e.sent,i=Object(s.a)(a,2),o=i[0],c=i[1],!o&&c.rows.length){e.next=12;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 12:for(o&&t.logMsg.unshift(o.toString()),l=[],u=[],c.rows.forEach((function(t){var e=t.bal0.split(" ")[0],n=t.bal0.split(" ")[1],r=t.bal1.split(" ")[0],a=t.bal1.split(" ")[1];"DBC"===n?l.push({mid:t.mid,val:e}):"DBC"===a&&l.push({mid:t.mid,val:r}),"PDD"===n?u.push({mid:t.mid,val:e}):"PDD"===a&&u.push({mid:t.mid,val:r})})),d=[],p=[],f=function(e){var n=t.marketLists.find((function(t){return t.mid===l[e].mid}));"dbctokenmain"!==n.contract0&&"dbctokenmain"!==n.contract1||d.push(l[e])},m=0;m<l.length;m++)f(m);for(h=function(e){var n=t.marketLists.find((function(t){return t.mid===u[e].mid}));"pddtokenmain"!==n.contract0&&"pddtokenmain"!==n.contract1||p.push(u[e])},g=0;g<u.length;g++)h(g);if(b=0,v=0,0!==d.length||0!==p.length){for(y=0;y<d.length;y++)b+=Number(d[y].val);for(x=0;x<p.length;x++)v+=Number(p[x].val)}return e.abrupt("return",{sumDbc:b,sumPdd:v});case 26:case"end":return e.stop()}}),e)})))()},handleGetDbcPddBal:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=2;break}return e.abrupt("return",{sumDbc:0,sumPdd:0});case 2:return n=0,r=0,a=t.account.name,i={code:"dbctokenmain",scope:"".concat(a),table:"accounts",json:!0,limit:100},o={code:"pddtokenmain",scope:"".concat(a),table:"accounts",json:!0,limit:100},e.next=9,_.getTableRows(i);case 9:return c=e.sent,l=Object(s.a)(c,2),u=l[0],(d=l[1]).rows.length&&(n+=Number(d.rows[0].balance.split(" ")[0])),u&&t.logMsg.unshift(u.toString()),e.next=17,_.getTableRows(o);case 17:return p=e.sent,f=Object(s.a)(p,2),u=f[0],(d=f[1]).rows.length&&(r+=Number(d.rows[0].balance.split(" ")[0])),u&&t.logMsg.unshift(u.toString()),e.abrupt("return",{sumDbc:n,sumPdd:r});case 24:case"end":return e.stop()}}),e)})))()},handleGetPrice:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_markets();case 2:if(n=e.sent,r=Object(s.a)(n,2),a=r[0],i=r[1],!a){e.next=10;break}return t.$toast({type:"fail",message:"获取价格失败"}),t.logMsg.unshift(a.toString()),e.abrupt("return");case 10:if((o=i.rows||[]).length){e.next=14;break}return t.$toast({type:"fail",message:"获取价格为空"}),e.abrupt("return");case 14:t.marketLists=o;case 15:case"end":return e.stop()}}),e)})))()},handleDeleteItem:function(t){var e=t.split("-")[0],n=t.split("-")[1];"accounts"==e?this.record.accounts.splice(n,1):"perms"==e?this.record.perms.splice(n,1):"contracts"==e&&this.record.contracts.splice(n,1),localStorage.setItem("record",JSON.stringify(this.record)),this.del=!0},handleAddItem:function(){var t=this;this.requested.forEach((function(e){t.record.accounts.includes(e.actor)||e.actor==t.account.name||t.record.accounts.push(e.actor),t.record.perms.includes(e.permission)||"active"==e.permission||"owner"==e.permission||t.record.perms.push(e.permission)})),this.record.accounts.sort(),this.record.perms.sort(),localStorage.setItem("record",JSON.stringify(this.record))},handleUpdateRecord:function(){var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t)},handleCopy:function(){var t=this,e=new m.a(".copy");e.on("success",(function(e){t.$toast({type:"success",message:"复制成功"})})),e.on("error",(function(e){t.$toast({type:"fail",message:"复制失败"})}))}},mounted:function(){this.$store.dispatch("setFreeCpu",!1);var t=JSON.parse(localStorage.getItem("record"));null!==t&&(this.record=t),this.handleLogin(),this.handleCopy()}}),et=(n("5c0b"),Object(O.a)(tt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main rpx-2"},[r("el-card",[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[t.logined?r("div",[t._v("账号："+t._s(t.account.name))]):r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleLogin}},[t._v("登 陆")]),t.logined?r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],staticClass:"rml-3",attrs:{type:"text"},on:{click:function(e){t.openRamDialog=!0}}},[t._v("内存购买")]),r("el-button",{attrs:{type:"text"},on:{click:function(e){t.openNodeSet=!0}}},[t._v("节点设置")])],1):r("div",[r("el-button",{staticClass:"rml-3",attrs:{type:"text"},on:{click:function(e){t.openNodeSet=!0}}},[t._v("节点设置")])],1)],1),r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",{staticClass:"flexsc"},[t.vip?r("img",{staticClass:"w-25",attrs:{src:n("41d3")},on:{click:function(e){t.openVipDialog=!0}}}):r("img",{staticClass:"w-25",attrs:{src:n("3c3d")},on:{click:function(e){t.openVipDialog=!0}}}),r("div",{staticClass:"rml-3"},[t._v(t._s(t.version))])]),r("div",{staticClass:"flexec"},[t.loading?r("div",[r("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}})],1):r("div",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],staticClass:"rml-3 rpy-1",attrs:{type:"text"},on:{click:t.handlePowerUp}},[t._v("PowerUp")])],1)])])]),r("el-card",{staticClass:"rmt-2 fs-base"},[r("MyProposal",{ref:"myProposal",attrs:{logined:t.logined}})],1),r("el-card",{staticClass:"rmt-2 fs-base"},[r("OtherProposal",{attrs:{logined:t.logined}})],1),r("el-card",{staticClass:"rmt-2 fs-base"},[r("QueryProposal")],1),r("el-card",{staticClass:"rmt-2 rmb-2 fs-base"},[r("div",{staticClass:"fs-medium hardline"},[t._v("新建多签提案")]),r("el-divider"),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("提案者")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{attrs:{readonly:""},model:{value:t.proposer,callback:function(e){t.proposer=e},expression:"proposer"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("提案名称")]),r("div",{staticClass:"flex-grow-1"},[r("el-input",{ref:"proposal",attrs:{maxlength:"12",placeholder:"1-12位，仅包含a-z.1-5的字符"},on:{input:t.handleCheckProposal},model:{value:t.proposalName,callback:function(e){t.proposalName=e},expression:"proposalName"}})],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("操作")]),r("div",{staticClass:"flex-grow-1"},[t._l(t.actions,(function(e,n){return r("div",{key:n,staticClass:"rmb-2 d-flex justify-content-start align-items-center"},[r("div",{staticClass:"fs-small rp-2 border-radius bg-info-lighter flex-grow-1"},[r("div",[t._v("操作："+t._s(e.action))]),r("div",[t._v("权限："+t._s(e.perm))]),r("div",[t._v("参数："+t._s(e.param))])]),r("div",[r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeleteAction(n)}}})])])})),r("div",[r("div",[r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openCustomDialog=!0}}},[t._v("+自定义")]),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openTransferDialog=!0}}},[t._v("+转账")]),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openSwapDialog=!0}}},[t._v("+交换")])],1),r("div",{staticClass:"rmt-2"},[r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openTownDialog=!0}}},[t._v("+小镇")]),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.openNftDialog=!0}}},[t._v("+NFT")]),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.handleClearAll}},[t._v("-清除")])],1)])],2)]),t._l(t.requested,(function(e,n){return r("div",{key:n,staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v(t._s(0==n?"授权账号":""))]),r("div",{staticClass:"d-flex justify-content-start flex-grow-1"},[r("el-dropdown",{staticClass:"flex-grow-1",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{ref:"actor-"+n,refInFor:!0,attrs:{placeholder:"账号"},on:{input:function(e){return t.handleCheckAccount(n)}},model:{value:e.actor,callback:function(n){t.$set(e,"actor",n)},expression:"v.actor"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"actor-"+n}},[t._v(t._s(t.account.name))]),t._l(t.record.accounts,(function(e,a){return r("el-dropdown-item",{key:a,staticClass:"flexbc",attrs:{command:"account-"+e+"_actor-"+n}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("accounts-"+a)}}})])}))],2)],1),r("div",{staticClass:"flexcc fs-6 mx-1"},[t._v("@")]),r("el-dropdown",{staticClass:"flex-none w-80",attrs:{trigger:"click"},on:{command:t.handleCommand}},[r("el-input",{attrs:{placeholder:"权限"},model:{value:e.permission,callback:function(n){t.$set(e,"permission",n)},expression:"v.permission"}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"active-"+n}},[t._v("active")]),r("el-dropdown-item",{attrs:{command:"owner-"+n}},[t._v("owner")]),t._l(t.record.perms,(function(e,a){return r("el-dropdown-item",{key:a,staticClass:"flexbc",attrs:{command:"perm-"+e+"_"+n}},[r("div",[t._v(t._s(e))]),r("div",{staticClass:"el-icon-close rml-2",staticStyle:{cursor:"crosshair"},on:{click:function(e){return t.handleDeleteItem("perms-"+a)}}})])}))],2)],1),r("i",{staticClass:"el-icon-delete flexcc fs-6 rml-1 hover-pointer",on:{click:function(e){return t.handleDeletePerm(n)}}})],1)])})),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handleAddAccount}},[t._v("添加账号")])],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"},[t._v("过期时间")]),r("div",{staticClass:"d-flex flex-grow-1"},[r("el-input",{attrs:{type:"number"},model:{value:t.timeoutValue,callback:function(e){t.timeoutValue=e},expression:"timeoutValue"}}),r("el-select",{model:{value:t.timeoutUnit,callback:function(e){t.timeoutUnit=e},expression:"timeoutUnit"}},t._l(t.timeOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),r("div",{staticClass:"d-flex justify-content-start rmb-3"},[r("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),r("div",{staticClass:"flex-grow-1"},[r("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.handlePushProposal}},[t._v("提交提案")])],1)])],2),r("el-card",{staticClass:"rmt-2 rmb-2 fs-base"},[r("div",{staticClass:"fs-medium hardline flexbc"},[r("div",[t._v("日志信息")]),r("el-link",{staticClass:"fs-medium copy",attrs:{type:"primary","data-clipboard-action":"copy","data-clipboard-target":".content"}},[t._v("复制")])],1),r("el-divider"),r("div",{staticClass:"content"},t._l(t.logMsg,(function(e,n){return r("div",{key:n},[t._v(" "+t._s(n)+". "+t._s(e)+" ")])})),0)],1),r("NodeSet",{attrs:{visible:t.openNodeSet},on:{close:function(e){t.openNodeSet=!1}}}),r("RamDialog",{attrs:{visible:t.openRamDialog},on:{close:function(e){t.openRamDialog=!1}}}),r("CustomDialog",{attrs:{visible:t.openCustomDialog},on:{close:function(e){t.openCustomDialog=!1},add:t.handleCustomAdd}}),r("TransferDialog",{attrs:{visible:t.openTransferDialog},on:{close:function(e){t.openTransferDialog=!1},add:t.handleTransferAdd}}),r("SwapDialog",{attrs:{visible:t.openSwapDialog},on:{close:function(e){t.openSwapDialog=!1},add:t.handleSwapAdd}}),r("TownDialog",{attrs:{visible:t.openTownDialog},on:{close:function(e){t.openTownDialog=!1},add:t.handleTownAdd}}),r("NftDialog",{attrs:{visible:t.openNftDialog},on:{close:function(e){t.openNftDialog=!1},add:t.handleNftAdd}}),r("VipDialog",{attrs:{visible:t.openVipDialog},on:{close:function(e){t.openVipDialog=!1},update:t.handleSetVip}})],1)}),[],!1,null,null,null).exports),nt=n("365c"),rt=n("b970");n("157a");r.default.use(rt.a);var at=n("5c96"),st=n.n(at);n("0fae");r.default.use(st.a);n("c35d");r.default.prototype.$api=nt.default,r.default.config.productionTip=!1,new r.default({store:w.a,render:function(t){return t(et)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},7290:function(t,e,n){},"72cc":function(t,e,n){},"75c2":function(t,e,n){},"99b6":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"get_swap_summary",(function(){return f})),n.d(e,"get_swap_counter",(function(){return h})),n.d(e,"get_all_orders",(function(){return b})),n.d(e,"node_delay",(function(){return y})),n.d(e,"get_markets",(function(){return k})),n.d(e,"get_price",(function(){return w})),n.d(e,"get_market_info",(function(){return _})),n.d(e,"get_swap_lasters",(function(){return O})),n.d(e,"reg_newaccount",(function(){return N})),n.d(e,"pushFreeCpu",(function(){return $})),n.d(e,"pushFreeCpu2",(function(){return E})),n.d(e,"get_acc_bals",(function(){return I})),n.d(e,"tradelog",(function(){return P})),n.d(e,"depositlog",(function(){return F})),n.d(e,"get_fundation",(function(){return J})),n.d(e,"get_summary",(function(){return Q})),n.d(e,"get_new_fundation",(function(){return q}));var r=n("3835"),a=n("53ca"),s=n("1da1"),i=(n("96cf"),n("0d03"),n("d3b7"),n("25f0"),n("4795"),n("bc3a")),o=n.n(i),c=n("470b");function l(e){return c.inflateSync(new t(e,"base64")).toString()}function u(t){return new Promise((function(e,n){return setTimeout(e,t)}))}function d(t){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.then((function(t){if(200!=t.status)throw console.log(t),new Error("status code is ".concat(t.status));return[null,t.data]})).catch((function(t){return t instanceof Error?(console.log(t.message),[t.message,null]):t.response?(console.log(t.response),[JSON.stringify(t.response.data),null]):t.request?(console.log("no response"),["no response",null]):(console.log(t),"object"==Object(a.a)(t)?[JSON.stringify(t),null]:[t,null])})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/swap/summary2"));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/swap/counter"));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/pddex2/orders"));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,a=null,t.next=3,d(o.a.get("".concat(e,"/v1/chain/get_info"),{timeout:1e4}));case 3:return s=t.sent,i=Object(r.a)(s,2),n=i[0],a=i[1],t.abrupt("return",[n,a]);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/common/markets",{timeout:5e3}));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,{rows:JSON.parse(l(n))}]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/common/get_price"));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/apy/apy-by-mid",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/swap/marketlog",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={username:e.account,publickey:e.publickey},a=null,s=null,i=0;case 3:if(!(i<3)){t.next=19;break}return t.next=6,d(o.a.post("https://api.yfc.one/account/newaccount",JSON.stringify(n)));case 6:if(c=t.sent,l=Object(r.a)(c,2),a=l[0],!(s=l[1])){t.next=14;break}return t.abrupt("return",[a,s]);case 14:return t.next=16,u(2e3);case 16:i++,t.next=3;break;case 19:return t.abrupt("return",[a,s]);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,l,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=23;break}return t.next=5,d(o.a.post("https://api.yfc.one/account/pushaction",e));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])||200!=a.code){t.next=13;break}return t.abrupt("return",[n,a]);case 13:if(!a||200===a.code){t.next=18;break}return l=JSON.parse(a.msg),p=l.error.code,f=l.error.details[0].message,t.abrupt("return",[p+" "+f,null]);case 18:return t.next=20,u(2e3);case 20:s++,t.next=2;break;case 23:return t.abrupt("return",[n,a]);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c,l,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=23;break}return t.next=5,d(o.a.post("https://api.yfc.one/account/pushaction2",e));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])||200!=a.code){t.next=13;break}return t.abrupt("return",[n,a]);case 13:if(!a||200===a.code){t.next=18;break}return l=JSON.parse(a.msg),p=l.error.code,f=l.error.details[0].message,t.abrupt("return",[p+" "+f,null]);case 18:return t.next=20,u(2e3);case 20:s++,t.next=2;break;case 23:return t.abrupt("return",[n,a]);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.light.xeos.me/api/balances/eos/".concat(e)));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/swap/tradelog",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/swap/depositlog",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/history/fundation",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(regeneratorRuntime.mark((function t(){var e,n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null,n=null,a=0;case 2:if(!(a<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/fundation/summary"));case 5:if(s=t.sent,i=Object(r.a)(s,2),e=i[0],!(n=i[1])){t.next=13;break}return t.abrupt("return",[e,n]);case 13:return t.next=15,u(2e3);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",[e,n]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,a=null,s=0;case 2:if(!(s<3)){t.next=18;break}return t.next=5,d(o.a.get("https://api.yfc.one/dfs/fundation/new",{params:e}));case 5:if(i=t.sent,c=Object(r.a)(i,2),n=c[0],!(a=c[1])){t.next=13;break}return t.abrupt("return",[n,a]);case 13:return t.next=15,u(2e3);case 15:s++,t.next=2;break;case 18:return t.abrupt("return",[n,a]);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}.call(this,n("b639").Buffer)},"9c0c":function(t,e,n){},"9f19":function(t,e,n){var r={"./dfs.js":"99b6","./eosjs-api.js":"11ef","./index.js":"365c"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="9f19"},a17e:function(t,e,n){},a675:function(t,e,n){"use strict";n("b369")},b369:function(t,e,n){},bde9:function(t,e,n){},c35d:function(t,e,n){},d4e4:function(t,e,n){},dfba:function(t,e,n){"use strict";n("53f3")},e00b:function(t,e,n){"use strict";n("1942")},e011:function(t,e,n){"use strict";n("d4e4")},ea64:function(t,e,n){"use strict";n("14af")},fc74:function(t,e,n){}});